var cf=Object.create;var Oa=Object.defineProperty;var uf=Object.getOwnPropertyDescriptor;var lf=Object.getOwnPropertyNames;var ff=Object.getPrototypeOf,Ef=Object.prototype.hasOwnProperty;var hn=(k,S)=>()=>(S||k((S={exports:{}}).exports,S),S.exports);var _f=(k,S,D,W)=>{if(S&&typeof S=="object"||typeof S=="function")for(let X of lf(S))!Ef.call(k,X)&&X!==D&&Oa(k,X,{get:()=>S[X],enumerable:!(W=uf(S,X))||W.enumerable});return k};var Ta=(k,S,D)=>(D=k!=null?cf(ff(k)):{},_f(S||!k||!k.__esModule?Oa(D,"default",{value:k,enumerable:!0}):D,k));var Ia=hn((Aa,da)=>{(function(k){var S=Object.hasOwnProperty,D=Array.isArray?Array.isArray:function(A){return Object.prototype.toString.call(A)==="[object Array]"},W=10,X=typeof process=="object"&&typeof process.nextTick=="function",ae=typeof Symbol=="function",Ee=typeof Reflect=="object",be=typeof setImmediate=="function",ve=be?setImmediate:setTimeout,he=ae?Ee&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(p){var A=Object.getOwnPropertyNames(p);return A.push.apply(A,Object.getOwnPropertySymbols(p)),A}:Object.keys;function Oe(){this._events={},this._conf&&Le.call(this,this._conf)}function Le(p){p&&(this._conf=p,p.delimiter&&(this.delimiter=p.delimiter),p.maxListeners!==k&&(this._maxListeners=p.maxListeners),p.wildcard&&(this.wildcard=p.wildcard),p.newListener&&(this._newListener=p.newListener),p.removeListener&&(this._removeListener=p.removeListener),p.verboseMemoryLeak&&(this.verboseMemoryLeak=p.verboseMemoryLeak),p.ignoreErrors&&(this.ignoreErrors=p.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function Re(p,A){var P="(node) warning: possible EventEmitter memory leak detected. "+p+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(P+=" Event name: "+A+"."),typeof process<"u"&&process.emitWarning){var L=new Error(P);L.name="MaxListenersExceededWarning",L.emitter=this,L.count=p,process.emitWarning(L)}else console.error(P),console.trace&&console.trace()}var Ze=function(p,A,P){var L=arguments.length;switch(L){case 0:return[];case 1:return[p];case 2:return[p,A];case 3:return[p,A,P];default:for(var v=new Array(L);L--;)v[L]=arguments[L];return v}};function Rt(p,A){for(var P={},L,v=p.length,C=A?A.length:0,g=0;g<v;g++)L=p[g],P[L]=g<C?A[g]:k;return P}function ye(p,A,P){this._emitter=p,this._target=A,this._listeners={},this._listenersCount=0;var L,v;if((P.on||P.off)&&(L=P.on,v=P.off),A.addEventListener?(L=A.addEventListener,v=A.removeEventListener):A.addListener?(L=A.addListener,v=A.removeListener):A.on&&(L=A.on,v=A.off),!L&&!v)throw Error("target does not implement any known event API");if(typeof L!="function")throw TypeError("on method must be a function");if(typeof v!="function")throw TypeError("off method must be a function");this._on=L,this._off=v;var C=p._observers;C?C.push(this):p._observers=[this]}Object.assign(ye.prototype,{subscribe:function(p,A,P){var L=this,v=this._target,C=this._emitter,g=this._listeners,K=function(){var G=Ze.apply(null,arguments),_={data:G,name:A,original:p};if(P){var J=P.call(v,_);J!==!1&&C.emit.apply(C,[_.name].concat(G));return}C.emit.apply(C,[A].concat(G))};if(g[p])throw Error("Event '"+p+"' is already listening");this._listenersCount++,C._newListener&&C._removeListener&&!L._onNewListener?(this._onNewListener=function(G){G===A&&g[p]===null&&(g[p]=K,L._on.call(v,p,K))},C.on("newListener",this._onNewListener),this._onRemoveListener=function(G){G===A&&!C.hasListeners(G)&&g[p]&&(g[p]=null,L._off.call(v,p,K))},g[p]=null,C.on("removeListener",this._onRemoveListener)):(g[p]=K,L._on.call(v,p,K))},unsubscribe:function(p){var A=this,P=this._listeners,L=this._emitter,v,C,g=this._off,K=this._target,G;if(p&&typeof p!="string")throw TypeError("event must be a string");function _(){A._onNewListener&&(L.off("newListener",A._onNewListener),L.off("removeListener",A._onRemoveListener),A._onNewListener=null,A._onRemoveListener=null);var J=V.call(L,A);L._observers.splice(J,1)}if(p){if(v=P[p],!v)return;g.call(K,p,v),delete P[p],--this._listenersCount||_()}else{for(C=he(P),G=C.length;G-- >0;)p=C[G],g.call(K,p,P[p]);this._listeners={},this._listenersCount=0,_()}}});function Nt(p,A,P,L){var v=Object.assign({},A);if(!p)return v;if(typeof p!="object")throw TypeError("options must be an object");var C=Object.keys(p),g=C.length,K,G,_;function J(Pe){throw Error('Invalid "'+K+'" option value'+(Pe?". Reason: "+Pe:""))}for(var de=0;de<g;de++){if(K=C[de],!L&&!S.call(A,K))throw Error('Unknown "'+K+'" option');G=p[K],G!==k&&(_=P[K],v[K]=_?_(G,J):G)}return v}function ut(p,A){return(typeof p!="function"||!p.hasOwnProperty("prototype"))&&A("value must be a constructor"),p}function kt(p){var A="value must be type of "+p.join("|"),P=p.length,L=p[0],v=p[1];return P===1?function(C,g){if(typeof C===L)return C;g(A)}:P===2?function(C,g){var K=typeof C;if(K===L||K===v)return C;g(A)}:function(C,g){for(var K=typeof C,G=P;G-- >0;)if(K===p[G])return C;g(A)}}var ue=kt(["function"]),jt=kt(["object","function"]);function Ve(p,A,P){var L,v,C=0,g,K=new p(function(G,_,J){P=Nt(P,{timeout:0,overload:!1},{timeout:function(De,U){return De*=1,(typeof De!="number"||De<0||!Number.isFinite(De))&&U("timeout must be a positive number"),De}}),L=!P.overload&&typeof p.prototype.cancel=="function"&&typeof J=="function";function de(){v&&(v=null),C&&(clearTimeout(C),C=0)}var Pe=function(De){de(),G(De)},ke=function(De){de(),_(De)};L?A(Pe,ke,J):(v=[function(De){ke(De||Error("canceled"))}],A(Pe,ke,function(De){if(g)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof De!="function")throw TypeError("onCancel callback must be a function");v.push(De)}),g=!0),P.timeout>0&&(C=setTimeout(function(){var De=Error("timeout");De.code="ETIMEDOUT",C=0,K.cancel(De),_(De)},P.timeout))});return L||(K.cancel=function(G){if(v){for(var _=v.length,J=1;J<_;J++)v[J](G);v[0](G),v=null}}),K}function V(p){var A=this._observers;if(!A)return-1;for(var P=A.length,L=0;L<P;L++)if(A[L]._target===p)return L;return-1}function B(p,A,P,L,v){if(!P)return null;if(L===0){var C=typeof A;if(C==="string"){var g,K,G=0,_=0,J=this.delimiter,de=J.length;if((K=A.indexOf(J))!==-1){g=new Array(5);do g[G++]=A.slice(_,K),_=K+de;while((K=A.indexOf(J,_))!==-1);g[G++]=A.slice(_),A=g,v=G}else A=[A],v=1}else C==="object"?v=A.length:(A=[A],v=1)}var Pe=null,ke,De,U,u,a,Yt=A[L],Wt=A[L+1],Ke,T;if(L===v)P._listeners&&(typeof P._listeners=="function"?(p&&p.push(P._listeners),Pe=[P]):(p&&p.push.apply(p,P._listeners),Pe=[P]));else if(Yt==="*"){for(Ke=he(P),K=Ke.length;K-- >0;)ke=Ke[K],ke!=="_listeners"&&(T=B(p,A,P[ke],L+1,v),T&&(Pe?Pe.push.apply(Pe,T):Pe=T));return Pe}else if(Yt==="**"){for(a=L+1===v||L+2===v&&Wt==="*",a&&P._listeners&&(Pe=B(p,A,P,v,v)),Ke=he(P),K=Ke.length;K-- >0;)ke=Ke[K],ke!=="_listeners"&&(ke==="*"||ke==="**"?(P[ke]._listeners&&!a&&(T=B(p,A,P[ke],v,v),T&&(Pe?Pe.push.apply(Pe,T):Pe=T)),T=B(p,A,P[ke],L,v)):ke===Wt?T=B(p,A,P[ke],L+2,v):T=B(p,A,P[ke],L,v),T&&(Pe?Pe.push.apply(Pe,T):Pe=T));return Pe}else P[Yt]&&(Pe=B(p,A,P[Yt],L+1,v));if(De=P["*"],De&&B(p,A,De,L+1,v),U=P["**"],U)if(L<v)for(U._listeners&&B(p,A,U,v,v),Ke=he(U),K=Ke.length;K-- >0;)ke=Ke[K],ke!=="_listeners"&&(ke===Wt?B(p,A,U[ke],L+2,v):ke===Yt?B(p,A,U[ke],L+1,v):(u={},u[ke]=U[ke],B(p,A,{"**":u},L+1,v)));else U._listeners?B(p,A,U,v,v):U["*"]&&U["*"]._listeners&&B(p,A,U["*"],v,v);return Pe}function M(p,A,P){var L=0,v=0,C,g=this.delimiter,K=g.length,G;if(typeof p=="string")if((C=p.indexOf(g))!==-1){G=new Array(5);do G[L++]=p.slice(v,C),v=C+K;while((C=p.indexOf(g,v))!==-1);G[L++]=p.slice(v)}else G=[p],L=1;else G=p,L=p.length;if(L>1){for(C=0;C+1<L;C++)if(G[C]==="**"&&G[C+1]==="**")return}var _=this.listenerTree,J;for(C=0;C<L;C++)if(J=G[C],_=_[J]||(_[J]={}),C===L-1)return _._listeners?(typeof _._listeners=="function"&&(_._listeners=[_._listeners]),P?_._listeners.unshift(A):_._listeners.push(A),!_._listeners.warned&&this._maxListeners>0&&_._listeners.length>this._maxListeners&&(_._listeners.warned=!0,Re.call(this,_._listeners.length,J))):_._listeners=A,!0;return!0}function z(p,A,P,L){for(var v=he(p),C=v.length,g,K,G,_=p._listeners,J;C-- >0;)K=v[C],g=p[K],K==="_listeners"?G=P:G=P?P.concat(K):[K],J=L||typeof K=="symbol",_&&A.push(J?G:G.join(this.delimiter)),typeof g=="object"&&z.call(this,g,A,G,J);return A}function q(p){for(var A=he(p),P=A.length,L,v,C;P-- >0;)v=A[P],L=p[v],L&&(C=!0,v!=="_listeners"&&!q(L)&&delete p[v]);return C}function Te(p,A,P){this.emitter=p,this.event=A,this.listener=P}Te.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function _e(p,A,P){if(P===!0)v=!0;else if(P===!1)L=!0;else{if(!P||typeof P!="object")throw TypeError("options should be an object or true");var L=P.async,v=P.promisify,C=P.nextTick,g=P.objectify}if(L||C||v){var K=A,G=A._origin||A;if(C&&!X)throw Error("process.nextTick is not supported");v===k&&(v=A.constructor.name==="AsyncFunction"),A=function(){var _=arguments,J=this,de=this.event;return v?C?Promise.resolve():new Promise(function(Pe){ve(Pe)}).then(function(){return J.event=de,K.apply(J,_)}):(C?process.nextTick:ve)(function(){J.event=de,K.apply(J,_)})},A._async=!0,A._origin=G}return[A,g?new Te(this,p,A):this]}function ne(p){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,Le.call(this,p)}ne.EventEmitter2=ne,ne.prototype.listenTo=function(p,A,P){if(typeof p!="object")throw TypeError("target musts be an object");var L=this;P=Nt(P,{on:k,off:k,reducers:k},{on:ue,off:ue,reducers:jt});function v(C){if(typeof C!="object")throw TypeError("events must be an object");var g=P.reducers,K=V.call(L,p),G;K===-1?G=new ye(L,p,P):G=L._observers[K];for(var _=he(C),J=_.length,de,Pe=typeof g=="function",ke=0;ke<J;ke++)de=_[ke],G.subscribe(de,C[de]||de,Pe?g:g&&g[de])}return D(A)?v(Rt(A)):v(typeof A=="string"?Rt(A.split(/\s+/)):A),this},ne.prototype.stopListeningTo=function(p,A){var P=this._observers;if(!P)return!1;var L=P.length,v,C=!1;if(p&&typeof p!="object")throw TypeError("target should be an object");for(;L-- >0;)v=P[L],(!p||v._target===p)&&(v.unsubscribe(A),C=!0);return C},ne.prototype.delimiter=".",ne.prototype.setMaxListeners=function(p){p!==k&&(this._maxListeners=p,this._conf||(this._conf={}),this._conf.maxListeners=p)},ne.prototype.getMaxListeners=function(){return this._maxListeners},ne.prototype.event="",ne.prototype.once=function(p,A,P){return this._once(p,A,!1,P)},ne.prototype.prependOnceListener=function(p,A,P){return this._once(p,A,!0,P)},ne.prototype._once=function(p,A,P,L){return this._many(p,1,A,P,L)},ne.prototype.many=function(p,A,P,L){return this._many(p,A,P,!1,L)},ne.prototype.prependMany=function(p,A,P,L){return this._many(p,A,P,!0,L)},ne.prototype._many=function(p,A,P,L,v){var C=this;if(typeof P!="function")throw new Error("many only accepts instances of Function");function g(){return--A===0&&C.off(p,g),P.apply(this,arguments)}return g._origin=P,this._on(p,g,L,v)},ne.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||Oe.call(this);var p=arguments[0],A,P=this.wildcard,L,v,C,g,K;if(p==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(P&&(A=p,p!=="newListener"&&p!=="removeListener"&&typeof p=="object")){if(v=p.length,ae){for(C=0;C<v;C++)if(typeof p[C]=="symbol"){K=!0;break}}K||(p=p.join(this.delimiter))}var G=arguments.length,_;if(this._all&&this._all.length)for(_=this._all.slice(),C=0,v=_.length;C<v;C++)switch(this.event=p,G){case 1:_[C].call(this,p);break;case 2:_[C].call(this,p,arguments[1]);break;case 3:_[C].call(this,p,arguments[1],arguments[2]);break;default:_[C].apply(this,arguments)}if(P)_=[],B.call(this,_,A,this.listenerTree,0,v);else if(_=this._events[p],typeof _=="function"){switch(this.event=p,G){case 1:_.call(this);break;case 2:_.call(this,arguments[1]);break;case 3:_.call(this,arguments[1],arguments[2]);break;default:for(L=new Array(G-1),g=1;g<G;g++)L[g-1]=arguments[g];_.apply(this,L)}return!0}else _&&(_=_.slice());if(_&&_.length){if(G>3)for(L=new Array(G-1),g=1;g<G;g++)L[g-1]=arguments[g];for(C=0,v=_.length;C<v;C++)switch(this.event=p,G){case 1:_[C].call(this);break;case 2:_[C].call(this,arguments[1]);break;case 3:_[C].call(this,arguments[1],arguments[2]);break;default:_[C].apply(this,L)}return!0}else if(!this.ignoreErrors&&!this._all&&p==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},ne.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||Oe.call(this);var p=arguments[0],A=this.wildcard,P,L,v,C,g,K;if(p==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(A&&(P=p,p!=="newListener"&&p!=="removeListener"&&typeof p=="object")){if(C=p.length,ae){for(g=0;g<C;g++)if(typeof p[g]=="symbol"){L=!0;break}}L||(p=p.join(this.delimiter))}var G=[],_=arguments.length,J;if(this._all)for(g=0,C=this._all.length;g<C;g++)switch(this.event=p,_){case 1:G.push(this._all[g].call(this,p));break;case 2:G.push(this._all[g].call(this,p,arguments[1]));break;case 3:G.push(this._all[g].call(this,p,arguments[1],arguments[2]));break;default:G.push(this._all[g].apply(this,arguments))}if(A?(J=[],B.call(this,J,P,this.listenerTree,0)):J=this._events[p],typeof J=="function")switch(this.event=p,_){case 1:G.push(J.call(this));break;case 2:G.push(J.call(this,arguments[1]));break;case 3:G.push(J.call(this,arguments[1],arguments[2]));break;default:for(v=new Array(_-1),K=1;K<_;K++)v[K-1]=arguments[K];G.push(J.apply(this,v))}else if(J&&J.length){if(J=J.slice(),_>3)for(v=new Array(_-1),K=1;K<_;K++)v[K-1]=arguments[K];for(g=0,C=J.length;g<C;g++)switch(this.event=p,_){case 1:G.push(J[g].call(this));break;case 2:G.push(J[g].call(this,arguments[1]));break;case 3:G.push(J[g].call(this,arguments[1],arguments[2]));break;default:G.push(J[g].apply(this,v))}}else if(!this.ignoreErrors&&!this._all&&p==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(G)},ne.prototype.on=function(p,A,P){return this._on(p,A,!1,P)},ne.prototype.prependListener=function(p,A,P){return this._on(p,A,!0,P)},ne.prototype.onAny=function(p){return this._onAny(p,!1)},ne.prototype.prependAny=function(p){return this._onAny(p,!0)},ne.prototype.addListener=ne.prototype.on,ne.prototype._onAny=function(p,A){if(typeof p!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),A?this._all.unshift(p):this._all.push(p),this},ne.prototype._on=function(p,A,P,L){if(typeof p=="function")return this._onAny(p,A),this;if(typeof A!="function")throw new Error("on only accepts instances of Function");this._events||Oe.call(this);var v=this,C;return L!==k&&(C=_e.call(this,p,A,L),A=C[0],v=C[1]),this._newListener&&this.emit("newListener",p,A),this.wildcard?(M.call(this,p,A,P),v):(this._events[p]?(typeof this._events[p]=="function"&&(this._events[p]=[this._events[p]]),P?this._events[p].unshift(A):this._events[p].push(A),!this._events[p].warned&&this._maxListeners>0&&this._events[p].length>this._maxListeners&&(this._events[p].warned=!0,Re.call(this,this._events[p].length,p))):this._events[p]=A,v)},ne.prototype.off=function(p,A){if(typeof A!="function")throw new Error("removeListener only takes instances of Function");var P,L=[];if(this.wildcard){var v=typeof p=="string"?p.split(this.delimiter):p.slice();if(L=B.call(this,null,v,this.listenerTree,0),!L)return this}else{if(!this._events[p])return this;P=this._events[p],L.push({_listeners:P})}for(var C=0;C<L.length;C++){var g=L[C];if(P=g._listeners,D(P)){for(var K=-1,G=0,_=P.length;G<_;G++)if(P[G]===A||P[G].listener&&P[G].listener===A||P[G]._origin&&P[G]._origin===A){K=G;break}if(K<0)continue;return this.wildcard?g._listeners.splice(K,1):this._events[p].splice(K,1),P.length===0&&(this.wildcard?delete g._listeners:delete this._events[p]),this._removeListener&&this.emit("removeListener",p,A),this}else(P===A||P.listener&&P.listener===A||P._origin&&P._origin===A)&&(this.wildcard?delete g._listeners:delete this._events[p],this._removeListener&&this.emit("removeListener",p,A))}return this.listenerTree&&q(this.listenerTree),this},ne.prototype.offAny=function(p){var A=0,P=0,L;if(p&&this._all&&this._all.length>0){for(L=this._all,A=0,P=L.length;A<P;A++)if(p===L[A])return L.splice(A,1),this._removeListener&&this.emit("removeListenerAny",p),this}else{if(L=this._all,this._removeListener)for(A=0,P=L.length;A<P;A++)this.emit("removeListenerAny",L[A]);this._all=[]}return this},ne.prototype.removeListener=ne.prototype.off,ne.prototype.removeAllListeners=function(p){if(p===k)return!this._events||Oe.call(this),this;if(this.wildcard){var A=B.call(this,null,p,this.listenerTree,0),P,L;if(!A)return this;for(L=0;L<A.length;L++)P=A[L],P._listeners=null;this.listenerTree&&q(this.listenerTree)}else this._events&&(this._events[p]=null);return this},ne.prototype.listeners=function(p){var A=this._events,P,L,v,C,g;if(p===k){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!A)return[];for(P=he(A),C=P.length,v=[];C-- >0;)L=A[P[C]],typeof L=="function"?v.push(L):v.push.apply(v,L);return v}else{if(this.wildcard){if(g=this.listenerTree,!g)return[];var K=[],G=typeof p=="string"?p.split(this.delimiter):p.slice();return B.call(this,K,G,g,0),K}return A?(L=A[p],L?typeof L=="function"?[L]:L:[]):[]}},ne.prototype.eventNames=function(p){var A=this._events;return this.wildcard?z.call(this,this.listenerTree,[],null,p):A?he(A):[]},ne.prototype.listenerCount=function(p){return this.listeners(p).length},ne.prototype.hasListeners=function(p){if(this.wildcard){var A=[],P=typeof p=="string"?p.split(this.delimiter):p.slice();return B.call(this,A,P,this.listenerTree,0),A.length>0}var L=this._events,v=this._all;return!!(v&&v.length||L&&(p===k?he(L).length:L[p]))},ne.prototype.listenersAny=function(){return this._all?this._all:[]},ne.prototype.waitFor=function(p,A){var P=this,L=typeof A;return L==="number"?A={timeout:A}:L==="function"&&(A={filter:A}),A=Nt(A,{timeout:0,filter:k,handleError:!1,Promise,overload:!1},{filter:ue,Promise:ut}),Ve(A.Promise,function(v,C,g){function K(){var G=A.filter;if(!(G&&!G.apply(P,arguments)))if(P.off(p,K),A.handleError){var _=arguments[0];_?C(_):v(Ze.apply(null,arguments).slice(1))}else v(Ze.apply(null,arguments))}g(function(){P.off(p,K)}),P._on(p,K,!1)},{timeout:A.timeout,overload:A.overload})};function Ge(p,A,P){P=Nt(P,{Promise,timeout:0,overload:!1},{Promise:ut});var L=P.Promise;return Ve(L,function(v,C,g){var K;if(typeof p.addEventListener=="function"){K=function(){v(Ze.apply(null,arguments))},g(function(){p.removeEventListener(A,K)}),p.addEventListener(A,K,{once:!0});return}var G=function(){_&&p.removeListener("error",_),v(Ze.apply(null,arguments))},_;A!=="error"&&(_=function(J){p.removeListener(A,G),C(J)},p.once("error",_)),g(function(){_&&p.removeListener("error",_),p.removeListener(A,G)}),p.once(A,G)},{timeout:P.timeout,overload:P.overload})}var bt=ne.prototype;if(Object.defineProperties(ne,{defaultMaxListeners:{get:function(){return bt._maxListeners},set:function(p){if(typeof p!="number"||p<0||Number.isNaN(p))throw TypeError("n must be a non-negative number");bt._maxListeners=p},enumerable:!0},once:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperties(bt,{_maxListeners:{value:W,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return ne});else if(typeof Aa=="object")da.exports=ne;else{var _t=new Function("","return this")();_t.EventEmitter2=ne}})()});var Sa=hn((qp,Na)=>{Na.exports=Ia()});var Pa=hn((Pn,ha)=>{(function(k,S){var D=S(k);if(typeof define=="function"&&define.amd)define("DeepDiff",function(){return D});else if(typeof Pn=="object"||typeof navigator=="object"&&navigator.product.match(/ReactNative/i))ha.exports=D;else{var W=k.DeepDiff;D.noConflict=function(){return k.DeepDiff===D&&(k.DeepDiff=W),D},k.DeepDiff=D}})(Pn,function(k){var S=["N","E","A","D"];function D(V,B){V.super_=B,V.prototype=Object.create(B.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}})}function W(V,B){Object.defineProperty(this,"kind",{value:V,enumerable:!0}),B&&B.length&&Object.defineProperty(this,"path",{value:B,enumerable:!0})}function X(V,B,M){X.super_.call(this,"E",V),Object.defineProperty(this,"lhs",{value:B,enumerable:!0}),Object.defineProperty(this,"rhs",{value:M,enumerable:!0})}D(X,W);function ae(V,B){ae.super_.call(this,"N",V),Object.defineProperty(this,"rhs",{value:B,enumerable:!0})}D(ae,W);function Ee(V,B){Ee.super_.call(this,"D",V),Object.defineProperty(this,"lhs",{value:B,enumerable:!0})}D(Ee,W);function be(V,B,M){be.super_.call(this,"A",V),Object.defineProperty(this,"index",{value:B,enumerable:!0}),Object.defineProperty(this,"item",{value:M,enumerable:!0})}D(be,W);function ve(V,B,M){var z=V.slice((M||B)+1||V.length);return V.length=B<0?V.length+B:B,V.push.apply(V,z),V}function he(V){var B=typeof V;return B!=="object"?B:V===Math?"math":V===null?"null":Array.isArray(V)?"array":Object.prototype.toString.call(V)==="[object Date]"?"date":typeof V.toString=="function"&&/^\/.*\//.test(V.toString())?"regexp":"object"}function Oe(V){var B=0;if(V.length===0)return B;for(var M=0;M<V.length;M++){var z=V.charCodeAt(M);B=(B<<5)-B+z,B=B&B}return B}function Le(V){var B=0,M=he(V);if(M==="array"){V.forEach(function(ne){B+=Le(ne)});var z="[type: array, hash: "+B+"]";return B+Oe(z)}if(M==="object"){for(var q in V)if(V.hasOwnProperty(q)){var Te="[ type: object, key: "+q+", value hash: "+Le(V[q])+"]";B+=Oe(Te)}return B}var _e="[ type: "+M+" ; value: "+V+"]";return B+Oe(_e)}function Re(V,B,M,z,q,Te,_e,ne){M=M||[],q=q||[],_e=_e||[];var Ge=q.slice(0);if(typeof Te<"u"&&Te!==null){if(z){if(typeof z=="function"&&z(Ge,Te))return;if(typeof z=="object"){if(z.prefilter&&z.prefilter(Ge,Te))return;if(z.normalize){var bt=z.normalize(Ge,Te,V,B);bt&&(V=bt[0],B=bt[1])}}}Ge.push(Te)}he(V)==="regexp"&&he(B)==="regexp"&&(V=V.toString(),B=B.toString());var _t=typeof V,p=typeof B,A,P,L,v,C=_t!=="undefined"||_e&&_e.length>0&&_e[_e.length-1].lhs&&Object.getOwnPropertyDescriptor(_e[_e.length-1].lhs,Te),g=p!=="undefined"||_e&&_e.length>0&&_e[_e.length-1].rhs&&Object.getOwnPropertyDescriptor(_e[_e.length-1].rhs,Te);if(!C&&g)M.push(new ae(Ge,B));else if(!g&&C)M.push(new Ee(Ge,V));else if(he(V)!==he(B))M.push(new X(Ge,V,B));else if(he(V)==="date"&&V-B!==0)M.push(new X(Ge,V,B));else if(_t==="object"&&V!==null&&B!==null){for(A=_e.length-1;A>-1;--A)if(_e[A].lhs===V){v=!0;break}if(v)V!==B&&M.push(new X(Ge,V,B));else{if(_e.push({lhs:V,rhs:B}),Array.isArray(V)){for(ne&&(V.sort(function(_,J){return Le(_)-Le(J)}),B.sort(function(_,J){return Le(_)-Le(J)})),A=B.length-1,P=V.length-1;A>P;)M.push(new be(Ge,A,new ae(void 0,B[A--])));for(;P>A;)M.push(new be(Ge,P,new Ee(void 0,V[P--])));for(;A>=0;--A)Re(V[A],B[A],M,z,Ge,A,_e,ne)}else{var K=Object.keys(V),G=Object.keys(B);for(A=0;A<K.length;++A)L=K[A],v=G.indexOf(L),v>=0?(Re(V[L],B[L],M,z,Ge,L,_e,ne),G[v]=null):Re(V[L],void 0,M,z,Ge,L,_e,ne);for(A=0;A<G.length;++A)L=G[A],L&&Re(void 0,B[L],M,z,Ge,L,_e,ne)}_e.length=_e.length-1}}else V!==B&&(_t==="number"&&isNaN(V)&&isNaN(B)||M.push(new X(Ge,V,B)))}function Ze(V,B,M,z,q){var Te=[];if(Re(V,B,Te,z,null,null,null,q),M)for(var _e=0;_e<Te.length;++_e)M(Te[_e]);return Te}function Rt(V,B,M,z,q,Te,_e){return Re(V,B,M,z,q,Te,_e,!0)}function ye(V,B,M,z){var q=z?function(_e){_e&&z.push(_e)}:void 0,Te=Ze(V,B,q,M);return z||(Te.length?Te:void 0)}function Nt(V,B,M,z){var q=z?function(_e){_e&&z.push(_e)}:void 0,Te=Ze(V,B,q,M,!0);return z||(Te.length?Te:void 0)}function ut(V,B,M){if(M.path&&M.path.length){var z=V[B],q,Te=M.path.length-1;for(q=0;q<Te;q++)z=z[M.path[q]];switch(M.kind){case"A":ut(z[M.path[q]],M.index,M.item);break;case"D":delete z[M.path[q]];break;case"E":case"N":z[M.path[q]]=M.rhs;break}}else switch(M.kind){case"A":ut(V[B],M.index,M.item);break;case"D":V=ve(V,B);break;case"E":case"N":V[B]=M.rhs;break}return V}function kt(V,B,M){if(typeof M>"u"&&B&&~S.indexOf(B.kind)&&(M=B),V&&M&&M.kind){for(var z=V,q=-1,Te=M.path?M.path.length-1:0;++q<Te;)typeof z[M.path[q]]>"u"&&(z[M.path[q]]=typeof M.path[q+1]<"u"&&typeof M.path[q+1]=="number"?[]:{}),z=z[M.path[q]];switch(M.kind){case"A":M.path&&typeof z[M.path[q]]>"u"&&(z[M.path[q]]=[]),ut(M.path?z[M.path[q]]:z,M.index,M.item);break;case"D":delete z[M.path[q]];break;case"E":case"N":z[M.path[q]]=M.rhs;break}}}function ue(V,B,M){if(M.path&&M.path.length){var z=V[B],q,Te=M.path.length-1;for(q=0;q<Te;q++)z=z[M.path[q]];switch(M.kind){case"A":ue(z[M.path[q]],M.index,M.item);break;case"D":z[M.path[q]]=M.lhs;break;case"E":z[M.path[q]]=M.lhs;break;case"N":delete z[M.path[q]];break}}else switch(M.kind){case"A":ue(V[B],M.index,M.item);break;case"D":V[B]=M.lhs;break;case"E":V[B]=M.lhs;break;case"N":V=ve(V,B);break}return V}function jt(V,B,M){if(V&&B&&M&&M.kind){var z=V,q,Te;for(Te=M.path.length-1,q=0;q<Te;q++)typeof z[M.path[q]]>"u"&&(z[M.path[q]]={}),z=z[M.path[q]];switch(M.kind){case"A":ue(z[M.path[q]],M.index,M.item);break;case"D":z[M.path[q]]=M.lhs;break;case"E":z[M.path[q]]=M.lhs;break;case"N":delete z[M.path[q]];break}}}function Ve(V,B,M){if(V&&B){var z=function(q){(!M||M(V,B,q))&&kt(V,B,q)};Ze(V,B,z)}}return Object.defineProperties(ye,{diff:{value:ye,enumerable:!0},orderIndependentDiff:{value:Nt,enumerable:!0},observableDiff:{value:Ze,enumerable:!0},orderIndependentObservableDiff:{value:Rt,enumerable:!0},orderIndepHash:{value:Le,enumerable:!0},applyDiff:{value:Ve,enumerable:!0},applyChange:{value:kt,enumerable:!0},revertChange:{value:jt,enumerable:!0},isConflict:{value:function(){return typeof $conflict<"u"},enumerable:!0}}),ye.DeepDiff=ye,k&&(k.DeepDiff=ye),ye})});var fl=Ta(Sa(),1),El=Ta(Pa(),1);var pf="as",mf="=",bf="break",Of="else",Tf="enum",Af="export",df="if",If="import",Nf="->",Sf="is",hf="loop",Pf="mut",Lf="native",Rf="object",kf="fn",Cf="return",vf="self",yf="template",Uf=Object.freeze({ALIAS:pf,ASSIGN:mf,BREAK:bf,ELSE:Of,ENUMERATION:Tf,EXPORT:Af,IF:df,IMPORT:If,INTO:Nf,IS:Sf,LOOP:hf,MUTABLE:Pf,NATIVE:Lf,OBJECT:Rf,PROCEDURE:kf,RETURN:Cf,SELF:vf,TEMPLATE:yf}),La=Uf;var Bf="assign",Df="arity_match",Mf="arity_status",Ff="array_assignment",jf="branch-match",Yf="branch-default",wf="condition",gf="loop",Vf="data",Gf="generics",$f="enumeration",Kf="expression",Hf="instance",zf="Link",Xf="local",Wf="object",Jf="procedure",Zf="return",qf="compare",Qf="select",xf="member",eE="store",tE="break",sE="literal",nE="array_access",oE="valueLink",aE="linkValue",rE="self",cE="procedure-call",uE="Maybe",iE="native",lE="move",fE="String",EE="Array",_E="import",pE="library",mE="constructor",bE="destructor",OE="free",TE="block-end",AE="default-block",dE="continue",IE="branch",NE="statement",SE="draw",hE="now",PE="size",LE="concatenation",RE="foreach",kE="while",CE="when",vE="while-condition",yE="foreach-condition",UE="foreach-end",BE="for",DE="up_to",ME="down_to",FE="almost_up_to",jE="almost_down_to",YE="I32",wE="U32",gE="FP32",VE="I16",GE="U16",$E="U8",KE="I8",HE="FP64",zE="U64",XE="I64",WE="Char",JE="block-start",ZE="function-call",qE="Bool",QE=Object.freeze({TYPES_ASSIGN:Bf,TYPES_ARRAY:EE,TYPES_ARITY_MATCH:Df,TYPES_ARITY_STATUS:Mf,TYPES_ARRAY_ASSIGNMENT:Ff,TYPES_BRANCH_MATCH:jf,TYPES_BRANCH_DEFAULT:Yf,TYPES_CONDITION:wf,TYPES_LOOP:gf,TYPES_FOREACH_END:UE,TYPES_WHILE_CONDITION:vE,TYPES_FOREACH_CONDITION:yE,TYPES_DATA:Vf,TYPES_COMPARE:qf,TYPES_GENERICS:Gf,TYPES_ENUMERATION:$f,TYPES_EXPRESSION:Kf,TYPES_INSTANCE:Hf,TYPES_LINK:zf,TYPES_IMPORT:_E,TYPES_LOCAL:Xf,TYPES_OBJECT:Wf,TYPES_PROCEDURE:Jf,TYPES_RETURN:Zf,TYPES_SELECT:Qf,TYPES_MEMBER:xf,TYPES_STORE:eE,TYPES_BREAK:tE,TYPES_LITERAL:sE,TYPES_ARRAY_ACCESS:nE,TYPES_LINK_TO:oE,TYPES_VALUE_AT:aE,TYPES_SELF:rE,TYPES_LIBRARY:pE,TYPES_DROP:cE,TYPES_MAYBE:uE,TYPES_NATIVE:iE,TYPES_MOVE:lE,TYPES_STRING:fE,TYPES_CONSTRUCTOR:mE,TYPES_FREE:OE,TYPES_DEFAULT_BLOCK:AE,TYPES_BLOCK_END:TE,TYPES_CONTINUE:dE,TYPES_BRANCH:IE,TYPES_STATEMENT:NE,TYPES_DESTRUCTOR:bE,TYPES_DRAW:SE,TYPES_NOW:hE,TYPES_SIZE:PE,TYPES_CONCAT:LE,TYPES_FOREACH:RE,TYPES_WHILE:kE,TYPES_WHEN:CE,TYPES_FOR:BE,TYPES_UP_TO:DE,TYPES_DOWN_TO:ME,TYPES_ALMOST_UP_TO:FE,TYPES_ALMOST_DOWN_TO:jE,TYPES_I32:YE,TYPES_FP32:gE,TYPES_FP64:HE,TYPES_U32:wE,TYPES_I64:XE,TYPES_U64:zE,TYPES_I16:VE,TYPES_U16:GE,TYPES_I8:KE,TYPES_U8:$E,TYPES_CHAR:WE,TYPES_BOOL:qE,TYPES_BLOCK_BEGIN:JE,TYPES_FUNCTION_CALL:ZE}),Ln=QE;var xE=Object.freeze({COLON:58,COMMA:44,DIGIT_ZERO:48,DIGIT_NINE:57,DOT:46,HASHTAG:35,HORIZONTAL_TAB:9,HYPHEN_MINUS:45,LEFT_CURLY_BRACKET:123,LEFT_PARENTHESIS:40,LEFT_SQUARE_BRACKET:91,LINE_BREAK:10,NULL:0,PLUS_SIGN:43,RIGHT_CURLY_BRACKET:125,RIGHT_PARENTHESIS:41,RIGHT_SQUARE_BRACKET:93,SEMICOLON:59,SPACE:32,E_SIGN:101}),Ra=xE;var e_="assignment",t_="Flogram",s_=Object.freeze({K_ASSIGNMENT:e_,K_FLOGRAM:t_}),ka=s_;var n_=Object.freeze([[43],[45],[42],[47],[37],[110,111,116],[60],[62],[94],[111,114],[33],[61,61],[60,61],[62,61],[33,61],[120,111,114],[97,110,100]]),o_=n_,Ca=o_;var a_=Object.freeze({INT_ARRAY_START:9999991,FLOAT_ARRAY_START:9999981,STRING_START:8888891,CHAR_START:8888881,NAT_ON_HORIZON:7777791,BIG_NAT_ON_HORIZON:7777591,FLOAT_ON_HORIZON:7777771,BIG_FLOAT_ON_HORIZON:7777731,END_OF_LINE:66666661}),va=a_;var r_=Object.freeze({ENUM_MEMORY_SIZE:12,ENUM_STACK_SIZE:3,ARRAY_MEMORY_SIZE:12,ARRAY_STACK_SIZE:3,ARRAY_DEFAULT_CAPACITY:4,STRING_MEMORY_SIZE:8,STRING_STACK_SIZE:2,OBJECT_MEMORY_SIZE:8,OBJECT_STACK_SIZE:2,NATIVE_MEMORY_SIZE:4,NATIVE_STACK_SIZE:1,NATIVE_SIZE:4,STEP:4,DOUBLE_STEP:8,TRIPPLE_STEP:12}),ya=r_;var c_=Object.freeze([]),u_=Object.freeze({}),it="",i_="	",l_=`
`,f_="UTF-8",Ua=Ln,E_=Object.freeze({EMPTY_ARRAY:c_,EMPTY_OBJECT:u_,EMPTY_STRING:it,HORIZONTAL_TAB:i_,LINE_BREAK:l_,UNICODE_TEXT:f_,Codes:Ra,Keys:La,Types:Ln,Keywords:ka,Operators:Ca,DrawStates:va,Sizes:ya}),qt=E_;function I(k,S=[],D=""){let W=S.map((ae,Ee)=>({name:`operand${Ee+1}`,data:{type:"data",name:ae,path:"Flogram"}})),X={type:"native",name:k,path:"Flogram",description:{inputs:W,outputs:D&&S.length<=0?null:[{name:"result",data:{type:"data",name:D||(S.length>0?S[0]:""),path:"Flogram"}}]}};return Object.freeze(X)}var __=Object.freeze({"+":[I("+",["FP64","FP64"]),I("+",["U64","U64"]),I("+",["I64","I64"]),I("+",["FP32","FP32"]),I("+",["U32","U32"]),I("+",["I32","I32"]),I("+",["U16","U16"]),I("+",["I16","I16"]),I("+",["U8","U8"]),I("+",["I8","I8"]),I("+",["any","any"])],"-":[I("-",["FP64","FP64"]),I("-",["U64","U64"]),I("-",["I64","I64"]),I("-",["FP32","FP32"]),I("-",["U32","U32"]),I("-",["I32","I32"]),I("-",["U16","U16"]),I("-",["I16","I16"]),I("-",["U8","U8"]),I("-",["I8","I8"]),I("-",["any","any"]),I("-",["FP64"]),I("-",["I64"]),I("-",["FP32"]),I("-",["I32"]),I("-",["I16"]),I("-",["I8"]),I("-",["any"])],"*":[I("*",["FP64","FP64"]),I("*",["U64","U64"]),I("*",["I64","I64"]),I("*",["FP32","FP32"]),I("*",["U32","U32"]),I("*",["I32","I32"]),I("*",["U16","U16"]),I("*",["I16","I16"]),I("*",["U8","U8"]),I("*",["I8","I8"]),I("*",["any","any"])],"/":[I("/",["FP64","FP64"]),I("/",["U64","U64"]),I("/",["I64","I64"]),I("/",["FP32","FP32"]),I("/",["U32","U32"]),I("/",["I32","I32"]),I("/",["U16","U16"]),I("/",["I16","I16"]),I("/",["U8","U8"]),I("/",["I8","I8"]),I("/",["any","any"])],"%":[I("%",["I64","I64"]),I("%",["U64","U64"]),I("%",["I32","I32"]),I("%",["U32","U32"]),I("%",["I16","I16"]),I("%",["U16","U16"]),I("%",["I8","I8"]),I("%",["U8","U8"]),I("%",["any","any"])],"!=":[I("!=",["FP64","FP64"],"Bool"),I("!=",["U64","U64"],"Bool"),I("!=",["I64","I64"],"Bool"),I("!=",["FP32","FP32"],"Bool"),I("!=",["U32","U32"],"Bool"),I("!=",["I32","I32"],"Bool"),I("!=",["U16","U16"],"Bool"),I("!=",["I16","I16"],"Bool"),I("!=",["U8","U8"],"Bool"),I("!=",["I8","I8"],"Bool"),I("==",["Char","Char"],"Bool"),I("!=",["Bool","Bool"],"Bool"),I("!=",["any","any"],"any")],"==":[I("==",["FP64","FP64"],"Bool"),I("==",["U64","U64"],"Bool"),I("==",["I64","I64"],"Bool"),I("==",["FP32","FP32"],"Bool"),I("==",["U32","U32"],"Bool"),I("==",["I32","I32"],"Bool"),I("==",["U16","U16"],"Bool"),I("==",["I16","I16"],"Bool"),I("==",["U8","U8"],"Bool"),I("==",["I8","I8"],"Bool"),I("==",["Char","Char"],"Bool"),I("==",["Bool","Bool"],"Bool"),I("==",["any","any"],"any")],">":[I(">",["FP64","FP64"],"Bool"),I(">",["U64","U64"],"Bool"),I(">",["I64","I64"],"Bool"),I(">",["FP32","FP32"],"Bool"),I(">",["U32","U32"],"Bool"),I(">",["I32","I32"],"Bool"),I(">",["U16","U16"],"Bool"),I(">",["I16","I16"],"Bool"),I(">",["U8","U8"],"Bool"),I(">",["I8","I8"],"Bool"),I(">",["Char","Char"],"Bool"),I(">",["any","any"],"any")],"<":[I("<",["FP64","FP64"],"Bool"),I("<",["U64","U64"],"Bool"),I("<",["I64","I64"],"Bool"),I("<",["FP32","FP32"],"Bool"),I("<",["U32","U32"],"Bool"),I("<",["I32","I32"],"Bool"),I("<",["U16","U16"],"Bool"),I("<",["I16","I16"],"Bool"),I("<",["U8","U8"],"Bool"),I("<",["I8","I8"],"Bool"),I("<",["Char","Char"],"Bool"),I("<",["any","any"],"any")],">=":[I(">=",["FP64","FP64"],"Bool"),I(">=",["U64","U64"],"Bool"),I(">=",["I64","I64"],"Bool"),I(">=",["FP32","FP32"],"Bool"),I(">=",["U32","U32"],"Bool"),I(">=",["I32","I32"],"Bool"),I(">=",["U16","U16"],"Bool"),I(">=",["I16","I16"],"Bool"),I(">=",["U8","U8"],"Bool"),I(">=",["I8","I8"],"Bool"),I(">=",["Char","Char"],"Bool"),I(">=",["any","any"],"any")],"<=":[I("<=",["FP64","FP64"],"Bool"),I("<=",["U64","U64"],"Bool"),I("<=",["I64","I64"],"Bool"),I("<=",["FP32","FP32"],"Bool"),I("<=",["U32","U32"],"Bool"),I("<=",["I32","I32"],"Bool"),I("<=",["U16","U16"],"Bool"),I("<=",["I16","I16"],"Bool"),I("<=",["U8","U8"],"Bool"),I("<=",["I8","I8"],"Bool"),I("<=",["Char","Char"],"Bool"),I("<=",["any","any"],"any")],and:[I("and",["Bool","Bool"],"Bool"),I("and",["any","any"],"any")],xor:[I("xor",["Bool","Bool"],"Bool"),I("xor",["any","any"],"any")],or:[I("or",["Bool","Bool"],"Bool"),I("or",["any","any"],"any")],not:[I("not",["Bool"],"Bool"),I("not",["any"],"any")],I32:[I("I32",["FP64"],"I32"),I("I32",["U64"],"I32"),I("I32",["I64"],"I32"),I("I32",["FP32"],"I32"),I("I32",["U32"],"I32"),I("I32",["U16"],"I32"),I("I32",["I16"],"I32"),I("I32",["U8"],"I32"),I("I32",["I8"],"I32"),I("I32",["Char"],"I32"),I("I32",["any"],"any")],U32:[I("U32",["FP64"],"U32"),I("U32",["U64"],"U32"),I("U32",["I64"],"U32"),I("U32",["FP32"],"U32"),I("U32",["I32"],"U32"),I("U32",["U16"],"U32"),I("U32",["I16"],"U32"),I("U32",["U8"],"U32"),I("U32",["I8"],"U32"),I("U32",["Char"],"U32"),I("U32",["any"],"any")],I64:[I("I64",["FP64"],"I64"),I("I64",["U64"],"I64"),I("I64",["FP32"],"I64"),I("I64",["U32"],"I64"),I("I64",["I32"],"I64"),I("I64",["U16"],"I64"),I("I64",["I16"],"I64"),I("I64",["U8"],"I64"),I("I64",["I8"],"I64"),I("I64",["Char"],"I64"),I("I64",["any"],"any")],U64:[I("U64",["FP64"],"U64"),I("U64",["I64"],"U64"),I("U64",["FP32"],"U64"),I("U64",["U32"],"U64"),I("U64",["I32"],"U64"),I("U64",["U16"],"U64"),I("U64",["I16"],"U64"),I("U64",["U8"],"U64"),I("U64",["I8"],"U64"),I("U64",["Char"],"U64"),I("U64",["any"],"any")],FP32:[I("FP32",["FP64"],"FP32"),I("FP32",["U64"],"FP32"),I("FP32",["I64"],"FP32"),I("FP32",["U32"],"FP32"),I("FP32",["I32"],"FP32"),I("FP32",["U16"],"FP32"),I("FP32",["I16"],"FP32"),I("FP32",["U8"],"FP32"),I("FP32",["I8"],"FP32"),I("FP32",["any"],"any")],FP64:[I("FP64",["U64"],"FP64"),I("FP64",["I64"],"FP64"),I("FP64",["FP32"],"FP64"),I("FP64",["U32"],"FP64"),I("FP64",["I32"],"FP64"),I("FP64",["U16"],"FP64"),I("FP64",["I16"],"FP64"),I("FP64",["U8"],"FP64"),I("FP64",["I8"],"FP64"),I("FP64",["any"],"any"),I("FP64",["any"],"any")]}),Gt=__;var Ba=Object.freeze(["+","-","*","/","%",">",">=","<","<=","!=","&","|","^","not","I32","U32","I64","U64","FP64","FP32"]);var p_=Object.freeze(["FP64","U64","I64","FP32","U32","I32","U16","I16","U8","I8","Bool","Char","Array","String","Link","Maybe"]),Qt=["U8","U16","U32"],Es=[...Qt,"I8","I16","I32"],m_=["I64","U64"],Rn=[...Es,...m_],b_=["FP32","FP64"],_s=[...Rn,...b_],ht=p_;var{EMPTY_STRING:O_,UNICODE_TEXT:yn}=qt;var T_=48,A_=57,d_=46,Da=45,Ma=43,I_=65,N_=90,S_="e".charCodeAt(0),h_="E".charCodeAt(0),P_=-1,L_=1,Fa=new TextDecoder(yn),R_=new TextEncoder,k_=qt.Operators,C_=(k,S,D=0,W=k.length|0,X=0,ae=S.length|0)=>{for(X=X|0,D=D|0,ae=ae|0,W=W|0;;){let Ee=D>=W,be=X>=ae;if(Ee||be)break;let he=k[D],Oe=S[X];if(D=D+1|0,X=X+1|0,he<Oe)return P_;if(he>Oe)return L_}return 0},Un=(k,S,D=0,W=k.length|0,X=0,ae=S.length|0)=>{for(X=X|0,D=D|0,ae=ae|0,W=W|0;;){let Ee=X>=ae,be=D>=W;if(Ee||be)break;S[X]=k[D],X=X+1|0,D=D+1|0}},Bs=(k,S,D=0,W=k.length|0,X=0,ae=S.length|0)=>{D=D|0,X=X|0,W=W|0,ae=ae|0;let Ee=W-D|0,be=ae-X|0;if(Ee!==be)return!1;for(;;){let ve=D>=W,he=X>=ae;if(ve||he)break;let Le=k[D],Re=S[X];if(D=D+1|0,X=X+1|0,Le!==Re)return!1}return!0},v_=k=>{k=k>>>0;let S=0,D=0;for(;D=(D<<1|1)>>>0,!(D>k);)S=S+1|0;return S},wa=Object.freeze([48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102]),vn=(k,S,D,W)=>{for(k=k>>>0,W=W??S.length|0,D=D|0,W=W|0;k>0&&W>D;)W=W-1|0,S[W]=wa[k&15],k=k>>>4},Ds=(k,S,D,W)=>{let X=D|0,ae=D+W|0;if(W===0)return!1;let Ee=!1,be=!1,ve=!1,he=Oe=>Oe===Ma||Oe===Da;for(;X<ae;){let Oe=S[X];X=X+1|0;let Le=T_<=Oe&&Oe<=A_,Re=Ma===Oe||Oe===Da,Ze=d_===Oe,Rt=Y_===Oe,ye=Oe===S_||Oe===h_;if(Le){ve=!0;continue}else if(Re){if((X===D+1||Ee&&!be)&&!ve)continue}else if((Rt||Ze)&&!Ee&&!be||ye&&!Ee)ye&&(Ee=!0,X<ae&&he(S[X])&&(X=X+1|0,be=!0));else return!1}return ve&&(!Ee||Ee&&be)},y_={I8:[...Es],U8:[...Qt],I16:[...Es],U16:[...Qt],I32:[...Es],U32:[...Qt],I64:[...Rn],U64:[...Qt],FP32:_s,FP64:_s},Ms=(k,S)=>!_s.includes(k)||!_s.includes(S)?!1:y_[k].includes(S),Bn=k=>{let S=k>=I_,D=k<=N_;return S&&D},Fs=128,js=127,ga=-1,xt=64,Dn=k=>{k=k|0;let S=[];for(;;){let D=k&js;k=k>>7;let W=k===0,X=(D&xt)===0,ae=W&&X,Ee=k===-1,be=(D&xt)!==0;if(ae||Ee&&be){S.push(D);break}D=D|Fs,S.push(D)}return S},U_=k=>{let S=[],D=!0;for(;D;){let W=k&js;k>>=7,k===0&&!(W&xt)||k===-1&&W&xt?D=!1:W|=Fs,S.push(W)}return S},Va=(k,S)=>{S=S|0;let D=0,W=0;for(;;){let X=k[S]|0;S=S+1|0;let ae=(X&js)<<W;if(W=W+7|0,D=D|ae,(X&Fs)===0){let be=(X&xt)!==0,ve=W<32;if(be&&ve){let Oe=ga<<W;D=D|Oe}break}}return D},B_=(k,S)=>{S=S|0;let D=0,W=0;for(;;){let X=k[S]|0;S=S+1|0;let ae=(X&js)<<W;if(W=W+7|0,D=D|ae,!(X&Fs)){if(X&xt){let Ee=ga<<W;D=D|Ee}break}}return D},f=k=>{try{return Fa.decode(k)}catch{return Fa.decode(new Uint8Array([k]))}},fe=k=>R_.encode(k),D_=(k=O_)=>{let S=k.length|0,D=Dn(S),W=Buffer.from(k,yn);return Object.freeze([...D,...W])},M_=(k,S)=>{S=S|0;let D=Va(k,S),W=Dn(D).length;return S=S+W|0,k.subarray(S,S+D|0).toString(yn)},F_=58,j_=46,Y_=95,ps=32,kn=48,w_=67,gt=new Uint8Array(w_),ja=gt.subarray(0,8),Us=gt.subarray(10,49),Ya=gt.subarray(51,68),Cn=16,g_=2;gt[8]=F_;gt[9]=ps;gt[49]=ps;gt[50]=ps;var V_=(k,S)=>{S=S??console.log;let D=32,W=126,X=k.length|0,ae=0;for(;X>0;){ja.fill(kn),vn(ae,ja),Us.fill(ps),Ya.fill(ps);let Ee=X>=Cn?Cn:X;X=X-Cn|0;let be=0,ve=0;for(let Oe=1;Oe<=Ee;Oe=Oe+1|0){let Le=k[ae]&255;Us[be+0|0]=kn,Us[be+1|0]=kn,vn(Le,Us,be,be+2|0);let Re=j_;D<=Le&&Le<=W&&(Re=Le),Ya[ve]=Re,ae=ae+1|0,be=be+2|0,ve=ve+1|0,Oe%g_===0&&(be=be+1|0)}let he=String.fromCodePoint(...gt);S(he)}},G_=function*(k,S){let D=k.length|0,W=S.length|0,X=0;for(;X<D&&X<W;){let ae=k[X],Ee=S[X];yield[ae,Ee],X=X+1|0}},$_=function*(k,S,D){let W=k.length|0,X=S.length|0,ae=D.length|0,Ee=0;for(;Ee<W&&Ee<X&&Ee<ae;){let be=k[Ee],ve=S[Ee],he=D[Ee];yield[be,ve,he],Ee=Ee+1|0}},Mn=k=>{for(let S of k_)if(Bs(k,S))return!0;return!1},dm=Object.freeze({ARRAY_COMPARE:C_,ARRAY_COPY:Un,ARRAY_EQUAL:Bs,BIT_DEPTH:v_,HEX_DIGITS:wa,HEX_ENCODE:vn,IS_NUMBER:Ds,IS_UPPERCASE:Bn,IS_VALID_AUTO_CAST:Ms,LEB128_DECODE:Va,LEB128_DECODE_SIGNED:B_,LEB128_ENCODE:Dn,LEB128_ENCODE_SIGNED:U_,UTF8_DECODE:f,UTF8_ENCODE:fe,WASM_STRING_ENCODE:D_,WASM_STRING_DECODE:M_,XXD_DUMP_HEX:V_,ZIP2:G_,ZIP3:$_,IS_OPERATOR:Mn});var{TYPES_ASSIGN:yt,TYPES_ARITY_MATCH:Fn,TYPES_ARITY_STATUS:Ga,TYPES_ARRAY:Fe,TYPES_ARRAY_ASSIGNMENT:$a,TYPES_BRANCH_MATCH:ms,TYPES_BRANCH_DEFAULT:bs,TYPES_CONDITION:jn,TYPES_LOOP:Ka,TYPES_DATA:Ce,TYPES_GENERICS:Ut,TYPES_ENUMERATION:Bt,TYPES_EXPRESSION:$t,TYPES_IMPORT:K_,TYPES_LIBRARY:H_,TYPES_LINK:Yn,TYPES_LOCAL:xe,TYPES_OBJECT:Me,TYPES_PROCEDURE:lt,TYPES_RETURN:pt,TYPES_SELECT:dt,TYPES_MEMBER:Dt,TYPES_NATIVE:z_,TYPES_STORE:wn,TYPES_BREAK:X_,TYPES_LITERAL:Ie,TYPES_ARRAY_ACCESS:Ys,TYPES_LINK_TO:Mt,TYPES_VALUE_AT:It,TYPES_SELF:ft,TYPES_DROP:Ha,TYPES_MAYBE:ws,TYPES_MOVE:gn,TYPES_STRING:tt,TYPES_CONSTRUCTOR:gs,TYPES_DESTRUCTOR:za,TYPES_SIZE:Vn,TYPES_FREE:W_,TYPES_DRAW:J_,TYPES_NOW:Vs,TYPES_CONCAT:es,TYPES_FOREACH:Xa,TYPES_WHILE:Wa,TYPES_WHEN:Ja,TYPES_FOR:Za,TYPES_UP_TO:na,TYPES_DOWN_TO:oa,TYPES_ALMOST_UP_TO:aa,TYPES_ALMOST_DOWN_TO:ra,TYPES_I32:Je,TYPES_U32:Z_,TYPES_FP32:_l,TYPES_FP64:ca,TYPES_I64:ks,TYPES_U64:q_,TYPES_I16:Q_,TYPES_U16:x_,TYPES_I8:ep,TYPES_U8:tp,TYPES_CHAR:Os,TYPES_BOOL:Kt,TYPES_UNREACHABLE:ts}=Ua,{ARRAY_DEFAULT_CAPACITY:sp}=qt.Sizes,Z=Bs,Gs=fe("="),np=fe("enum"),op=fe("loop"),ap=fe("break"),rp=fe("if"),$s=fe("else"),Ts=fe("is"),Ks=fe("->"),ss=fe(`
`),Gn=fe("object"),Ht=fe("pass"),qa=fe("fn"),cp=fe("return"),Qa=fe("size"),xa=fe("at"),er=fe(Fe),zt=fe("Link!!"),ns=fe("Link"),Hs=fe("LinkSmart"),Xt=fe("mut"),tr=fe("self"),sr=fe("nocopy"),up=fe("move"),nr=fe("size"),ip=fe("import"),lp=fe("export"),$n=fe("Maybe"),Kn=fe("NONE"),or=fe("SOME"),ar=fe("free"),fp=fe("free!!"),Ep=fe("foreach"),_p=fe("for"),pp=fe("while"),rr=fe("in"),mp=fe("at"),cr=fe("by"),ur=fe("capacity"),bp=fe("when"),ce=58,et=61,Be=44,st=46,$e=123,pe=40,ee=10,Op=35,ze=125,le=41,He=91,Ft=93,On=39,ls=34,ua=8216,ia=8217,pl=[226,128,156],ml=8221,Tp=64,Hn=47,Ap=92,dp=[On,ls,ua,ia,pl,ml],zn=[On,ua],Xn=[On,ia],Ip=[On,ua,ia],Wn=[ls,pl],Jn=[ls,ml],Zn=1,ir=2,qn=3,is="done",we="fail",Np={EVENT_DONE:is,EVENT_FAIL:we},bl=1,Ol=2,Tl=3,Al=4,dl=5,Il=6,Nl=7,Sl=8,hl=9,Pl=10,Ll=11,Rl=12,Sp=13,hp=14,kl=15,Cl=16,Pp=17,vl=18,yl=19,Ul=99,Xe={FAIL_UNRESOLVED_NAME:(k,S)=>`NameError: '${k}' is undefined on line ${S}. Verify the spelling and scope of your variables to ensure '${k}' is declared in the accessible scope.`,FAIL_UNEXPECTED_TOKEN:(k,S,D,W)=>`Unexpected token '${S}' at position ${D} on line ${W}. Looking for ${k}, found ${S}. Please check the syntax.`,FAIL_INDENTATION_MISMATCH:k=>`IndentationError: Unexpected indentation on line ${k}. Ensure this line's indentation matches the surrounding code block's expected indentation level.`,FAIL_INDENTATION_NO_INCREASE:k=>`IndentationError: Line ${k} expects increased indentation. This typically occurs after block-defining statements (e.g., functions, loops, conditionals) but no indentation was detected. Ensure the subsequent line is properly indented.`,FAIL_DUPLICATE_DATA:(k,S)=>`NameError: Variable '${k}' already defined on line ${S}. Choose a unique name for each variable to avoid conflicts.`,FAIL_DUPLICATE_OBJECT_MEMBER:(k,S)=>`Error: Duplicate member '${k}' found in '${S}'. Ensure each member name within an object is unique.`,FAIL_INVALID_IDENTIFIER:k=>`SyntaxError: '${k}' is an invalid identifier. Identifiers should start with a letter or underscore and can contain letters, numbers, and underscores. Examples: myVariable, _count, item1.`,FAIL_RETURN_LENGTH_MISMATCH:(k,S,D)=>`ReturnValueError: Function '${D}' expected ${k} return value(s), got ${S} instead. Verify that the return statement matches the expected number of values.`,FAIL_UNRESOLVED_OBJECT_MEMBER:(k,S)=>`ReferenceError: '${k}' is not a member of '${S}'. Verify that '${k}' exists and is correctly spelled in '${S}'. Check for typos or ensure the member is defined within the object.`,FAIL_UNKNOWN_PROCEDURE_NAME:k=>`UndefinedProcedureError: '${k}' is undefined. Ensure the procedure is defined in the scope before it is called.`,FAIL_IMMUTABLE_ASSIGNMENT:k=>`ImmutableVariableError: Cannot assign to '${k}', which is immutable. Verify that mutable variables are used for reassignments.`,FAIL_RESERVED_KEYWORD_USAGE:k=>`SyntaxError: '${k}' is a reserved keyword and cannot be used as an identifier. Please select an alternative name.`,FAIL_INPUT_TYPE_MISMATCH:(k,S)=>`TypeError: Line ${k} - Type mismatch in parameters. Nature functions require all parameters to have the same type. Provided types: ${S}.`,FAIL_UNSUPPORTED_TYPE:k=>`TypeError: Unsupported type '${k}'. Ensure '${k}' is defined in this context or use a type native to Flogram. Check documentation for supported types.`,FAIL_UNALLOWED_COPY:k=>`CopyError: '${k}' is uncopyable. Copy operations are prohibited for objects defined as uncopyable. Please check your object's definition.`,FAIL_ASSIGNMENT_TYPE_MISMATCH:(k,S)=>`TypeError: Incompatible types. Cannot assign '${S}' to '${k}'. Ensure that the assigned value matches the expected type.`,FAIL_INVALID_VARIABLE_TYPE:(k,S,D)=>`TypeError: Variable '${k}' is of type '${D}', but expected type '${S}'. Ensure the variable is assigned a value of the correct type.`,FAIL_INVALID_EXPRESSION_TYPE_COMBINATION:(k,S)=>`TypeError: Unable to find expression matching: ${k} for ${S}`,FAIL_INVALID_INPUT_LENGTH:(k,S,D)=>`Procedure '${D}' was provided with invalid number 0f inputs. '${D}' expects ${k} input(s) but was rather provided with ${S} input(s). Please make sure you are passing the right number of inputs to the procedure.`},Lp=Object.freeze({FAIL_UNRESOLVED_NAME:bl,FAIL_UNEXPECTED_TOKEN:Ol,FAIL_INDENTATION_MISMATCH:Tl,FAIL_INDENTATION_NO_INCREASE:Al,FAIL_DUPLICATE_DATA:dl,FAIL_DUPLICATE_OBJECT_MEMBER:Il,FAIL_INVALID_IDENTIFIER:Nl,FAIL_RETURN_LENGTH_MISMATCH:Sl,FAIL_UNRESOLVED_OBJECT_MEMBER:hl,FAIL_UNKNOWN_PROCEDURE_NAME:Pl,FAIL_IMMUTABLE_ASSIGNMENT:Ll,FAIL_RESERVED_KEYWORD_USAGE:Rl,FAIL_ASSIGNMENT_TYPE_MISMATCH:Cl,FAIL_INVALID_VARIABLE_TYPE:Pp,FAIL_UNALLOWED_COPY:kl,FAIL_INVALID_EXPRESSION_TYPE_COMBINATION:vl,FAIL_INVALID_INPUT_LENGTH:yl,FAIL_CUSTOM:Ul}),Rp=new Set(["fn","object","pass","enum","size"]),lr=new Set(["==","!=",">",">=","<","<=","not","and","or"]),fr=[na,oa,aa,ra],zs=[Je,Z_,_l,ca,ks,q_,Q_,x_,ep,tp],rt=(k,S,D,W)=>{if(W===1){let ye=S[D],Nt=ye&191,ut=ye&223,kt=ut^93,ue=ut^91,jt=ye&254,V=ye&254^40,M=ye&253^44,q=ye&254^58;return Nt===0||(kt===0||ue===0)||V===0||M===0||q===0||ye===ee}return!1},Qn=(k,S,D,W)=>{let X=S.subarray(D,D+W|0),ae=f(X);return Rp.has(ae)||ht.includes(ae)},kp=512,la=1,Bl=2,Tn=3,fa=4,Dl=5,Ml=6,Fl=7,jl=8,Yl=9,Cp=10,vp=11,yp=12,Up=13,Bp=14,Dp=15,Mp=16,Fp=17,jp=18,nt=Object.freeze([la]),os=Object.freeze([Bl]),Pt=Object.freeze([Tn]),Er=Object.freeze([Tn,fa]),_r=Object.freeze([Dl]),Yp=Object.freeze([la,Ml]),wp=Object.freeze([Fl]),We=Object.freeze([fa,jl]),ot=Object.freeze([Yl]),pr=Object.freeze([Cp]),As=Object.freeze([vp]),gp=Object.freeze([Tn,Yl]),ds=Object.freeze([yp]),as=Object.freeze([Up]),xn=Object.freeze([Bp]),mr=Object.freeze([Dp]),br=Object.freeze([Mp]),eo=Object.freeze([Fp]),Is=Object.freeze([jp]),Vp=Object.freeze({REASON_COLON_OPENS_SCOPE:la,REASON_LINE_BREAK_BEFORE_OPEN_SCOPE:Bl,REASON_CLOSING_LINE_BREAK:Tn,REASON_SEQUENCE_SEPARATOR_COMMA:fa,REASON_INTO_BETWEEN_INPUTS_OUTPUTS:Dl,REASON_IS_OPENS_CONDITION_BRANCH_MATCH:Ml,REASON_OPEN_STATEMENT_WITH_KEYWORD:Fl,REASON_RIGHT_PARENTHESIS_CLOSES_LIST:jl}),Ne=1,Or=2,Ns=3,Tr=4,to=5,Ar=6,Ye=7,mt=8,ge=9,Ss=10,rs=11,dr=12,Ir=13,hs=1,Nr=2,Se=3,so=4,Sr=5,hr=6,Pr=7,Lr=1,Rr=2,kr=3,Cr=4,vr=5,no=6,yr=7,Ur=8,Br=9,oo=10,Dr=11,Mr=12,ao=13,ro=14,Ps=1,Fr=2,Xs=3,jr=4,co=5,Yr=6,wr=7,Ls=1,gr=2,Ws=3,Vr=4,Gr=6,$r=1,Kr=2,Hr=3,zr=4,Xr=5,Wr=6,uo=7,Jr=8,Zr=9,Js=10,qr=11,Qr=12,xr=13,ec=14,tc=15,sc=16,nc=17,oc=1,ac=2,rc=1,cc=2,Gp=3;var uc=7,io=8,ic=9,Zs=1,qs=2,Qs=3,xs=4,cs=5,en=6,tn=7,us=8,sn=9,nn=10,on=11,Lt=1,lc=2,fc=3,lo=4,Ec=5,_c=6,pc=7,fo=8,mc=9,bc=10,Oc=11,Tc=12,Ac=13,Eo=14,_o=15,dc=16,Ic=17,Nc=18,Sc=19,hc=20,Pc=21,po=22,Lc=23,mo=24,bo=25,Rc=26,kc=27,Oo=28,Cc=29,vc=30,Rs=31,an=32,yc=33,To=34,Uc=35,Bc=36,Dc=37,Mc=38,Fc=39,jc=40,Yc=41,Ao=42,wc=43,gc=44,Vc=45,Gc=46,Io=47,$c=48,Kc=49,No=50,So=51,Hc=52,zc=53,Xc=54,Wc=55,Jc=56,Zc=57,qc=58,Qc=59,xc=60,eu=61,tu=62,su=63,nu=64,ho=65,ou=66,au=67,ru=68,Po=69,cu=70,uu=71,iu=72,lu=73,fu=74,Eu=75,_u=76,pu=77,mu=78,Lo=79,bu=80,Ou=81,Tu=82,Au=83,Ro=84,du=85,Iu=86,Nu=87,Su=88,hu=89,Pu=90,Lu=91,Ru=92,ku=93,Cu=94,ko=95,vu=96,Co=97,yu=98,Uu=99,Bu=100,ct=1,Du=2,Mu=3,Fu=4,vo=5,ju=6,rn=1,Yu=2,wu=3,gu=4,yo=5,Et=6,Vu=7,Uo=8,cn=9,un=10,ln=11,Gu=12,$u=13,Bo=14,Do=15,Mo=16,Ku=17,Hu=18,zu=19,Fo=20,jo=21,Xu=22,Yo=23,Wu=24,Ju=25,Zu=26,wo=27,qu=28,Qu=29,go=30,Vo=31,Go=32,xu=33,$o=34,ei=35,ti=36,si=37,Ko=38,Ho=39,ni=40,oi=41,ai=42,ri=43,ci=44,zo=45,Xo=46,ui=47,fn=48,ii=49,li=50,fi=51,Ei=52,_i=53,pi=54,mi=55,bi=56,Oi=57,Ti=58,Ai=59,di=60,Ii=61,Ni=62,Si=63,Wo=64,hi=65,Jo=66,Pi=67,En=68,Zo=69,qo=70,Li=71,Ri=72,ki=73,Ci=74,vi=75,yi=76,Ui=77,Bi=78,Di=79,Mi=80,Fi=81,ji=82,$p=83,Yi=84,Qo=85,wi=86,gi=87,xo=88,Vi=89,Gi=90,$i=91,Ki=92,Hi=93,zi=94,Xi=95,Wi=96,Ji=97,ea=98,Zi=99,ta=100,qi=101,Qi=102,xi=103,el=1;var tl=3;var sl=11,_n=12,nl=13,ol=14,Kp=15,al=16,pn=17,rl=18,cl=19,ul=20,il=21,{K_FLOGRAM:me}=qt.Keywords,Hp="0",mn="any",sa="data",ll="code",bn=k=>["TRUE","FALSE"].includes(k),Vt=!1,wl=k=>{let S=[],D=[],W=[],X={name:"draw",type:"procedure",description:{inputs:[{name:"a",data:{type:"data",name:Je,path:me}}],locals:[],outputs:[]}},ae=Object.freeze({data:S,code:D,exports:W});class Ee{constructor(){this.ambiguityArray=new Uint8Array(kp),this.ambiguityQueue=[],this.ambiguityIndex=0}}let be=[],ve=()=>{be.push(new Ee)},he=()=>be.pop(),Oe=(c,o,e,l)=>{let t=be[be.length-1],s=Object.freeze({position:c,length:l});Un(o,t.ambiguityArray,e,e+l|0,t.ambiguityIndex,t.ambiguityIndex+l|0),t.ambiguityQueue.push(s),t.ambiguityIndex=t.ambiguityIndex+l|0},Le=()=>{let c=be[be.length-1];c.ambiguityIndex=0;let{ambiguityArray:o,ambiguityQueue:e}=c;for(;e.length>0;){let l=e.shift(),{length:t,position:s}=l;fs(s,o,c.ambiguityIndex,t),c.ambiguityIndex=c.ambiguityIndex+t|0}he()},Re=c=>{!D.some(e=>{if(e.name===c.name&&e.path===c.path&&e.description.inputs.length===c.description.inputs.length&&e.description.outputs.length===c.description.outputs.length){let l=c.description.inputs.every((s,n)=>{let r=e.description.inputs[n];return s.name===r.name&&s.data.name===r.data.name&&s.data.path===r.data.path}),t=c.description.outputs.every((s,n)=>{let r=e.description.outputs[n];return s.name===r.name&&s.data.name===r.data.name&&s.data.path===r.data.path});return l&&t}return!1})&&D.push(c)},Ze=(c,o,e,l)=>{let{description:t}=c,{members:s}=t,n=s.find(i=>i.name===o[e]),r=S.find(i=>i.name===n.data.name);return r.type===Me&&e<o.length-1?Ze(r,o,e+1,l):n},Rt=c=>{let o=Number(c.replace(",",""));return isNaN(o)?"":c.includes(".")?c.replace(".","").length<=7?_l:ca:Number.isInteger(o)?o>=-Math.pow(2,31)&&o<Math.pow(2,31)?Je:o>=-Math.pow(2,63)&&o<Math.pow(2,63)?ks:ca:""},ye=c=>{switch(c.type){case dt:return c.value.name;case wn:case It:return ye(c.link);case Mt:return ye(c.value)}return c.name},Nt=(c,o)=>{let e=Gt[c];if(e){let l=e.find(t=>t.description&&Array.isArray(t.description.inputs)?t.description.inputs.length!==o.length?!1:t.description.inputs.every((s,n)=>s.data.name===o[n].data.name):!1);if(l)return l;b=T|0,O=position-d|0,Ct(c);return}else{b=T|0,O=position-d|0,dn(c);return}},ut=()=>{let c=new Date,o=c.getHours().toString().padStart(2,"0"),e=c.getMinutes().toString().padStart(2,"0"),l=c.getSeconds().toString().padStart(2,"0"),t=c.getMilliseconds().toString().padStart(3,"0");return`${o}_${e}_${l}_${t}`},kt=c=>{let o=a.procedure.description.inputs.find(e=>e.name===c)||a.procedure.description.locals.find(e=>e.name===c);if(o){let e=S.find(l=>l.type===Ut&&l.name===o.data.name);if(e)return{data:e}}return o},ue=(c,o=!1)=>{let e;switch(c.type){case dt:{let l=a.stack.get(c.value.name||c.value.link,c.value.value);if(l){let t=S.find(s=>s.name===l.name);if(t.type===Bt){let n=t.description.labels.find(i=>i.props.find(E=>E.name===c.trail[0]));if(!n){b=T|0,O=position-d|0,Ot(c.trail[0],t.name);return}let r=n.props.find(i=>i.name===c.trail[0]);r.data?.type===Me&&0<c.trail.length-1?e={data:Ze(r,c.trail,0+1,o)?.data}:e=r}else{let{description:s}=t,{members:n}=s,r=0,i=n.find(m=>m.name===c.trail[r]),E=S.find(m=>m.name===i.data.name);if(E.type===Me&&r<c.trail.length-1)e={data:Ze(E,c.trail,r+1,o)?.data};else{if(i.data.freed){b=T|0,O=position-d|0,re(`Attempted to use '${c.trail.join(".")}', which has been freed. Ensure links are valid before use.`);return}if(o){let m=S.indexOf(t),N=JSON.parse(JSON.stringify(t)),R=t.description.members.indexOf(i);R>=0&&(N.description.members[R].data.freed=!0,S.splice(m,1,N))}e=i}}}break}case It:{e=ue(c.link);break}case gn:case Mt:{e=ue(c.value);break}case es:{e={data:{type:Ce,name:tt,path:me}};break}case Vn:{e={data:{type:Ce,name:Je,path:me}};break}case Ys:{let l=ue(c.array).data;l&&(e={data:{...l,name:l.name===tt&&!l.contains&&l.type!==Fe?Os:l.name}});break}case Dt:{let l=z(0),t=q(l,c.trail,!1);t?t.data.type===Fe?e={data:t.data}:e={data:S.find(n=>n.name===t.data.name&&n.path===t.data.path)}:(b=T|0,O=0,Ot(c.trail[0],l.name??`${ft}(current object in definition)`));break}case $t:{let l=s=>D.find(n=>n.type===lt&&n.name===s.name)?.description.outputs[0],t=(s,n)=>{let r;for(let i=0;n&&i<=s.name.length-2;i++)n=a.stack.get(s.name[i]),n&&(r=S.find(E=>E.type===Me&&E.name===n.name));return r?.description.members?.find(i=>i.name===s.name[s.name.length-1])?.description.outputs[0]};if(c.path!==me){if(typeof c.name===Me&&c.name[0]===Dt){let s=z(0),n=q(s,c.name.slice(1));n&&n.type===lt&&n.description.outputs.length>0?e=n.description.outputs[0]:(b=T|0,O=0,Ot(c.trail[0],s.name??`${ft}(current object in definition)`));break}else if(e=l(c),typeof c.name=="object"){let s=a.stack.get(c.name[0]);e=t(c,s);let n=c.name.length;c.name[n-1]===gs&&(e={data:s})}}else if(c.name===Vs)e={data:{type:Ce,name:ks,path:me}};else if(lr.has(c.name))e={data:{type:Ce,name:Kt,path:me}},Ue(e.data.name);else{let s=c.inputs.map(r=>ue(r)),n=D.find(r=>r.description&&Array.isArray(r.description.inputs)?r.description.inputs.length!==s.length||r.name!==c.name||r.path!==c.path?!1:r.description.inputs.every((i,E)=>i.data.name===s[E].data.name):!1);if(n){let{description:r}=n,{outputs:i}=r;e=i[0]}else{b=T|0,O=0,ma(s.map(r=>r.data.name),c.name);return}}break}default:{e=kt(c.name);break}}if(!e)if(Ba.includes(c.name)&&c.type===$t){let l=c.inputs.map(s=>ue(s)),t=Nt(c.name,l);e={data:{name:t.description.outputs[0].data.name,path:t.description.outputs[0].data.path}}}else c.type===Ie&&(e={data:{type:Ie,name:c.name,literal:c.literal,path:c.path}});return e?.data?.name&&Ue(e.data.name),e},jt=(c,o,e,l)=>{for(let t in c.description?.members){let s=[c.description.members[t].data.name,...o.map(n=>n.description.members[t].data.name)];if(s.some(n=>!ht.includes(n))){let n=s.map(r=>S.find(i=>i.name===r));if(n.every(Boolean))return jt(c,n,e,l)}else{let n=e.find(r=>r.description&&Array.isArray(r.description.inputs)?r.description.inputs.length!==s.length?!1:r.description.inputs.every((i,E)=>i.data.name===s[E]):!1);return n?(Re(n),_t.set(l,n),!0):!1}}},Ve=c=>{let o=ue(c);return o&&c.type!==dt&&o.data.path===me&&o.data.type!==Fe&&o.data.mutable?Object.seal({type:It,link:c}):c},V=(c,o)=>{let e=JSON.parse(JSON.stringify(c)),l=c.description.generics.map(s=>s.name);function t(s){for(let n in s)if(s[n]&&typeof s[n]=="object")t(s[n]);else if(n==="name"&&l.includes(s[n])){let r=l.indexOf(s[n]);s[n]=o[r].name,s.path=o[r].path}else if(n==="path"&&s[n].split(".").includes(e.name)){let r=s[n].split("."),i=r.indexOf(e.name),E=B(e.name,o);r[i]=E,s[n]=r.join(".")}}t(e);for(let s of D){let{description:n}=s,{inputs:r,outputs:i}=n,E=[...r,...i];if(s.type==="native"&&E.some(m=>l.includes(m.data.name))){let m=JSON.parse(JSON.stringify(s));t(m),Re(m)}}return e},B=(c,o)=>{let l=o.map(t=>`${t.name}${t.segment?`_${t.segment}`:""}`).join("__");return`${c}___${l}`},M=c=>c.type===Mt&&c.value!==ft||c.type===It&&c.link!==ft,z=c=>{if(c<g.length){let o=g[c];return o.item?.object?o.item.object:z(c+1)}return!1},q=(c,o,e=!0)=>{let l=c.description.members.find(t=>t.name===o[0]);return l?o.length===1?l.type===lt||!e?l:!1:S.find(t=>t.name===l.data.name&&t.path===l.data.path).type!==Me?!1:q(S.find(t=>t.name===l.data.name&&t.path===l.data.path),o.slice(1),e):!1},{path:Te,imports:_e,files:ne,Tokenizer:Ge}=k,bt=new Map,_t=new Map,p=new Map,A=new Map,P=(c,o="")=>{let{name:e,path:l}=c,t=o||e,s=`${l}.${t}`;p.set(s,c);let n=A.get(t)||[];n.push(c),A.set(t,n)},{data:L}=_e;for(let c of L)P(c);let v=[Te],C=new fl.default,g=[],K=[],G=[],_=!1,J=!1,de=!1,Pe=!0,ke=!1,De=!1,U=Ne,u=hs,a=null,Yt=null,Wt=[],Ke=0,T=1,d=0,je=1,Cs=null,b=0,O=0,St=(c,o,e,l)=>{let t=o.subarray(e,e+l|0),s=f(t);return Qn(c,o,e,l)?(b=T|0,O=c-d|0,An(s),!0):rt(c,o,e,l)?(b=T|0,O=c-d|0,qe(s),!0):!1};C.on(is,c=>{for(let o of K)o(c)}),C.on(we,c=>{for(let o of G)o(c)});let Jt=c=>{let o=Object.freeze({type:dl,message:Xe.FAIL_DUPLICATE_DATA(c,b),failureRow:b,failureColumn:O,name:c});J=!0,de=!0,C.emit(we,o)},Ea=(c,o)=>{let e=Object.freeze({type:Il,message:Xe.FAIL_DUPLICATE_OBJECT_MEMBER(c,o),failureRow:b,failureColumn:O,property:c,object:o});J=!0,de=!0,C.emit(we,e)},gl=c=>{let o=je,e=wt(c),l=Object.freeze({type:Tl,message:Xe.FAIL_INDENTATION_MISMATCH(b),failureRow:b,failureColumn:O,expected:o,actual:e});J=!0,de=!0,C.emit(we,l)},_a=c=>{let o=Object.freeze({type:Al,message:Xe.FAIL_INDENTATION_NO_INCREASE(b),failureRow:b,failureColumn:O,indentation:je});J=!0,de=!0,C.emit(we,o)},qe=c=>{let o=Object.freeze({type:Nl,message:Xe.FAIL_INVALID_IDENTIFIER(c),failureRow:b,failureColumn:O,identifier:c});J=!0,de=!0,C.emit(we,o)},Vl=(c,o,e)=>{let l=Object.freeze({type:Sl,message:Xe.FAIL_RETURN_LENGTH_MISMATCH(c,o,e),failureRow:b,failureColumn:O});de=!0,J=!0,C.emit(we,l)},Gl=c=>{let o=Object.freeze({type:Ll,message:Xe.FAIL_IMMUTABLE_ASSIGNMENT(c),failureRow:b,failureColumn:O,variable:c});J=!0,de=!0,C.emit(we,o)},An=c=>{let o=Object.freeze({type:Rl,message:Xe.FAIL_RESERVED_KEYWORD_USAGE(c),failureRow:b,failureColumn:O,keyword:c});J=!0,de=!0,C.emit(we,o)},Y=(c,o,e)=>{let l=Object.freeze({type:Ol,message:Xe.FAIL_UNEXPECTED_TOKEN(c,o,O,b),failureRow:b,failureColumn:O,reasons:e,expected:c,found:o});J=!0,de=!0,C.emit(we,l)},vs=c=>{let o=Object.freeze({type:bl,message:Xe.FAIL_UNRESOLVED_NAME(c,b),failureRow:b,failureColumn:O,name:c});J=!0,de=!0,C.emit(we,o)},Ot=(c,o)=>{let e=Object.freeze({type:hl,message:Xe.FAIL_UNRESOLVED_OBJECT_MEMBER(c,o),failureRow:b,failureColumn:O,name:c});J=!0,de=!0,C.emit(we,e)},dn=c=>{let o=Object.freeze({type:Pl,message:Xe.FAIL_UNKNOWN_PROCEDURE_NAME(c),failureRow:b,failureColumn:O,name:c});J=!0,de=!0,C.emit(we,o)},$l=c=>{let o=Object.freeze({type:kl,message:Xe.FAIL_UNALLOWED_COPY(c),failureRow:b,failureColumn:O,name:c});J=!0,de=!0,C.emit(we,o)},pa=(c,o,e)=>{let l=Object.freeze({type:yl,message:Xe.FAIL_INVALID_INPUT_LENGTH(c,o,e),failureRow:b,failureColumn:O,name:e,expectedLength:o,actualLength:c});J=!0,de=!0,C.emit(we,l)},ma=(c,o)=>{let e=Object.freeze({type:vl,message:Xe.FAIL_INVALID_EXPRESSION_TYPE_COMBINATION(c,o),failureRow:b,failureColumn:O,name:o,types:c});J=!0,de=!0,C.emit(we,e)},ba=(c,o)=>{let e=Object.freeze({type:Cl,message:Xe.FAIL_ASSIGNMENT_TYPE_MISMATCH(c,o),failureRow:b,failureColumn:O});J=!0,de=!0,C.emit(we,e)},re=c=>{let o=Object.freeze({type:Ul,message:c,failureRow:b,failureColumn:O});J=!0,de=!0,C.emit(we,o)},In=c=>{let o=Object.freeze({type:Sp,message:Xe.FAIL_INPUT_TYPE_MISMATCH(b,c),failureRow:b,failureColumn:O,inputs:c});J=!0,de=!0,C.emit(we,o)},Ct=c=>{let o=Object.freeze({type:hp,message:Xe.FAIL_UNSUPPORTED_TYPE(c),failureRow:b,failureColumn:O});J=!0,de=!0,C.emit(we,o)},wt=c=>c-d|0,Nn=c=>{let o=je|0;return wt(c)<o},Sn=(c,o)=>{let e=je|0,l=wt(c);switch(o){case Zn:return l<=e;case ir:return l!==e}throw qn},ys=(c,o=!0)=>{let{name:e,path:l,type:t}=c,s=`${l}.${e}`;if(!bt.has(s)){let n=S.length;l===me?n=S.findIndex(r=>r.path!==me):t===Ut?n=S.findIndex(r=>r.path!==me&&r.type!==Ut):o&&(n=S.findIndex(r=>r.path!==me&&r.type!==Ut)),n===-1||n===S.length?S.push(c):S.splice(n,0,c),bt.set(s,c),p.has(s)||P(c)}},Ue=c=>{let o=A.get(c);if(!o)return null;if(o.length===1){let[e]=o;return ys(e),e}if(o.length>0&&o[0].type===Ut){let[e]=o;return ys(e),e}throw qn},Xp=(c,o)=>{let{description:e}=c,{inputs:l,locals:t}=e,{name:s}=o;for(let n of l)if(n.name===s)return n.data;for(let n of t)if(n.name===s)return n.data;return null},Kl=(c,o,e,l)=>{switch(u){case hs:{let t=o.subarray(e,e+l|0);if(a&&a.export&&(je=wt(c),Cs&&Cs!==je&&(y(),a=null,h(),Cs=null,je=1),Cs=je),Z(t,ip)){h(),U=Ir,u=rc,_=!0;return}if(Z(t,lp)){h(),je=wt(c),a=Object.freeze({export:!0,indentation:je}),u=hr;return}if(Z(t,np)){h(),U=Or,u=Lr,_=!0;return}if(Z(t,Gn)||Z(t,sr)){h(),U=Tr,u=$r,_=!0;return}if(Z(t,Ht)){h(),U=to,u=oc,_=!0;return}if(Z(t,qa)){h(),U=Ar,u=Zs,_=!0;return}if(o[e]===ee)return;b=T|0,O=c-d|0;let s=f(t);Y("export/import statement, type, or function definition",s,os);break}case hr:{if(o[e]===ce){u=hs,h(),u=Pr;return}_=!0,u=hs;break}case Pr:{if(o[e]===ee){u=hs;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=os;Y(f(ee),n,r);break}case Nr:{De=!1;let t=o.subarray(e,e+l|0);if(Z(t,rp)){U=Ye,u=fc,_=!0;return}if(Z(t,$s)){U=Ye,u=Nc,_=!0;return}if(Z(t,op)){U=Ye,u=Dc,_=!0;return}if(Z(t,Ep)){U=Ye,u=eu,_=!0;return}if(Z(t,_p)){U=Ye,u=fu,_=!0;return}if(Z(t,pp)){U=Ye,u=cu,_=!0;return}if(Z(t,bp)){U=Ye,u=Lu,_=!0;return}if(Z(t,ap)){U=Ye,u=Yc;return}if(Z(t,xa)){U=Ye,u=Rc,_=!0;return}if(Z(t,ns)||Z(t,zt)||Z(t,Hs)){b=T|0,O=c-d|0;let r=f(t),i=Is;if(Qn(c,o,e,l)){An(r);return}Y("statement declarer",r,i);return}if(Z(t,Ht)){U=Ye,u=Sc,_=!0;return}if(Z(t,cp)){U=Ye,u=Pc,_=!0;return}if(Z(t,ar)||Z(t,fp)){U=Ye,u=Jc,_=!0;return}if(!St(c,o,e,l)){U=Ye,u=Vc,_=!0;return}b=T|0,O=c-d|0;let s=f(t),n=wp;if(Qn(c,o,e,l)){An(s);return}Y("statement declarer",s,n);break}case Se:{let t=o[e],s=o.subarray(e,e+l|0),n=f(s);if(S.find(i=>i.type===Bt&&i.description.labels.find(E=>E.name===n))){U=ge,u=Go,_=!0;return}if(Bn(t)&&!bn(f(s))){if(S.find(m=>m.name===n&&m.type===Me)){U=ge,u=$u,_=!0;return}if(S.find(m=>m.type===Bt&&m.name===n)){U=ge,u=Go,_=!0;return}}if(Z(s,$n)){U=ge,u=ei,_=!0;return}if(Z(s,tr)){U=ge,u=Zu,_=!0;return}if(Z(s,xa)){U=ge,u=wu,_=!0;return}if(Z(s,ns)){U=ge,u=rn,_=!0;return}if(Z(s,zt)){U=ge,u=rn,_=!0;return}if(Z(s,Hs)){U=ge,u=rn,_=!0;return}if(Z(s,er)){U=ge,u=qo,_=!0;return}if(Z(s,up)){U=ge,u=pi,_=!0;return}if(Z(s,nr)){U=ge,u=Di,_=!0;return}if(t===He){U=ge,u=jo,_=!0;return}if(t===pe){U=ge,u=Vi,_=!0;return}if(Ds(c,o,e,l)||dp.includes(t)||bn(n)){U=ge,u=yo,_=!0;return}u=so,ve(),_=!0;break}case so:{Oe(c,o,e,l),h(),a=o[e],u=Sr;break}case Sr:{Oe(c,o,e,l);let t=a;y();let s=o[e];if(s===pe){U=ge,u=cn,Le();return}if(s===He){U=ge,u=Xu,Le();return}if(s===$e&&!Wn.includes(t)){U=ge,u=cn,Le();return}if(s===st){u=so;return}U=ge,u=yo,Le();break}}},Hl=(c,o,e,l)=>{switch(u){case Lr:{let t=v.join("."),s=Object.seal({labels:[],generics:[]}),n=Object.seal({type:Bt,name:it,path:t,description:s});a=Object.seal({enumeration:n}),u=Rr;break}case Rr:{let{enumeration:t}=a,s=o.subarray(e,e+l|0),n=f(s);if(St(c,o,e,l))return;t.name=n,u=kr;break}case kr:{let t=o[e];if(t===ce){u=Cr;return}if(t===$e){let{enumeration:i}=a,{description:E}=i,{generics:m}=E;h(),a=m,U=Ss,u=Ls,_=!0;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(`${f(ce)} or ${f($e)} for generics`,n,r);break}case Cr:{if(o[e]===ee){u=vr;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=os;Y(f(ee),n,r);break}case vr:{je=wt(c),u=no,_=!0;break}case no:{let{enumeration:t}=a;if(Nn(c)){if(ys(t),y(),a&&a.export){let s=Object.freeze({name:t.name,type:t.type,path:sa});W.push(s);let n=je;y(),je===n&&y(),je<n&&h()}_=!0;return}u=yr,_=!0;break}case yr:{let{enumeration:t}=a,{description:s}=t,{labels:n}=s,r=o.subarray(e,e+l|0),i=f(r);if(St(c,o,e,l))return;let E={name:i,props:[]};n.push(E),u=no,h(),a={label:E},u=Ur;break}case Ur:{let t=o[e];if(_=!0,t===pe){u=Br;return}u=ro;break}case Br:{if(o[e]===pe){u=oo;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(pe),n,r);break}case oo:{let t=o.subarray(e,e+l|0),s=f(t);if(rt(c,o,e,l)){b=T|0,O=c-d|0,qe(s);return}let{props:n}=a.label;h();let r=Object.seal({name:s,data:null});n.push(r),a={prop:r},u=Dr;break}case Dr:{if(o[e]===ce){u=Mr,h(),a=Object.seal({data:null}),h(),U=mt,u=ct;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case Mr:{let{data:t}=a;y();let{prop:s}=a;s.data=t,u=ao;let n=o[e];if(n===le){y(),u=ao,_=!0;return}if(n===Be){y(),u=oo;return}b=T|0,O=c-d|0;let r=o.subarray(e,e+l|0),i=f(r),E=We;Y(`${f(le)} or ${f(le)}`,i,E);break}case ao:{if(o[e]===le){u=ro;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=We;Y(f(le),n,r);break}case ro:{if(o[e]===ee){y();return}break}}},zl=(c,o,e,l)=>{switch(u){case Ls:{u=gr,_=!0;break}case gr:{if(o[e]===$e){u=Ws;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f($e),n,r);break}case Ws:{let t=o[e];if(t===ee)return;if(t===ze){y();return}u=Vr,_=!0;break}case Vr:{let t=o.subarray(e,e+l|0),s=f(t);if(St(c,o,e,l))return;h();let n=Object.seal({type:Ut,name:s,path:Te});a=Object.seal({name:s,data:n}),P(a.data,a.name),u=Gr;break}case Gr:{let t=a;y(),a.push(t);let n=o[e];if(n===ze){u=Ws,_=!0;return}if(n===Be){u=Ws;return}b=T|0,O=c-d|0;let r=o.subarray(e,e+l|0),i=f(r),E=We;Y(f(le),i,E);break}}},Xl=(c,o,e,l)=>{switch(u){case Ps:{u=Fr,_=!0;break}case Fr:{if(o[e]===pe){u=Xs;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(pe),n,r);break}case Xs:{let t=o[e];if(t===ee)return;if(t===le){y();return}u=jr,_=!0;break}case jr:{let t=o.subarray(e,e+l|0);if(h(),Z(Xt,t)){a=Object.seal({name:null,mutable:!0,data:null}),u=co;return}a=Object.seal({name:null,data:null}),u=co,_=!0;break}case co:{let t=o.subarray(e,e+l|0),s=f(t);if(St(c,o,e,l))return;a.name=s,u=Yr;break}case Yr:{if(o[e]===ce){u=wr,h(),U=mt,u=ct;return}break}case wr:{let t=a;y();let s=a,{mutable:n,...r}=t;s.push(r);let i=o[e];if(i===le){u=Xs,_=!0;return}if(i===Be){u=Xs;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=We;Y(`${f(le)} or ${f(Be)}`,m,N);break}}},Wl=(c,o,e,l)=>{switch(u){case $r:{let t=v.join("."),s=Object.seal({members:[],generics:[]}),n=Object.seal({type:Me,name:it,copy:!0,path:t,description:s});a=Object.seal({mapNameMember:new Map,object:n}),Ue(Je),u=Kr,_=!0;break}case Kr:{let t=o.subarray(e,e+l|0);if(u=Hr,Z(t,sr)){a.object.copy=!1;return}_=!0;break}case Hr:{let t=o.subarray(e,e+l|0);if(Z(t,Gn)){u=zr;return}b=T|0,O=c-d|0;let s=f(t),n=nt;Y(f(Gn),s,n);break}case zr:{let{object:t}=a,s=o.subarray(e,e+l|0),n=f(s);if(St(c,o,e,l))return;let r=Ue(n);if(r&&v.join(".")===r.path&&(b=T|0,O=c-d|0,Jt(n)),Z(s,Xt)){b=T|0,O=c-d|0,failReservedKeyword(n);return}t.name=n,ys(t,!1),u=Xr;break}case Xr:{if(o[e]===$e)u=Wr,_=!0;else if(o[e]===ce)u=uo,_=!0;else{let t=o.subarray(e,e+l|0),s=f(t);b=T|0,O=c-d|0,qe(s);return}break}case Wr:{let{object:t}=a,{description:s}=t,{generics:n}=s;u=uo,h(),a=n,U=Ss,u=Ls,_=!0;break}case uo:{if(o[e]===ce){u=Jr;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case Jr:{if(o[e]===ee){u=Zr;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=os;Y(f(ee),n,r);break}case Zr:{if(Sn(c,Zn)){let t=g.length;if(g.length<1||g[t-1].item.indentation>=je){b=T|0,O=c-d|0,_a(c);return}}je=wt(c),u=Js,_=!0;break}case Js:{let{object:t}=a;if(Nn(c)){if(y(),a&&a.export){let s=Object.freeze({name:t.name,type:t.type,path:sa});W.push(s);let n=je;y(),je===n&&y(),je<n&&h()}_=!0;return}if(Sn(c,ir)){b=T|0,O=c-d|0,gl(c);return}u=qr,_=!0;break}case qr:{let{object:t,mapNameMember:s}=a,{description:n}=t,{members:r}=n,i=o.subarray(e,e+l|0),E=f(i);if(u=Qr,Z(i,Xt)){h(),a=Object.freeze({mutable:!0});return}_=!0;break}case Qr:{let t;a.mutable&&(t=a.mutable,y());let{object:s,mapNameMember:n}=a,{description:r}=s,{members:i}=r,E=o.subarray(e,e+l|0),m=f(E);if(Z(qa,E)){u=Js,h(),U=dr,u=Zs,_=!0;return}if(St(c,o,e,l))return;n.has(m)&&(b=T|0,O=c-d|0,Ea(m,s.name));let N={name:m,data:null};t&&(N.mutable=t),i.push(N),n.set(m,N),u=Js,h(),a=Object.seal({member:N}),u=xr;break}case xr:{if(o[e]===ce){u=ec;return}break}case ec:{u=nc,h(),a=Object.seal({data:null}),h(),U=mt,u=ct,_=!0;break}case nc:{let t=o[e],{data:s}=a;y();let{member:n}=a;if(n.data=s,n.mutable&&(n.data={...s,mutable:n.mutable}),t===ee){y();return}if(t===et){u=tc;return}b=T|0,O=c-d|0;let r=o.subarray(e,e+l|0),i=f(r),E=Pt;Y(`${f(ee)} or ${f(et)}`,i,E);break}case tc:{let{stack:t}=a;u=sc,h(),a={stack:new Map,procedure:null,value:null},h(),u=Se,U=Ne,_=!0;break}case sc:{let{value:t}=a;y();let{member:s}=a;s.value=t,y();break}}},Jl=(c,o,e,l)=>{switch(u){case Zs:{let{mapNameMember:t,object:s}=a,{name:n}=s,r=new Map(t),i=`${v.join(".")}.${n}`,E=Object.seal({generics:[],inputs:[],locals:[],outputs:[],statements:[]}),m=Object.seal({type:lt,name:it,path:i,description:E});a=Object.seal({procedure:m,stack:r}),u=qs;break}case qs:{let{procedure:t}=a,s=o.subarray(e,e+l|0),n=f(s);if(St(c,o,e,l))return;if(Z(s,Xt)){b=T|0,O=c-d|0,failReservedKeyword(n);return}t.name=n,u=Qs;break}case Qs:{if(o[e]===$e)u=xs,_=!0;else if(o[e]===pe)u=cs,_=!0;else{let t=o.subarray(e,e+l|0),s=f(t);b=T|0,O=c-d|0,qe(s);return}break}case xs:{let{procedure:t}=a,{description:s}=t,{generics:n}=s;u=cs,h(),a=n,U=Ss,u=Ls,_=!0;break}case cs:{let{procedure:t}=a,{description:s}=t,{inputs:n}=s;u=en,h(),a=n,U=Ns,u=Ps,_=!0;break}case en:{let{procedure:t,stack:s}=a,{description:n}=t,{inputs:r}=n;for(let R of r){let{name:F,data:w}=R;s.set(F,w)}r.length>0&&a.procedure.name===za&&(b=T|0,O=c-d|0,re("Destructors should not return any values. Your destructor appears to return a number. Please adhere to Flogram's conventions and correct your code."));let i=o.subarray(e,e+l|0),E=o[e];if(Z(i,Ks)){u=tn;return}if(E===ce){u=us,_=!0;return}b=T|0,O=c-d|0;let m=f(i),N=_r;Y(`${f(Ks)} or ${f(ce)}`,m,N);break}case tn:{let{procedure:t}=a,{description:s}=t,{outputs:n}=s;u=us,h(),a=n,U=Ns,u=Ps,_=!0;break}case us:{let t=o[e],{outputs:s}=a.procedure.description;if(s.length>0&&a.procedure.name===gs&&(b=T|0,O=c-d|0,re(`Constructors in Flogram should not return any values. Your constructor seems to return ${s.length} outputs. Please correct your code according to Flogram rules.`)),s.length>0&&a.procedure.name===za&&(b=T|0,O=c-d|0,re(`Destructors in Flogram should not return any values. Your destructor seems to return ${s.length} outputs. Please correct your code according to Flogram rules.`)),t===ce){u=sn;return}b=T|0,O=c-d|0;let n=o.subarray(e,e+l|0),r=f(n),i=nt;Y(f(ce),r,i);break}case sn:{if(o[e]===ee){u=nn;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=os;Y(f(ee),n,r);break}case nn:{let{procedure:t,stack:s}=a,{description:n}=t,{statements:r}=n;u=on,h(),a=Object.seal({procedure:t,stack:s,statements:r}),U=Ye,u=Lt,_=!0;break}case on:{let{procedure:t}=a,{name:s}=t;y();let{object:n,mapNameMember:r}=a,{description:i}=n,{members:E}=i;r.has(s)&&(b=T|0,O=c-d|0,Ea(s,n.name));let m=Object.seal({name:t.name,data:{name:t.name,type:t.type,path:t.path}});E.push(t),r.set(s,m),_=!0;break}}},Zl=(c,o,e,l)=>{switch(u){case oc:{let t=o.subarray(e,e+l|0);if(Z(t,Ht)){h(),U=to,u=ac,_=!0;return}break}case ac:{if(o[e]===ee){y();return}break}}},ql=(c,o,e,l)=>{switch(u){case Zs:{let t=new Map,s=v.join("."),n=Object.seal({generics:[],inputs:[],locals:[],outputs:[],statements:[]}),r=Object.seal({type:lt,name:it,path:s,hasArity:!1,description:n});a=Object.seal({procedure:r,stack:t}),u=qs;break}case qs:{let{procedure:t}=a,s=o.subarray(e,e+l|0),n=f(s);if(St(c,o,e,l))return;if(Z(s,Xt)){b=T|0,O=c-d|0,failReservedKeyword(n);return}t.name=n,u=Qs;break}case Qs:{if(o[e]===$e)u=xs,_=!0;else if(o[e]===pe)u=cs,_=!0;else{let t=o.subarray(e,e+l|0),s=f(t);b=T|0,O=c-d|0,qe(s);return}break}case xs:{let{procedure:t}=a,{description:s}=t,{generics:n}=s;u=cs,h(),a=n,U=Ss,u=Ls,_=!0;break}case cs:{let{procedure:t}=a,{description:s}=t,{inputs:n}=s;u=en,h(),a=n,U=Ns,u=Ps,_=!0;break}case en:{let{procedure:t,stack:s}=a,{description:n}=t,{inputs:r}=n;for(let R of r){let{name:F,data:w}=R;s.set(F,w)}let i=o.subarray(e,e+l|0),E=o[e];if(Z(i,Ks)){u=tn;return}if(E===ce){u=us,_=!0;return}b=T|0,O=c-d|0;let m=f(i),N=_r;Y(`${f(Ks)} or ${f(ce)}`,m,N);break}case tn:{let{procedure:t}=a,{description:s}=t,{outputs:n}=s;u=us,h(),a=n,U=Ns,u=Ps,_=!0;break}case us:{let t=o[e],{procedure:s}=a;if(Re(s),t===ce){u=sn;return}b=T|0,O=c-d|0;let n=o.subarray(e,e+l|0),r=f(n),i=nt;Y(f(ce),r,i);break}case sn:{if(o[e]===ee){u=nn;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=os;Y(f(ee),n,r);break}case nn:{let{procedure:t,stack:s}=a,{description:n}=t,{statements:r}=n;u=on,h(),a=Object.seal({procedure:t,stack:s,statements:r}),U=Ye,u=Lt,_=!0;break}case on:{let i=function(E,m=!0){let N=[Wa,Xa,Ka,Za],R=!1;if(E.find(w=>w.type===pt))return!0;for(let w=E.length-1;w>=0;w--){let j=E[w];if(N.includes(j.type)&&j.statements)i(j.statements,!1)&&(R=!0);else if(j.type===Ja){let H=0;for(let Ae of j.matches)i(Ae.statements)&&H++;let{data:$}=ue(j.value),ie=S.find(Ae=>Ae.name===$.name&&Ae.path===$.path);j.matches.find(Ae=>Ae.type===bs)&&H===j.matches.length||ie&&ie.type===Bt&&j.matches.length===ie.description.labels.length?R=!0:H>0&&(b=T|0,O=c-d|0,re(`ReturnError: Procedure "${t.name}" has condition-specific returns; it will not return if conditions are not met.`))}else if(j.type===jn)if(j.branches&&j.branches.length>0){let H=E.some($=>$.type===pt);if(m&&!H&&j.branches.length<2)return b=T|0,O=c-d|0,re(`ReturnError: Procedure "${t.name}" has condition-specific returns; it will not return if conditions are not met.`),!1;if(!H){for(let $ of j.branches)if(!$.statements||!i($.statements,!1))return b=T|0,O=c-d|0,re(`Procedure ${t.name} does not have a return statement. Please make sure your return values are marked as defined in the procedure definition.`),!1;w!==E.length-1&&E[E.length-1].type!==ts&&(b=T|0,O=c-d|0,re(`Code after return statement will not be executed. Procedure ${t.name} has defined statements after a return statements which makes them unreachable.`))}R=!0}else return console.error("Error: Condition does not have branches"),!1;else j.type===pt&&(w!==E.length-1&&E[E.length-1].type!==ts&&(b=T|0,O=c-d|0,re(`Code after return statement will not be executed. Procedure ${t.name} has defined statements after a return statements which makes them unreachable.`)),R=!0);if(R==!0)break}return m&&!R&&(b=T|0,O=c-d|0,re(`Procedure ${t.name} does not have a return statement. Please make sure your return values are marked as defined in the procedure definition.`)),R},{procedure:t}=a,{description:s}=t,{statements:n,outputs:r}=s;if(t.hasArity){let E=Object.freeze({name:s.locals.find(N=>N.purpose===Fn).name,type:xe}),m=Object.freeze({type:pt,values:[E]});n.push(m)}if(r.length!==0&&i(n),r.length===0&&!n.find(E=>E.type===pt)&&n.push(Object.freeze({type:pt,values:[]})),y(),a&&a.export){let E=Object.freeze({name:t.name,type:t.type,path:ll});W.push(E);let m=je;y(),je===m&&y(),je<m&&h()}_=!0;break}}},Ql=(c,o,e,l)=>{switch(u){case Lt:{if(Sn(c,Zn)){b=T|0,O=c-d|0,_a(c);return}je=wt(c),u=lc,_=!0;break}case lc:{let t=o.subarray(e,e+l|0);if(Nn(c)){y(),_=!0;return}h(),U=Ne,u=Nr,_=!0;break}case Yc:{let{statements:t}=a,s={type:X_};t.push(s),y();break}case cu:{let{procedure:t,stack:s,statements:n}=a,r=Object.seal({type:Wa,condition:null,statements:[]});n.push(r),h(),a=Object.seal({blockWhile:r,procedure:t,stack:s}),u=uu;break}case uu:{let{stack:t,procedure:s}=a;u=iu,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case iu:{if(o[e]===ce){let{value:i}=a;y();let{blockWhile:E}=a;E.condition=i,u=lu;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case lu:{let{blockWhile:t,procedure:s,stack:n}=a,{statements:r}=t;if(o[e]===ee){u=Po,h(),a=Object.seal({procedure:s,stack:n,statements:r}),U=Ye,u=Lt;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=Pt;Y(f(ee),m,N);break}case Lu:{let{procedure:t,stack:s,statements:n}=a,r=Object.seal({type:Ja,value:null,matches:[]});n.push(r),h(),a=Object.seal({blockWhen:r,procedure:t,stack:s}),u=Ru;break}case Ru:{let{stack:t,procedure:s}=a;u=ku,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case ku:{if(o[e]===ce){let{value:i}=a;y();let{blockWhen:E}=a;E.value=i,u=Cu;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case Cu:{if(o[e]===ee){u=ko;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=Pt;Y(f(ee),n,r);break}case ko:{let t=o.subarray(e,e+l|0);if(Z(t,Ts)){let{stack:s,procedure:n,blockWhen:r}=a,{matches:i}=r;h();let E=Object.seal({type:ms,value:null,statements:[]});i.push(E),a={procedure:n,stack:s,match:E,blockWhen:r},u=vu,h(),a={stack:s,procedure:n,value:null},h(),u=Se,U=Ne;return}}case vu:{if(o[e]===ce){let{value:i}=a;y();let{match:E,blockWhen:m}=a,N=ue(m.value),R=ue(i);if(R.data.path!=N.data.path||R.data?.name!=N.data?.name){b=T|0,O=c-d|0,re(`TypeError: Type mismatch in when block. When value's ${N.data.name} is being compared against match value's ${R.data.name}. To avoid unexpected behaviours. Use when with I32 or Enums, and if for other type conditions`);return}E.value=i,u=Co;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case Co:{let{match:t,procedure:s,stack:n}=a,{statements:r}=t;if(o[e]===ee){u=yu,h(),a=Object.seal({procedure:s,stack:n,statements:r}),U=Ye,u=Lt;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=Pt;Y(f(ee),m,N);break}case Uu:{let{stack:t,procedure:s,blockWhen:n}=a,{matches:r}=n,i=o.subarray(e,e+l|0);if(Z(i,$s)){h();let N=Object.seal({type:bs,statements:[]});r.push(N),a={procedure:s,stack:t,match:N},u=Bu;return}b=T|0,O=c-d|0;let E=f(i),m=[];Y(f($s),E,m);break}case Bu:{if(o[e]==ce){u=Co;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case yu:{y();let t=o.subarray(e,e+l|0);if(Z(t,Ts)){u=ko,_=!0;return}if(Z(t,$s)){u=Uu,_=!0;return}let{blockWhen:s}=a,n=s.matches.every(r=>r.statements.some(i=>i.type===pt||i.type===ts))&&s.matches.some(r=>r.type===bs);y(),n&&a.statements.push(Object.freeze({type:ts})),y(),_=!0;break}case fu:{let{procedure:t,stack:s,statements:n}=a,r=Object.seal({type:Za,limit:null,variable:null,modifier:it,initializer:null,step:null,statements:[]});n.push(r),h(),a=Object.seal({procedure:t,stack:s,blockFor:r}),u=Eu,ve();break}case Eu:{Oe(c,o,e,l);let t=o.subarray(e,e+l|0),s=f(t);if(o[e]===ce){u=_u,Le();return}if(fr.includes(s)){u=Tu,Le();return}if(o[e]===et){b=T|0,O=c-d|0;let n=o.subarray(e,e+l|0);re("Unexpected behavior: Existing variables can not be updated in for loop definition. Please update the value before you define the loop or declare a brand new variable.");return}break}case _u:{let{stack:t,blockFor:s}=a,n=o.subarray(e,e+l|0),r=f(n);if(t.has(r)){b=T|0,O=c-d|0,Jt(r);return}s.variable=Object.freeze({type:xe,name:r}),u=pu;break}case pu:{let t=o.subarray(e,e+l|0),s=f(t);if(o[e]===ce){let{blockFor:i,stack:E}=a,{name:m}=i.variable;if(E.has(m)){b=T|0,O=c-d|0,Jt(m);return}if(o[e+1]===et&&l>1){u=Lo,_=!0;return}u=mu;return}b=T|0,O=c-d|0;let r=pr;Y(`${f(ce)} or ${f([ce,et])}`,s,r);break}case mu:{let{blockFor:t,procedure:s,stack:n}=a,{variable:r}=t,{description:i}=s,{locals:E}=i,m=o.subarray(e,e+l|0),N=f(m);if(rt(c,o,e,l)){b=T|0,O=c-d|0,qe(N);return}let R=Ue(N);if(R){let F=Object.seal({type:Ce,name:R.name,path:R.path}),w;if(r.mutable?w=Object.freeze({name:r.name,data:{...F,mutable:target.mutable}}):w=Object.freeze({name:r.name,data:F}),!zs.includes(r.data.name)){b=T|0,O=c-d|0;let j=o.subarray(e,e+l|0),H=f(j);re(`Error: 'For' loop counter must be a numeric type. The current counter type is '${H}', which is not supported. Please use a numeric type (e.g., integer or floating-point) for the loop counter.`);return}n.set(r.name,r.data),E.push(w),u=Lo;break}}case Lo:{if(o[e]===et||o[e]===ce&&o[e+1|0]===et){u=bu;return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t);Y(et,s,[]);break}case bu:{let{stack:t,procedure:s}=a;u=Ou,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Ou:{let{stack:t,procedure:s,value:n}=a,{description:r}=s,{locals:i}=r;y();let{blockFor:E}=a,{variable:m}=E,{data:N}=ue(n),R=t.get(E.variable.name);if(R){if(R.name!==N.name){if(N.type!==Ie){b=T|0,O=c-d|0,ba(R.name,N.name);return}if(!zs.includes(m.data.name)){b=T|0,O=c-d|0;let F=o.subarray(e,e+l|0),w=f(F);re(`Error: 'For' loop counter must be a numeric type. The current counter type is '${w}', which is not supported. Please use a numeric type (e.g., integer or floating-point) for the loop counter.`);return}}}else t.set(m.name,N),i.push({name:m.name,data:N.type===Ie?{type:Ce,name:N.name,path:N.path}:N});E.initializer=Object.freeze({target:m,type:yt,source:n.type===Ie?{...n,name:R?.name||n.name}:n}),u=Ro,_=!0;break}case Tu:{let{stack:t,procedure:s}=a;u=Au,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Au:{let{value:t}=a;y();let{blockFor:s}=a;s.variable=Ve(t),u=Ro,_=!0;break}case Ro:{let{blockFor:t}=a,s=o.subarray(e,e+l|0),n=f(s);if(fr.includes(n)){t.modifier=n,u=du;return}b=T|0,O=c-d|0;let r=f(s),i=[];Y(`'For' loop modifiers (e.g., ${na}, ${oa}, ${aa}, or ${ra})`,r,i);break}case du:{let{stack:t,procedure:s}=a;u=Iu,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Iu:{let{value:t}=a,{data:s}=ue(t);if(!zs.includes(s.name)){b=T|0,O=c-d|0;let F=o.subarray(e,e+l|0),w=f(F);re(`Error: 'For' loop limit must be a numeric type. The current limit type is '${w}', which is not supported. Please use a numeric type (e.g., integer or floating-point) for the loop limit.`);return}y();let{blockFor:n}=a,{modifier:r}=n;n.limit=Ve(t);let i=(F,w)=>w.find(j=>j.description&&Array.isArray(j.description.inputs)?j.description.inputs.length!==2?!1:j.description.inputs.every((H,$)=>H.data.name===F.name):!1),E={[na]:{stepper:"+",conditioner:"<="},[aa]:{stepper:"+",conditioner:"<"},[oa]:{stepper:"-",conditioner:">="},[ra]:{stepper:"-",conditioner:">"}};if(E.hasOwnProperty(r)){let{stepper:F,conditioner:w}=E[r],j=i(s,Gt[F]),H=i(s,Gt[w]);Re(j),Re(H)}let m=o.subarray(e,e+l|0);if(Z(m,cr)){u=Nu;return}b=T|0,O=c-d|0;let N=f(m),R=[];Y(f(cr),N,R);break}case Nu:{let{procedure:t,stack:s}=a;u=Su,h(),a={stack:s,procedure:t,value:null},h(),u=Se,U=Ne,_=!0;break}case Su:{if(o[e]===ce){let{value:i}=a;y();let{blockFor:E}=a;E.step=Ve(i);let{data:m}=ue(i);if(!zs.includes(m.name)){b=T|0,O=c-d|0;let N=o.subarray(e,e+l|0),R=f(N);re(`Error: 'For' loop step must be a numeric type. The current step type is '${R}', which is not supported. Please use a numeric type (e.g., integer or floating-point) for the loop step.`);return}u=hu;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case hu:{let{blockFor:t,procedure:s,stack:n}=a,{statements:r}=t;if(o[e]===ee){u=Pu,h(),a=Object.seal({procedure:s,stack:n,statements:r}),U=Ye,u=Lt;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=Pt;Y(f(ee),m,N);break}case Pu:{y(),y(),_=!0;break}case eu:{let{procedure:t,stack:s,statements:n}=a,r=Object.seal({type:Xa,iterator:null,index:`j_${ut()}`,collection:null,statements:[]}),i={name:r.index,data:{type:Ce,name:Je,path:me}};s.set(i.name,i.data),n.push(r),Ue(i.data.name),h(),a=Object.seal({blockForeach:r,procedure:t,stack:new Map(JSON.parse(JSON.stringify(Array.from(s))))}),u=tu;break}case tu:{let t=o.subarray(e,e+l|0),{blockForeach:s,stack:n}=a,r=f(t);if(n.has(r)){Jt(r),b=T|0,O=c-d|0;return}s.iterator=r,u=su;break}case su:{let{blockForeach:t,stack:s,procedure:n}=a,{description:r}=n,{locals:i}=r,E=o.subarray(e,e+l|0);if(Z(mp,E)){s.delete(t.index),u=nu;return}_=!0,u=ho;break}case nu:{let{blockForeach:t,stack:s,procedure:n}=a,{description:r}=n,{locals:i}=r,E=o.subarray(e,e+l|0),m=f(E);if(s.has(m)){Jt(m),b=T|0,O=c-d|0;return}let N={name:m,data:{type:Ce,name:Je,path:me}};s.set(m,N.data),i.push(N),Ue(N.data.name),t.index=m,u=ho;break}case ho:{let{blockForeach:t,stack:s,procedure:n}=a,{description:r}=n,{locals:i}=r,E=o.subarray(e,e+l|0);if(Z(rr,E)){s.has(t.index)&&!i.find(R=>R.name===t.index)&&i.push({name:t.index,data:s.get(t.index)}),u=ou;return}b=T|0,O=c-d|0;let m=f(E),N=nt;Y(f(rr),m,N);break}case ou:{let{stack:t,procedure:s}=a;u=au,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case au:{if(o[e]===ce){let{value:i,stack:E,procedure:m}=a,{description:N}=m,{locals:R}=N;y();let{blockForeach:F}=a;F.collection=i;let{data:w}=ue(i),j={name:F.iterator,data:{type:w.contains||Ce,name:w?.name===tt?Os:w?.name,path:w?.path,layout:w.contains}};E.set(j.name,j.data),R.push(j),u=ru;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case ru:{let{blockForeach:t,procedure:s,stack:n}=a,{statements:r}=t;if(o[e]===ee){u=Po,h(),a=Object.seal({procedure:s,stack:n,statements:r}),U=Ye,u=Lt;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=Pt;Y(f(ee),m,N);break}case Po:{y(),y(),_=!0;break}case Dc:{let{procedure:t,stack:s,statements:n}=a,r=Object.freeze({type:Ka,statements:[]});n.push(r),h(),a=Object.seal({blockLoop:r,procedure:t,stack:new Map(JSON.parse(JSON.stringify(Array.from(s)))),value:0}),u=Mc;break}case Mc:{if(o[e]===ce){u=Fc;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(f(ce),n,r);break}case Fc:{let{blockLoop:t,procedure:s,stack:n}=a,{statements:r}=t;if(o[e]===ee){u=jc,h(),a=Object.seal({procedure:s,stack:n,statements:r}),U=Ye,u=Lt;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=Pt;Y(f(ee),m,N);break}case jc:{y(),y(),_=!0;break}case fc:{let{procedure:t,stack:s,statements:n}=a,r=Object.freeze({type:jn,branches:[],values:[]});n.push(r),h(),a=Object.seal({blockCondition:r,procedure:t,stack:new Map(JSON.parse(JSON.stringify(Array.from(s)))),value:0}),u=Tc;break}case Tc:{if(o[e]===pe){let{stack:t,procedure:s}=a;u=Eo,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;return}ve(),Oe(c,o,e,l),u=Ac;break}case Ac:{Oe(c,o,e,l);let t=o[e],s=o.subarray(e,e+l|0);if(t===pe||t===ce){let{stack:n,procedure:r}=a;u=Eo,h(),a={stack:n,procedure:r,value:null},h(),u=Se,U=Ne,_=!0,Le();return}if(Z(s,Ts)){let{stack:n,procedure:r}=a;u=lo,h(),a={stack:n,procedure:r,value:null},h(),u=Se,U=Ne,_=!0,Le();return}break}case Eo:{let{value:t}=a;y();let{blockCondition:s,stack:n,procedure:r}=a,{branches:i}=s,E=Object.seal({type:ms,statements:[],values:[Ve(t)]});i.push(E),a=Object.seal({blockCondition:s,branch:E,stack:n,value:t,procedure:r}),u=_o,_=!0;break}case Nc:{let{stack:t,branches:s,procedure:n}=a,r={type:bs,statements:[],values:[]};s.push(r),a=Object.seal({branch:r,stack:t,procedure:n}),u=_o;break}case _o:{let t=o.subarray(e,e+l|0);if(o[e]===ce){u=dc;return}b=T|0,O=c-d|0;let s=f(t),n=As;Y(f(ce),s,n);break}case dc:{let{branch:t,procedure:s,stack:n}=a,{statements:r}=t;if(o[e]===ee){u=Ic,h(),a=Object.seal({procedure:s,stack:n,statements:r}),U=Ye,u=Lt;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=Pt;Y(f(ee),m,N);break}case Ic:{if(a.blockCondition){let{blockCondition:t}=a,{branches:s}=t;y(),y(),a=Object.seal({...a,branches:s})}else{y();let{branches:t,...s}=a;if(t.length==2&&t[0].type===ms&&t[0].statements.find(n=>n.type===pt)&&t[1].type===bs&&!t[1].statements.find(n=>n.type===pt)){let n=`arity_${ut()}`,r=`status_${ut()}`,i=Object.freeze({type:Ce,name:Kt,path:me,mutable:!0}),E=Object.freeze({name:r,purpose:Ga,data:i}),m=Object.freeze({name:n,purpose:Fn,data:{...s.procedure.description.outputs[0].data,mutable:!0}});s.procedure.description.locals.push(m,E);let N=Object.freeze({type:xe,name:n}),R=Object.freeze({type:yt,source:t[0].statements.find(H=>H.type===pt).values[0],target:N}),F=Object.freeze({type:yt,source:Object.freeze({type:Ie,literal:"TRUE",name:Kt,path:me}),target:Object.freeze({type:xe,name:r})});t[0].statements.pop(),t[0].statements.push(R,F),s.statements.push(...t[1].statements),t.pop();let{stack:w}=s;w.set(n,m.data),w.set(r,i);let j=Object.freeze({type:yt,source:Object.freeze({type:Ie,name:Kt,literal:"FALSE",path:me}),target:Object.freeze({type:xe,name:r})});s.statements.unshift(j),s.procedure.hasArity=!0}t.every(n=>n.statements.some(r=>r.type===pt||r.type===ts))&&s.statements.push(Object.freeze({type:ts})),a=Object.seal(s)}_=!0;break}case lo:{let{value:t}=a;y();let{blockCondition:s,stack:n}=a,{values:r}=s,i=o.subarray(e,e+l|0),E=f(i);r.push(t),u=Ec,_=!0;break}case Ec:{if(o[e]===Be){let{stack:i,procedure:E}=a;u=lo,h(),a={stack:i,procedure:E,value:null},h(),u=Se,U=Ne,_=!0;return}let s=o.subarray(e,e+l|0);if(Z(s,Ts)){u=_c,h(),u=pc,_=!0;return}b=T|0,O=c-d|0;let n=f(s),r=Yp;Y(`${f(Ts)} or ${f(Be)}`,n,r);break}case _c:{y(),y(),_=!0;break}case pc:{let{blockCondition:t,procedure:s,stack:n}=a,{branches:r}=t,i=Object.seal({type:ms,statements:[],values:[]});r.push(i),a=Object.seal({blockCondition:t,branchMatch:i,procedure:s,stack:n}),u=fo;break}case fo:{let{blockCondition:t,branchMatch:s,stack:n}=a,{values:r}=t,{values:i}=s,E=o.subarray(e,e+l|0),m=f(E);if(St(c,o,e,l)&&!Z(E,nr)){b=T|0,O=c-d|0;let N=o.subarray(e,e+l|0),R=f(N);Y("match value",R,nt);return}if(n.has(m)){let N=Object.freeze({type:xe,name:m});i.push(N)}else if(bn(m)){let N=Object.freeze({type:Ie,literal:m,name:Kt,path:me});i.push(N),Ue(N.name)}else{let{procedure:N}=a,{description:R}=N,{outputs:F}=R,w=m,{name:j,path:H}=F[0].data,$=Object.freeze({type:Ie,literal:w,name:j,path:H});i.push($)}u=mc;break}case mc:{let t=o[e];if(t===Be){u=fo;return}if(t===ce){u=bc;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=nt;Y(`${f(Be)} or ${f(ce)}`,n,r);break}case bc:{let{branchMatch:t,procedure:s,stack:n}=a,{statements:r}=t;if(o[e]===ee){u=Oc,h(),a=Object.seal({procedure:s,stack:n,statements:r}),U=Ye,u=Lt;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=Pt;Y(f(ee),m,N);break}case Oc:{y();let t=o.subarray(e,e+l|0),s=f(t);_=!0;break}case Sc:{u=hc;break}case hc:{if(o[e]===ee){y();return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=Pt;Y(f(ee),n,r);break}case Pc:{let{procedure:t,stack:s,statements:n}=a,r=Object.seal({type:pt,values:[]});n.push(r),h();let i=T|0,E=c-d|0,m=Object.freeze({row:i,column:E});a=Object.seal({commandReturn:r,coordinates:m,procedure:t,stack:s}),u=po;break}case po:{let{stack:t,procedure:s}=a;if(o[e]===ee){u=mo,_=!0;return}u=Lc,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Lc:{let{value:t}=a;y();let{commandReturn:s,stack:n,procedure:r}=a,{values:i}=s;i.push(Ve(t));let E=o[e];if(E===ee){u=mo,_=!0;return}if(E===Be){u=po;return}b=T|0,O=c-d|0;let m=o.subarray(e,e+l|0),N=f(m),R=Er;Y(`${f(ee)} or ${f(Be)}`,N,R);break}case mo:{let{commandReturn:t,coordinates:s,procedure:n}=a,{values:r}=t,{description:i}=n,{outputs:E}=i;if(r.length!==E.length){b=s.row|0,O=s.column|0,Vl(E.length,r.length,n.name);return}for(let m of E){let N=E.indexOf(m),R=ue(r[N]);if(R&&R.data.name!=m.data.name){b=s.row|0,O=s.column|0,re(`Mismatching types provided on procedure's return. Procedure expected ${m.data.name} at index ${N} but was provided with a rather ${R.data.name}. Please review to provide matching types.`);return}}if(n.hasArity){let m=Object.freeze({name:i.locals.find(j=>j.purpose===Fn).name,type:xe}),N=Object.freeze({name:i.locals.find(j=>j.purpose===Ga).name,type:xe}),R=Object.freeze({type:yt,source:r[0],target:m}),F=Object.freeze({type:ms,statements:[R],values:[N]}),w=Object.freeze({type:jn,branches:[F],values:[]});i.statements.pop(),i.statements.push(w)}y(),y();break}case Vc:{let t=o.subarray(e,e+l|0),{procedure:s,stack:n,statements:r}=a,i={type:xe,name:null},E=Object.seal({type:yt,target:i,source:null});if(a=Object.freeze({declarationValue:E,procedure:s,stack:n,statements:r,target:i}),Z(Xt,t))i.mutable=!0,u=bo;else{_=!0,u=So,ve();return}break}case So:{Oe(c,o,e,l),u=Hc;break}case Hc:{if(Oe(c,o,e,l),o[e]===pe){let{procedure:t,stack:s,statements:n}=a;u=zc;let r=Object.seal({type:Ha,expression:null});a=Object.seal({stack:s,procedure:t,drop:r,value:null,statements:n}),h(),U=ge,u=cn,Le();return}if(o[e]===st){u=So;return}u=bo,Le();break}case zc:{let{statements:t,drop:s,value:n}=a;s.expression=n,t.push(s),y();break}case bo:{let{stack:t}=a,s=o.subarray(e,e+l|0),n=f(s),r=t.get(n);if(t.has(n)&&!r.mutable&&(De=!0),Z(tr,s)){_=!0,u=Gc;return}let{target:i}=a;i.name=n,u=Oo;break}case Oo:{let t=o[e],{procedure:s,stack:n,statements:r,target:i}=a;if(t===He){let R=a.declarationValue,F={type:yt,target:{type:$a,array:{type:xe,name:R.target.name},index:null},source:null};a=Object.seal({declarationValue:F,procedure:s,stack:n,statements:r}),_=!0,u=To;return}if(t===st){let R=a.declarationValue,F=[],w=R.target;a=Object.seal({declarationValue:{type:yt,target:{type:dt,value:w,trail:F},source:null},procedure:s,stack:n,statements:r}),h(),a=Object.seal({stack:n,trail:F,value:w}),u=Ao;return}if(t===ce){_=!0,u=Cc;return}if(t===le){let{declarationValue:R}=a;y(),a.declarationValue.target=R.target,_=!0;return}if(t===et){let R=a.declarationValue?.target&&ye(a.declarationValue?.target);if(R&&R!==ft&&!n.get(R)){b=T|0,O=c-d|0,vs(R);return}u=an;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=As;Y(`${f(He)} or ${f(le)} or ${f(et)} or ${f(et)} or ${f(st)}`,m,N);break}case Gc:{a.target.type=Dt,a.target.trail=[],delete a.target.name,u=Io;break}case Io:{if(o[e]===st){u=$c;return}u=No,_=!0;break}case $c:{let t=o.subarray(e,e+l|0),s=f(t);a.target.trail.push(s),u=Kc;break}case Kc:{if(_=!0,o[e]===st){u=Io;return}if(o[e]==He){u=To;let t=Object.seal({type:$a,array:a.target,index:null});a.declarationValue.target=t;return}u=No;break}case No:{u=Rs,_=!0;break}case To:{if(o[e]===He){u=Uc;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=xn;Y(f(He),n,r);break}case Uc:{let{stack:t,procedure:s}=a;u=Bc,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Bc:{if(o[e]===Ft){let{value:i}=a;y();let E=ue(i);if(E.data.mutable&&i.type!==dt?a.declarationValue.target.index=Object.seal({type:It,link:i}):a.declarationValue.target.index=i,!E||![Je,"U32","I16","U16","U8","I8"].includes(E.data.name)){b=T|0,O=c-d|0,re("Invalid index. Array index must be a valid I32 variable");return}u=Rs;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=mr;Y(f(Ft),n,r);break}case Rc:{let{procedure:t,stack:s,statements:n}=a,r=Object.seal({type:wn,link:null}),i=Object.seal({type:yt,target:r,source:null});a=Object.freeze({declarationValue:i,procedure:t,stack:s,statements:n}),u=Xc;break}case Xc:{if(o[e]===pe){u=kc;return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=ot;Y(f(pe),s,n);break}case kc:{let{stack:t,procedure:s}=a;u=Wc,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Wc:{if(o[e]===le){let{value:r}=a;y(),a.declarationValue.target.link=r,u=Oo;return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=We;Y(f(le),s,n);break}case wc:{if(o[e]!==st){y(),_=!0;return}u=Ao;break}case Ao:{let{stack:t,value:s,trail:n}=a,r=o.subarray(e,e+l|0),i=f(r),E,m,N=!1;if(s.type===xe){let{name:R}=s;E=t.get(R)}if(E){let{name:R,path:F}=E,w=`${F}.${R}`,j=p.get(w);j.type===Me&&(m=j)}if(m){let{description:R}=m,{members:F}=R;for(let w of F)if(w.name===i){N=!0;break}if(!N){b=T|0,O=c-d|0,Ot(i,s.name);return}}if(s.value===ft||s.link===ft){if(!t.get(i)){b=T|0,O=c-d|0,Ot(i,`${ft}(current object in definition)`);return}N=!0}if(!N){b=T|0,O=c-d|0,Ot(i,s.name);return}n.push(i),u=wc;break}case Cc:{let t=o.subarray(e,e+l|0),s=f(t);if(o[e]===ce){let{target:i,stack:E}=a,{name:m}=i;if(E.has(m)){b=T|0,O=c-d|0,Jt(m);return}if(o[e+1]===et&&l>1){u=gc,_=!0;return}u=vc,h(),a=Object.seal({data:null}),h(),U=mt,u=ct;return}b=T|0,O=c-d|0;let r=pr;Y(`${f(ce)} or ${f([ce,et])}`,s,r);break}case vc:{let{data:t}=a;y();let{declarationValue:s,procedure:n,stack:r,statements:i}=a,{target:E}=s,{description:m}=n,{locals:N}=m,R,F;if(t.type!==Ce)E.mutable?R=Object.freeze({name:E.name,data:{...t,mutable:E.mutable}}):R=Object.freeze({name:E.name,data:t}),t.type===Fe|t.layout===Fe&&(F=!0);else{let w=Ue(t.name);if(w){let j=Object.seal({type:Ce,name:w.name,path:w.path});E.mutable?R=Object.freeze({name:E.name,data:{...j,mutable:E.mutable}}):R=Object.freeze({name:E.name,data:j})}else if(t.name===Fe)F=!0;else{b=T|0,O=c-d|0,Ct(name);return}}if(F){let w;E.mutable?(w={name:E.name,mutable:E.mutable,data:R.data},delete E.mutable):w=Object.seal({name:E.name,data:R.data}),r.set(E.name,w.data),N.push(w),a=Object.seal({declarationValue:s,procedure:n,stack:r,statements:i,inferenceValue:w}),u=Rs,_=!0;return}r.set(E.name,R.data),N.push(R),u=Rs,_=!0;break}case gc:{let{declarationValue:t,procedure:s,stack:n,statements:r}=a,{target:i}=t,{description:E}=s,{locals:m}=E,N;i.mutable?(N={name:i.name,mutable:i.mutable,data:null},delete i.mutable):N=Object.seal({name:i.name,data:null}),n.set(i.name,N.data),m.push(N),a=Object.seal({declarationValue:t,procedure:s,stack:n,statements:r,inferenceValue:N}),u=an;break}case Rs:{let t=o.subarray(e,e+l|0);if(Z(t,Gs)){u=an;return}b=T|0,O=c-d|0;let s=f(t),n=As;Y(f(Gs),s,n);break}case an:{let{procedure:t,stack:s,target:n}=a,r=o[e];if(rt(c,o,e,l)&&r!==pe&&r!==He){let i=o.subarray(e,e+l|0),E=f(i);b=T|0,O=c-d|0,qe(E);return}u=yc,h(),a=Object.seal({procedure:t,stack:s,value:null}),h(),U=Ne,u=Se,_=!0;break}case yc:{if(o[e]===ee){let{value:i}=a;y();let{declarationValue:E,statements:m,stack:N}=a;if(a.inferenceValue){let x=function(Q){let te;switch(Q.type){case xe:{let oe=N.get(Q.name);oe.type===Ce?te=oe:oe.type===Ie?(te={type:Ce,name:oe.name,path:oe.path},Q.mutable&&(te.mutable=Q.mutable),Q.contains&&(te.contains=Q.contains)):(oe.type===Fe||oe.type==="Link")&&(te=oe);let{moved:Tt,...Qe}=te;te=Qe;break}case es:{te={type:Ce,name:tt,path:me};break}case Ie:{te={type:Ce,name:Q.name,path:Q.path},Q.layout===Fe&&(te.type=Fe,te.quantity=Q.quantity,Ue(te.name)),Q.contains&&(te.contains=Q.contains);break}case Vn:{te={type:Ce,name:Je,path:me};break}case ws:{te={type:Q.type,name:Q.data.name,path:Q.data.path},Q.data.contains&&(te.contains=Q.data.contains);break}case gn:{te=x(Q.value);break}case $t:{if(Q.name===Vs)return Ue(ks),{type:Ce,name:ks,path:me};let oe=Qe=>D.find(At=>At.type===lt&&At.name===Qe.name)?.description.outputs[0]?.data,Tt=(Qe,At)=>{let at;for(let vt=0;At&&vt<=Qe.name.length-2;vt++)At=N.get(Qe.name[vt]),At&&(at=S.find(Zt=>Zt.type===Me&&Zt.name===At.name));return at?.description.members?.find(vt=>vt.name===Qe.name[Qe.name.length-1])?.description.outputs[0]?.data};if(typeof Q.name===Me&&Q.name[0]===Dt){let Qe=z(0);Qe&&(te=q(Qe,Q.name.slice(1)).description?.outputs[0]?.data)}else if(Q.path!==me){if(te=oe(Q),typeof Q.name=="object"){let Qe=N.get(Q.name[0]);te=Tt(Q,Qe)}if(!te){b=T|0,O=c-d|0,re(`TypeError: can not infer type from a function '${Q.name}' as it does not have a return type.`);return}}else if(lr.has(Q.name))te={type:Ce,name:Kt,path:me},Ue(te.name);else{let Qe=Q.inputs.map(at=>ue(at)),At=D.find(at=>at.description&&Array.isArray(at.description.inputs)?at.description.inputs.length!==Qe.length||at.name!=Q.name?!1:at.description.inputs.every((vt,Zt)=>vt.data.name===Qe[Zt].data.name):!1);if(At){let{description:at}=At,{outputs:vt}=at,Zt=vt[0],{data:of}=Zt,{name:af,path:rf}=of;te={type:Ce,name:af,path:rf}}else{b=T|0,O=c-d|0,ma(Qe.map(at=>at.data.name),Q.name);return}}break}case Mt:{te={...x(Q.value),type:Yn},Q.unsafe&&(te.unsafe=Q.unsafe),Q.smart&&(te.smart=Q.smart);break}case It:{let oe=N.get(Q.link);te={type:Ce,name:oe.name,path:oe.path},oe.contains&&(te.contains=oe.contains);break}case Ys:{let oe=ue(Q.array).data;te={type:Ce,name:oe.name,path:oe.path},oe.contains&&(te.contains=oe.contains);break}case dt:return ue(Q)?.data;case Me:return{type:Ce,name:Q.name,path:Q.path};default:{b=T|0,O=c-d|0,re("Error: unhandled inference type: ",Q.type);return}}return te},{inferenceValue:se}=a;se.data=x(i),se.mutable&&(se.data.mutable=se.mutable,delete se.mutable),N.set(se.name,se.data)}let{target:R}=E,F=ye(R),w=ye(i);if(N.has(w)){let se=S.find(x=>x.name===N.get(w).name&&x.type===Me);se&&!se.copy&&(b=T|0,O=c-d|0,$l(w))}F&&F!==ft&&(se=>{if(!N.get(se)?.mutable&&De){b=T|0,O=c-d|0,Gl(se);return}})(F),E.source=i;let H=ue(R),$=ue(i),ie=(se,x)=>{if(se===x)return!0;if(typeof se!="object"||se===null||typeof x!="object"||x===null)return!1;if(se.type==="local"&&x.type==="local")return se.name===x.name;let Q=Object.keys(se).filter(oe=>oe!=="mutable"),te=Object.keys(x).filter(oe=>oe!=="mutable");if(Q.length!==te.length)return!1;for(let oe of Q)if(!te.includes(oe)||!ie(se[oe],x[oe]))return!1;return!0},Ae=(se,x)=>se.some(Q=>ie(Q,x));if(H&&$){H.data?.mutable&&H.data.path===me&&H.data.type!==Fe&&R.type!=dt&&(Ae(Wt,R)||a.procedure.description.inputs.some(x=>x.name===H.name||x.name===ye(R))?E.target=Object.seal({type:wn,link:R}):$.data.path===me&&$.data.type!==Fe&&(E.source=Object.seal({type:Mt,value:i}),Wt.push(R))),$.data?.mutable&&$.data.path===me&&$.data.type!==Fe&&i.type!==dt&&(E.source=Object.seal({type:It,link:E.source}));let se=(x,Q)=>x.slice(1)===x.slice(1)||x.charAt(0)===x.charAt(0)||(x==="FP64"||x==="FP32"||x==="I64"||x==="U64"||x===Je||x==="U32"||x==="I16"||x==="U16"||x==="I8"||x==="U8")&&Q===Je||x==="FP64"&&Q=="FP32";if(H.data.name!==$.data.name&&!(H.data.type===$.data.name||H.data.name===$.data.type)&&!($.data.type===Ie&&se(H.data.name,$.data.name))){b=T|0,O=c-d|0,ba(H.data.name,$.data.name);return}}m.push(E),y();return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=gp;Y(f(ee),n,r);break}case Jc:{let{stack:t,procedure:s}=a,n=Object.seal({type:W_,unsafe:!0,value:null}),r=o.subarray(e,e+l|0);Z(r,ar)&&(n.unsafe=!1),h(),a=Object.seal({free:n,stack:t,procedure:s}),u=Zc;break}case Zc:{if(o[e]===pe){let{stack:i,procedure:E}=a;u=qc,h(),a={stack:i,procedure:E,value:null},h(),u=Se,U=Ne;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(pe),n,r);break}case qc:{let{value:t,stack:s}=a;y();let{free:n}=a;n.value=Ve(t);let r=!0,{name:i,data:E}=ue(t,r);if(b=T|0,O=c-d|0,E.type!==Yn){re(`Variable '${i}' is not a link and cannot be freed. Only 'unsafe' links are freeable.`);return}if(E.unsafe!==n.unsafe){re(`Improper free method used for link '${i}'. Unsafe links are unsafely freed with 'free!!' while safe ones are freed with 'free'. Your link(${i}) is ${E.unsafe?"un":""}safe.`);return}let m=s.get(i);m&&s.set(i,{...m,freed:!0}),u=Qc,_=!0;break}case Qc:{if(o[e]===le){let{free:i}=a;y();let{statements:E}=a;E.push(i),u=xc;break}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=We;Y(f(le),n,r);break}case xc:{y();break}}},xl=(c,o,e,l)=>{switch(u){case ct:{let t=o.subarray(e,e+l|0),s=f(t);if(u=Du,o[e]===He){h(),_=!0,u=el,U=rs;return}if(rt(c,o,e,l)&&!ht.includes(s)){b=T|0,O=c-d|0,qe(s);return}if(Z(zt,t)){h(),a={data:null},_=!0,u=_n,U=rs;return}if(Z(ns,t)){h(),a={data:null},_=!0,u=_n,U=rs;return}if(Z($n,t)){h(),a={data:null},_=!0,u=rl,U=rs;return}let n=Ue(s);if(n){n.type===Ut?a.data=Object.seal({type:Ce,name:s,path:n.path}):a.data=Object.seal({type:Ce,name:n.name,path:n.path}),a.mutable&&(a.data=Object.seal({...a.data,type:f(ns),unsafe:!0,mutable:a.mutable}));return}b=T|0,O=c-d|0,vs(s),y();break}case Du:{let t=o.subarray(e,e+l|0);if(o[e]===$e){_=!0,u=Mu;return}y(),_=!0;break}case Mu:{if(o[e]===$e){u=Fu;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ds;Y(f($e),n,r);break}case Fu:{let t=o.subarray(e,e+l|0),s=f(t),n=Ue(s);if(n){let{data:i}=a,{unsafe:E,type:m,smart:N}=i,R=fe(m);if(Z(R,zt))a.data=Object.seal({type:m.replace(/!!$/,""),name:n.name,path:n.path,segment:it,unsafe:E});else if(Z(R,ns))a.data=Object.seal({type:m,name:n.name,path:n.path,segment:it});else if(Z(R,Hs))a.data=Object.seal({type:m,name:n.name,path:n.path,segment:it,smart:N});else{if(S.find(w=>w.type===Me&&w.name===i.name)){u=ju,h(),a=[],h(),a={data:null},h(),_=!0,u=ct;return}a.data=Object.seal({type:m,name:n.name,path:n.path})}a.mutable&&(a.data=Object.seal({...a.data,mutable:a.mutable}));return}let r=o[e];if(r===Be)return;if(r===ze){_=!0,u=vo;return}a.data.segment!==void 0&&(a.data.segment=s),u=vo;break}case ju:{let t=o[e],{data:s}=a;if(y(),a.push(s),t===Be){h(),a={data:null},h(),u=ct;return}if(t===ze){let E=a;y();let m=S.find(R=>R.type===Me&&R.name===a.data.name);if(!(m.description?.generics?.length===E.length)){b=T|0,O=c-d|0,re(`Generic object '${name}' was provided with fewer or more than expect number of types. Expected: ${m.description.generics.length}. Got: ${E.length}`);return}a.data.name=B(a.data.name,E),y();return}b=T|0,O=c-d|0;let n=o.subarray(e,e+l|0),r=f(n),i=as;Y(`${f(Be)} or ${f(ze)}`,r,i);break}case vo:{if(o[e]===ze){y();return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=as;Y(f(ze),n,r);break}}},ef=(c,o,e,l)=>{switch(u){case el:{if(o[e]===He){let i=Object.seal({type:Fe,name:null,details:null,path:me,quantity:{size:null,capacity:null}});a=Object.seal({...a,type:i}),u=tl,h(),a={data:null},h(),U=mt,u=ct;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ds;Y(f(He),n,r);break}case tl:{let{data:t}=a;y(),a.type.name=t.name,a.type.path=t.path,a.type.details=t,_=!0,u=sl;break}case sl:{if(o[e]!==Ft){let s=o.subarray(e,e+l|0);b=T|0,O=c-d|0;let n=f(s),r=as;Y(f(Ft),n,r);return}let{type:t}=a;y(),a.data=t;return}case _n:{let t=o.subarray(e,e+l|0),n={type:f(t).replace(/!!$/,""),path:me,details:null};Z(t,zt)&&(n.unsafe=!0),n=Object.seal({...n,name:null,segment:null});let{declarationValue:r,stack:i,procedure:E}=a;a=Object.seal({declarationValue:r,stack:i,procedure:E,type:n}),u=nl;break}case nl:{let t=o.subarray(e,e+l|0);if(o[e]===$e){u=ol,h(),a={data:null},h(),U=mt,u=ct;return}b=T|0,O=c-d|0;let s=f(t),n=ds;Y(f($e),s,n);break}case ol:{let{data:t}=a;y(),Ue(t.name),t.type!==Ce?a.type.name=t.type:a.type.name=t.name,a.type.path=t.path,a.type.details=t,_=!0,u=pn;break}case Kp:{let t=o.subarray(e,e+l|0);if(o[e]===Be){u=al;return}if(o[e]===ze){u=pn,_=!0;return}b=T|0,O=c-d|0;let s=f(t),n=We;Y(`${Be} or ${f(ze)}`,s,n);break}case al:{if(rt(c,o,e,l)){let n=o.subarray(e,e+l|0),r=f(n);b=T|0,O=c-d|0,qe(r);return}let t=o.subarray(e,e+l|0),s=f(t);a.type.segment=s,u=pn;break}case pn:{let t=o.subarray(e,e+l|0);if(o[e]===ze){let{type:r}=a;y(),a.data=r;return}b=T|0,O=c-d|0;let s=f(t),n=as;Y(f(ze),s,n);break}case rl:{let t=o.subarray(e,e+l|0),s=f(t),n=Object.seal({type:s,path:null,name:null,details:null}),{declarationValue:r,stack:i,procedure:E}=a;a=Object.seal({type:n}),u=cl;break}case cl:{let t=o.subarray(e,e+l|0);if(o[e]===$e){u=ul,h(),a={data:null},h(),U=mt,u=ct;return}b=T|0,O=c-d|0;let s=f(t),n=ds;Y(f($e),s,n);break}case ul:{let{data:t}=a;y(),Ue(t.name),t.type!==Ce?a.type.name=t.type:a.type.name=t.name,a.type.path=t.path,a.type.details=t,_=!0,u=il;break}case il:{let t=o.subarray(e,e+l|0);if(o[e]===ze){let{type:r}=a;y(),a.data=r;return}b=T|0,O=c-d|0;let s=f(t),n=as;Y(f(ze),s,n);break}}},tf=(c,o,e,l)=>{switch(u){case rn:{let t=Object.seal({type:Mt,unsafe:null,smart:null,value:null}),s=o.subarray(e,e+l|0);Z(s,zt)&&(t.unsafe=!0),Z(s,Hs)&&(t.smart=!0),a.value=t,u=Ai;break}case Ai:{if(o[e]===pe){u=Yu;return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=ot;Y(f(pe),s,n);break}case Yu:{let{stack:t,procedure:s}=a,n=o.subarray(e,e+l|0),r=f(n),i=t.get(r);i&&i.moved&&(b=T|0,O=c-d|0,re(`Moved variable used as value. Variable '${r}' was used while having been moved before.`)),u=di,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case di:{if(o[e]===le){let{value:r}=a;y(),a.value.value=Ve(r),y();return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=ot;Y(f(le),s,n);break}case wu:{let t=Object.seal({type:It,link:null});a.value=t,u=Ii;break}case Ii:{if(o[e]===pe){u=gu;return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=ot;Y(f(pe),s,n);break}case gu:{let{stack:t,procedure:s}=a,n=o.subarray(e,e+l|0),r=f(n),i=t.get(r);i&&i.moved&&(b=T|0,O=c-d|0,re(`Moved variable used as value. Variable '${r}' was used while having been moved before.`)),u=Ni,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Ni:{if(o[e]===le){let{value:r}=a;y(),a.value.link=Ve(r),y();return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=We;Y(f(le),s,n);break}case Zu:{let t=Object.seal({type:Dt,trail:[]});a.value=t,u=wo;break}case wo:{if(o[e]===st){u=qu;return}u=go,_=!0;break}case qu:{let t=o.subarray(e,e+l|0),s=f(t);a.value.trail.push(s),u=Qu;break}case Qu:{if(o[e]===st){u=wo,_=!0;return}u=go,_=!0;break}case go:{u=Et,_=!0;break}case $u:{let t=o.subarray(e,e+l|0),s=f(t),n=S.find(N=>N.name===s);if(!n){b=T|0,O=c-d|0,vs(s);return}let{description:r}=n,{members:i}=r,E=i.some(N=>N.name==="constructor"&&N.type===lt),m=Object.seal({type:Ie,explicitConstructor:E,name:s,literal:[],path:n.path});a.value=m,u=li;break}case li:{let t=o[e];if(t===pe){u=Bo,_=!0;return}if(t===$e){u=fi;return}break}case fi:{h(),a=[],u=Ei,_=!0;break}case Ei:{u=_i,h(),a={data:null},h(),U=mt,u=ct,_=!0;break}case _i:{let t=o[e],{data:s}=a;if(y(),a.push(s),t===Be){u=fn;return}if(t===ze){let n=a;y();let{value:r}=a,{name:i}=r,E=S.find(m=>m.type===Me&&m.name===i);if(E){if(!(E.description.generics.length===n.length)){b=T|0,O=c-d|0,re(`Generic procedure '${i}' was provided with fewer or more than expect number of types. Expected: ${genericProcedure.description.generics.length}. Got: ${n.length}`);return}let N=B(E.name,n);if(!S.some(R=>R.name===N)){let R=V(E,n);R.name=N,R.description.generics=[],S.push(R),P(R)}r.name=N}u=Bo;break}}case Bo:{let{value:t}=a,{explicitConstructor:s,...n}=t;if(t=Object.seal(n),o[e]===pe){if(s){u=Si;return}u=Do;return}b=T|0,O=c-d|0;let i=o.subarray(e,e+l|0),E=f(i),m=ot;Y(f(pe),E,m);break}case Do:{if(o[e]===ee)return;if(o[e]===Be){u=Mo;return}u=Mo,_=!0;break}case Mo:{if(o[e]===ee)return;let t=o.subarray(e,e+l|0),s=f(t),{stack:n,procedure:r}=a;h();let i=Object.seal({name:s,value:null});a={procedure:r,stack:n,prop:i},u=Ku;break}case Ku:{let{stack:t,procedure:s}=a;if(o[e]===et){u=Hu,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne;return}b=T|0,O=c-d|0;let r=o.subarray(e,e+l|0),i=f(r),E=As;Y(f(et),i,E);break}case Hu:{let{value:t}=a;y();let{prop:s}=a;s.value=Ve(t),y();let n=new Set(Fe,tt,Me);if(t.type===Ie&&!n.has(t.name)&&t.path===me){let{description:i}=S.find(m=>m.name===a.value.name),E=i.members.find(m=>m.name===s.name);s.value={...s.value,name:E.data.name}}if(a.value.literal.push(s),o[e]===Be){u=Do;return}_=!0,u=zu;break}case zu:{if(o[e]===ee){u=Fo;return}_=!0,u=Fo;break}case Fo:{let t=o[e];if(b=T|0,O=c-d|0,t===le){let j=function($,ie){let Ae=new Set($.map(se=>se.name));for(let se of ie)if(!Ae.has(se.name))return se.name;return null},i=$=>{let ie=new Set;for(let Ae of $){if(ie.has(Ae.name))return Ae.name;ie.add(Ae.name)}return!1},{value:E}=a,{literal:m}=E,N=S.find($=>$.name===E.name&&$.type===Me),R=i(m);if(R){re(`Propery ${R} of ${N.name} was initialized multiple times during object declaration. Please remove unnecessary value.`);return}let F=N.description.members.filter($=>$.type!==lt),w=N.description.members.filter($=>$.type!==lt&&$.value===void 0),H=j(m,w);if(H){re(`Property '${H}' of '${N.name}' is missing in object initialization whilst not having a default value in definition. Please give a value in initialization or provide a default value in type definition`);return}for(let $ of m){let ie=ue($.value),Ae=m.indexOf($),se=F.find(x=>x.name===$.name);se||re(`Invalid member name. Name ${$.name} does not exist on object ${N.name}`),ie.data.type!==Ie&&ie.data.name!==se.data.name&&re(`Type mismatch in input for Object ${N.name}. At index ${Ae}, expected ${se.data.name} but received ${ie.data.name}.`)}y();return}let s=o.subarray(e,e+l|0),n=f(s),r=We;Y(f(le),n,r);break}case Si:{let i=function(m){console.log(m);let N=m.data.name;if(N===Yn)return{type:Mt,value:i({data:m.data.details})};if(N===ws)return{type:ws,layout:f(Kn),value:i({data:m.data.details})};let R=S.find(F=>F.name===N);if(R.type===Me){let F=[],{members:w}=R.description;console.log(r,w);for(let j of w)if(j.data){let H=`${j.data.path}.${j.data.name}`;if(r.has(H))console.log("aslreadyh exisistng \u{1F923}\u{1F979}\u{1F972}\u{1F480}"),F.push({name:j.name,value:r.get(H)});else{let $=i(j);F.push({name:j.name,value:$}),r.set(H,$)}}return{type:Ie,name:N,literal:F,path:m.data.path}}else{if(m.data.type===Fe)return{type:Ie,literal:[],name:N,layout:Fe,path:m.data.path};if(m.data.type===tt){let F=parseInt(m.data.length,10);return{type:Ie,literal:Array(F).fill(it),name:N,path:m.data.path}}else return{type:Ie,literal:Hp,name:N,path:m.data.path}}},{value:t}=a,{literal:s,name:n}=t,r=new Map,E=S.find(m=>m.name===n);if(E){let{description:m}=E,{members:N}=m;for(let se of N)se.data&&s.push({name:se.name,value:i(se)});y(),y();let{stack:R,procedure:F,statements:w,declarationValue:j,inferenceValue:H}=a,$=j?.target.name;if(!$){$="literalObjectConstructor";let se=ue(t),{literal:x,...Q}=se.data,{locals:te}=F.description;te.push({name:$,data:Q}),R.set($,Q)}H&&(H.data={type:Ce,name:n,path:E.path},H.mutable&&(H.data.mutable=H.mutable),$&&a.stack.set($,H.data)),j&&(j.source=t,w.push(j)),h();let ie=Object.seal({type:$t,name:[$,gs],path:E.path,inputs:[]}),Ae=Object.seal({type:Ha,expression:ie});a={stack:R,procedure:F,drop:Ae,value:ie},u=Wo,U=ge,_=!0;return}break}case Wo:{let{stack:t,procedure:s}=a,n=o[e];if(n===ee)return;if(n===le){u=Jo,_=!0;return}u=hi,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case hi:{let{value:t}=a;y();let{value:s,stack:n,procedure:r}=a,{inputs:i}=s;i.push(Ve(t)),u=xi,_=!0;break}case xi:{let t=o[e];if(t===ee)return;if(t===le){u=Jo,_=!0;return}if(t===Be){u=Wo;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=Er;Y(`${f(Be)} or ${f(le)}`,n,r);break}case Jo:{let{value:t,stack:s}=a,n=s.get(t?.name[0]);if(n){let r=S.find(N=>N.name===n.name),i=r.description.members.find(N=>N.name===gs),E=t.inputs.filter(N=>N.type===Ie);for(let N of E){let R=t.inputs.indexOf(N);R>=0&&t.inputs[R]&&(t.inputs[R]={...t.inputs[R],name:i.description.inputs[R]?.data?.name||N.name,path:i.description.inputs[R]?.data?.path||N.path})}let m=t.inputs.map(N=>ue(N))||[];if(i.description.inputs.length!==m.length){b=T|0,O=c-d|0,re(`Mismatching number of parameters passed to constructor of object '${r.name}'. Expected: ${i.description.inputs.length}, Got: ${m.length}`);return}for(let N of i.description.inputs){let R=i.description.inputs.indexOf(N);if(N.data.name!==m[R].data.name){b=T|0,O=c-d|0,re(`Input type mismatch on index '${R+1}'. '${r.name}' expected ${N.data.name}, but was provided with a rather ${m[R].data.name}`);return}}}u=Pi;break}case Pi:{if(o[e]===ee){let{drop:N}=a;y();let{statements:R}=a;R||y(),R&&R.push(N),y();return}let{value:s,stack:n,procedure:r}=a,i=y();if(u===Zo){h(),a={stack:n,procedure:r,value:s},_=!0;return}g.push(i);let{drop:E}=a;y();let{statements:m}=a;m||y(),m&&m.push(E),y(),f(ee);return}case yo:{let{stack:t}=a,s=o[e],n=o.subarray(e,e+l|0),r=f(n);if(t&&t.has(r)&&t.get(r)?.type&&!Vt){let F=t.get(r);if(F&&(F.moved&&(b=T|0,O=c-d|0,re(`Moved variable used as value. Variable '${r}' was used while having been moved before.`)),F.freed)){b=T|0,O=c-d|0,re(`Attempted to use '${r}', which has been freed. Ensure links are valid before use.`);return}let w=Object.freeze({type:xe,name:r});a.value=w,u=Et;return}let i=F=>{let w=g[F];if(w.item.target){let j=w.item.target,H=m.item.stack.get(j.name);if(H)return H.name}else return w.item.value?.type==="expression"?i(F-1):null},E=g.length,m=g[E-2],N;if(m.item.target){let F=m.item.target;if(F.name||F.trail?.length===1){let w=m.item.stack.get(F.name||F.trail[0]);w&&(N=F.name?w.name:w.data?.name)}if(F.trail?.length>1){let w=JSON.parse(JSON.stringify(F.trail)),j=m.item.stack.get(F.trail[0]),H=S.find(ie=>ie.name===j.data.name&&ie.path===j.data.path),$=1;for(let ie=1;ie<w.length;ie++)j=H.description.members.find(Ae=>Ae.name===w[ie]),ie<w.length-1&&(H=S.find(Ae=>Ae.name===j.data.name&&Ae.path===j.data.path));N=j.data.name}}else m.item.value?.type==="expression"&&(N=i(E-4));if(Ds(c,o,e,l)&&!Vt){let F=r.replaceAll("_",""),w=Rt(F),j=Object.freeze({type:Ie,literal:F,name:N||w,path:me});if(!w){b=T|0,O=c-d|0;let H=o.subarray(e,e+l|0),$=f(H);Y("value",$,Is)}Ue(j.name),a.value=j,u=Et;return}if(bn(r)&&!Vt){let F=Object.freeze({type:Ie,literal:r,name:Kt,path:me});a.value=F,Ue(F.name),u=Et;return}if(Wn.includes(s)){u=Yi,_=!0;return}let R=f(n);if(Ip.includes(s)){if(Vt)if(Xn.includes(s)){if(Vt=!1,u=Et,a.value.literal.length>1){b=T|0,O=c-d|0,re("Type Mismatch: Use single quotes for a Char (one character) in Flogram. For Strings, use double quotes or ensure there's only one character within single quotes.");return}}else b=T|0,O=c-d|0,Y(`${f(Xn[0])} or ${f(Xn[1])}`,R,[]);else!Vt&&zn.includes(s)?Vt=!0:(b=T|0,O=c-d|0,Y(`${f(zn[0])} or ${f(zn[1])}`,R,[]));return}if(Vt){let F=Object.freeze({type:Ie,literal:r,name:Os,path:me});Ue(F.name),a.value=F;return}if(o[e]===He){u=jo,_=!0;return}b=T|0,O=c-d|0,vs(r),y();break}case Yi:{let t=o[e];if(Wn.includes(t)){u=Qo;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(ls),n,r);break}case Qo:{let t=o.subarray(e,e+l|0),s=f(t);if(l===0)return;if(u=gi,o[e]===$e){_=!0;return}let n=Object.seal({type:Ie,literal:s,name:tt,path:me});Jn.includes(o[e])&&(n.literal="",_=!0),a.value&&a.value.type===es?a.value.values.push(n):a.value=n,Ue(n.name),Ue(Je);break}case gi:{let{stack:t,procedure:s}=a;if(Jn.includes(o[e])){if(a.value.type===es&&Jn.includes(o[e+1])){u=wi;return}y();return}else if(o[e]===$e){if(e>0&&o[e-1]===Ap){u=xo,h();let m=Object.freeze({name:tt,literal:"{",type:Ie,path:me});a=Object.seal({procedure:s,stack:t,value:m,omitLast:!0}),_=!0;return}u=xo,h(),a=Object.seal({procedure:s,stack:t,value:null}),h(),U=Ne,u=Se;return}console.log("what did we find here??!!!"),b=T|0,O=c-d|0;let n=o.subarray(e,e+l|0),r=f(n),i=ot;if(Z(n,Ht)){b-=1;let E=f(ee);Y(f(ls),E,i);return}Y(`'${f(ze)}' or '${f(ls)}'`,r,i);break}case xo:{let t=o.subarray(e,e+l|0),s=f(t),{value:n,omitLast:r}=a;if(y(),!a.value||a.value.type!==es){let E=Object.seal({type:es,values:[]});a.value&&E.values.push(a.value),a.value=E}let i=a.value.values.length;if(r&&i>0&&a.value.values[i-1].type===Ie){let E=a.value.values[i-1],m=E.literal,N={...E,literal:m.slice(0,-1)};a.value.values.pop(),a.value.values.push(N)}a.value.values.push(n),u=Qo;break}case wi:{y();break}case qo:{h(),u=Li,a={data:null},h(),U=mt,u=ct,_=!0;break}case Li:{let t=o[e],{data:s}=a;y();let{stack:n,procedure:r}=a,i=Object.seal({type:Ie,literal:[],name:s.name,quantity:{size:null,capacity:null},layout:s.type,path:s.path});if(h(),a={stack:n,procedure:r,value:i},t===pe){u=Ri;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=ot;Y(f(pe),m,N);break}case Ri:{let t=o.subarray(e,e+l|0);if(Z(Qa,t)){u=ki;return}b=T|0,O=c-d|0;let s=f(t),n=eo;Y(f(Qa),s,n);break}case ki:{let t=o.subarray(e,e+l|0);if(Z(Gs,t)){u=Ci;return}b=T|0,O=c-d|0;let s=f(t),n=As;Y(f(Gs),s,n);break}case Ci:{let{procedure:t,stack:s}=a;if(rt(c,o,e,l)){let n=o.subarray(e,e+l|0),r=f(n);b=T|0,O=c-d|0,qe(r);return}u=yi,h(),a=Object.seal({procedure:t,stack:s,value:null}),h(),U=Ne,u=Se,_=!0;break}case yi:{let{value:t}=a;y(),a.value.length={capacity:t,size:t};let s=o[e];if(s===Be){let{stack:E,procedure:m}=a,N=[];h(),a={stack:E,procedure:m,value:N},u=Ui;return}if(s===le){let{value:E}=a;y(),a.value=E,u=Et;return}b=T|0,O=c-d|0;let n=o.subarray(e,e+t|0),r=f(n),i=We;Y(`${f(Be)} or ${f(le)}`,r,i);break}case Ui:{if(o[e]===He){u=Bi;return}b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=xn;Y(f(He),s,n);break}case Bi:{if(u=vi,o[e]===Ft)return;_=!0;break}case vi:{let t=o.subarray(e,e+l|0);if(o[e]===le){let{value:s}=a;y();let{value:n}=a;y(),n.literal=s,a.value=n,y();return}h(),u=En,_=!0;break}case jo:{if(o[e]===He){a.value=Object.seal({quantity:{size:null,capacity:null},data:[]}),u=Et,h(),u=En;return}break}case En:{let{stack:t,procedure:s}=a;if(o[e]===ee)return;if(u=Zo,h(),a={stack:t,procedure:s,value:null},o[e]===Ft){_=!0;break}h(),u=Se,U=Ne,_=!0;break}case Zo:{let t=o[e],{value:s}=a;if(y(),s!==null&&a.value.data.push(s),t===Be){u=En;return}if(t===ee){let{procedure:n,stack:r}=a;h(),a={procedure:n,stack:r,value:null},h(),u=$i;return}if(t===Ft){if(o[e+1]===pe){a.value.quantity.size=Object.seal({type:Ie,name:Je,literal:`${a.value.data.length}`,path:me}),u=zi;return}a.value.quantity.size=Object.seal({type:Ie,name:Je,literal:`${a.value.data.length}`,path:me}),a.value.quantity.capacity=Object.seal({type:Ie,name:Je,literal:`${Math.max(a.value.data.length*2,sp)}`,path:me}),u=ea,_=!0;return}break}case zi:{if(o[e]!==pe){b=T|0,O=c-d|0;let t=o.subarray(e,e+l|0),s=f(t),n=We;Y(`${f(le)}`,s,n);return}u=Xi;break}case Xi:{let t=o.subarray(e,e+l|0);if(!Z(t,ur)){b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=We;Y(`${f(ur)}`,n,r);return}u=Wi;break}case Wi:{let{stack:t,procedure:s}=a;if(o[e]!==et){b=T|0,O=c-d|0;let r=o.subarray(e,e+l|0),i=f(r);Y(et,i,[]);return}u=Ji,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne;break}case Ji:{if(o[e]!==le){b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=We;Y(`${f(le)}`,n,r);return}let{value:t}=a;y(),a.value.quantity.capacity=t,u=ea,_=!0;break}case ea:{let t=g.length,s=g[t-3],n=s.item.declarationValue?.target,r=s.item.stack.get(n?.name);if(s.situationSection!==qo){let i=!1,E;if(!r){if(a.value?.length>=1||a.value?.data?.length>=1)if(E=ue(a.value[0]||a.value?.data[0]),E){(E.data.layout===Fe||E.data.type===Fe||Array.isArray(E.data.literal))&&(i=!0);for(let N=1;N<a.value.length;N++){let R=ue(a.value[N]);if((R.data.layout===Fe||R.data.type===Fe||Array.isArray(R.data.literal))&&(i=!0),R.data.name!==E.data.name||R.data.path!==E.data.path){b=T|0,O=c-d|0,re(`Type mismatch in array initialization. Expected all items to be of type ${E.data.name} from ${E.data.path}, but found type ${R.data.name} from ${R.data.path} at position ${N}. Ensure all items in the array have the same type.`);return}}}else{b=T|0,O=c-d|0;let N=o.subarray(e,e+l|0),R=f(N);Y("Inferred Type",R,Is);return}else E={data:{name:"FP32",path:"Flogram"}};Ue(E.data.name)}if(a.value.quantity.capacity.type===Ie&&a.value.data.length>parseInt(a.value.quantity.capacity.literal,10)){b=T|0,O=c-d|0,re(`ValueError: Too much data for an array. Array is defined to have a maximum of ${r.length} but value assigned has ${a.value.length}. Consider increasing size of the array or reducing the number of elements.`);return}let m=Object.freeze({type:Ie,name:r?.name||E.data.name,path:r?.path||E.data.path,literal:a.value.data,quantity:a.value.quantity,layout:Fe,contains:i?Fe:null});Ue(Je),a.value=m}y();return}case $i:{o[e]!==ee&&(y(),_=!0);break}case Et:{let t=o[e],s=o.subarray(e,e+l|0);if(Mn(s)){u=Ki,_=!0;return}if(t===st){let{procedure:n,stack:r,value:i}=a,E=[],m=Object.freeze({type:dt,value:i,trail:E});a.value=m,h(),a=Object.seal({stack:r,trail:E,value:i,procedure:n}),u=Uo;return}else if(t===He){let{value:n}=a,r=Object.seal({type:Ys,array:n,index:null});ue(n)?.data.name===tt&&Ue(Os),a.value=r,_=!0,u=Yo;return}else if(t===pe&&a.value.type===Dt){let n=z(0);if(n){let r=[a.value.type,...a.value.trail],i=q(n,a.value.trail);if(Te){a.value=Object.seal({type:$t,name:r,path:i.path,inputs:[]}),u=un,_=!0;return}}}y(),_=!0;break}case Vu:{if(o[e]!==st){let s=o.subarray(e,e+l|0),n=f(s);y(),_=!0;return}u=Uo;break}case Uo:{let{stack:t,value:s,trail:n}=a,r=o.subarray(e,e+l|0),i=f(r),E,m,N=!1,R=()=>{n.push(i),u=Vu};try{let j=ue(s);j&&(E=j.data)}catch(j){console.error(j)}let F=S.find(j=>j.name===E.name);if(F.type===Bt&&F.description.labels.find(H=>H.props.find($=>$.name===i))){R();return}let w=F?.description?.members?.find(j=>j.data&&S.find(H=>H.type===Me&&H.name===j.data.name&&H.path===j.data.path));if((s.type===xe||s.type===It||s.type===Mt||M(s))&&(!E||w)){let j=ye(s);if(n.length===0)E=t.get(j);else{let H=n.length-1,$=t.get(j),ie=S.find(te=>te.name===$.name),{description:Ae}=ie,{members:se}=Ae,x=se.find(te=>te.name===n[H]),{data:Q}=x;if(E=Q,Q.freed){b=T|0,O=c-d|0,re(`Attempted to use '${n.join(".")}', which has been freed. Ensure links are valid before use.`);return}}}if(E){let{name:j,path:H}=E,$=`${H}.${j}`,ie=p.get($);ie.type===Me&&(m=ie)}if(m){let{description:j}=m,{members:H}=j;for(let $ of H)if($.name===i){N=!0;break}if(!N){b=T|0,O=c-d|0,Ot(i,s.name);return}}if(s.value===ft||s.link===ft){if(!t.get(i)){b=T|0,O=c-d|0,Ot(i,`${ft}(current object in definition)`);return}N=!0}if(!N){b=T|0,O=c-d|0,Ot(i,s.name);return}R();break}case Xu:{let{stack:t}=a,s=o.subarray(e,e+l|0),n=f(s);if(t.has(n)){let r=Object.seal({type:Ys,array:{type:xe,name:n},index:null});a.value=r,ue(r.array)?.data.name===tt&&Ue(Os)}u=Yo;break}case Yo:{if(o[e]===He){u=Wu;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=xn;Y(f(He),n,r);break}case Wu:{let{stack:t,procedure:s}=a;u=Ju,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case Ju:{if(o[e]===Ft){let{value:i}=a;y();let E=ue(i);if(E.data.mutable&&i.type!==dt?a.value.index=Object.seal({type:It,link:i}):a.value.index=i,!E||![Je,"U32","I16","U16","U8","I8"].includes(E.data.name)){b=T|0,O=c-d|0,re("Invalid index. Array index must be a valid I32 variable");return}u=Et;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=mr;Y(f(Ft),n,r);break}case cn:{let{stack:t}=a,s=o.subarray(e,e+l|0),n=f(s),r=D.find(E=>E.type===lt&&E.name===n),i=Object.seal({type:$t,name:n,path:r?.path||me,inputs:[]});if(a.value=i,t.has(n)){a.value.name=[n],u=Vo;return}else if(n===ft){a.value.name=[Dt],u=Vo;return}u=Xo;break}case Vo:{let t=o.subarray(e,e+l|0),s=f(t),n=o[e];if(n===st)return;if(n===pe){if(a.value.name[0]===Dt){let r=z(0);a.value.path=r.path+"."+r.name}u=Xo,_=!0;return}if(rt(c,o,e,l)){b=T|0,O=c-d|0,qe(s);return}a.value.name.push(s);break}case Xo:{let t=o[e];if(t===pe){u=un,_=!0;return}if(t===$e){u=ui;return}break}case un:{if(o[e]===pe){u=ln;return}break}case ui:{h(),a=[],u=fn,_=!0;break}case fn:{u=ii,h(),a={data:null},h(),U=mt,u=ct,_=!0;break}case ii:{let t=o[e],{data:s}=a;if(y(),a.push(s),t===Be){u=fn;return}if(t===ze){let n=a;y();let{value:r}=a,{name:i}=r,E=D.find(m=>m.type===lt&&m.name===i);if(E){if(!(E.description.generics.length===n.length)){b=T|0,O=c-d|0,re(`Generic procedure '${i}' was provided with fewer or more than expect number of types. Expected: ${E.description.generics.length}. Got: ${n.length}`);return}let N=B(E.name,n);if(!D.some(R=>R.name===N)){let R=V(E,n);R.name=N,R.description.generics=[],Re(R)}r.name=N}u=un;break}}case ln:{let t=o[e],s=o.subarray(e,e+l|0),{procedure:n,stack:r}=a;if(t===ee)return;if(Z(s,Xt)){h(),a=Object.seal({procedure:n,stack:r,mutable:!0});return}if(t===le){let i=a.value?.inputs?.map(H=>ue(H))||[],{value:E}=a,{name:m}=E;if(i.indexOf(void 0)!=-1){b=T|0,O=c-d|0,re(`Unkown/Invalid value type given as value to function '${m}' at index ${i.indexOf(void 0)}`);return}!i.find(H=>H?.data.path!==me)&&Gt[m]&&(E.path=me);let[R,...F]=i,w=i.find(H=>H?.data.type!=Ie)||R,j=Gt[m];if(j&&E.path===me){let H=j.find($=>$.description&&Array.isArray($.description.inputs)?$.description.inputs.length!==i.length?!1:$.description.inputs.every((ie,Ae)=>ie.data.name===i[Ae].data.name):!1);if(j){for(let $=0;$<i.length;$++)if(i[$].data.name!=w.data.name){if(i[$].data.type===Ie&&Ms(w.data.name,i[$].data.name)){expression.inputs[$]=Object.freeze({...expression.inputs[$],name:w.data.name}),i[$].data.name=w.data.name;continue}b=T|0,O=c-d|0,In(i.map(ie=>ie.data?.name)?.join(", "));return}}if(H)Re(H),_t.set(m,H);else if(i.length>=1){if(i.some($=>$.data.name!==R.data.name)){b=T|0,O=c-d|0,In(i.map($=>$.data?.name)?.join(", "));return}if(i[0]?.data.type===Ut){let $=j.find(Ae=>Ae.description.inputs.length===i.length&&i.length>0?Ae.description.inputs[0].data.name===mn:!0),ie=JSON.parse(JSON.stringify($).replace(new RegExp(mn,"g"),i[0].data.name));Re(ie),_t.set(m,ie)}else if(!ht.includes(R.data.name)||F.some($=>!ht.includes($.data.name))){let $=S.find(Ae=>Ae.name===R.data.name),ie=F.map(Ae=>S.find(se=>se.name===Ae.data.name));if($&&ie.every(Boolean)&&jt($,ie,j,m)){let Ae=S.find(x=>x.name===i[0].data.name&&x.path===i[0].data.path&&x.type===Me),se=x=>{let Q=S.find(oe=>oe.name===x.data.name&&oe.path===x.data.path),{members:te}=Q.description;te.forEach(oe=>{ht.includes(oe.data.name)?Re(j.find(Tt=>Tt.description.inputs[0].data.name===oe.data.name)):se(oe)})};if(Ae&&["==","!="].includes(m)){let{members:x}=Ae.description;x.forEach(Q=>{ht.includes(Q.data.name)?Re(j.find(te=>te.description.inputs[0].data.name===Q.data.name)):se(Q)})}else if(!(i[0].data.name===tt&&["==","!=",">",">=","<","<="].includes(m))){b=T|0,O=c-d|0,Ct(`${i.map(x=>x.data.name)?.join(", ")} for function ${m}`);return}}}else{b=T|0,O=c-d|0,Ct(`${i.map($=>$.data.name)?.join(", ")} for function ${m}`);return}}else{b=T|0,O=c-d|0,Ct(`${i.map($=>$.data.name)?.join(", ")} for function ${m}`);return}}else if(m===J_||m===Vs){if(m===Vs&&i.length!==0){b=T|0,O=c-d|0,pa(0,i.length,m);return}}else if(typeof m===Me&&m[0]===Dt){let H=z(0);if(!H||!q(H,m.slice(1))){b=T|0,O=c-d|0,dn(m);return}}else{let H,$=D.find(se=>se.type===lt&&se.name===m);if(typeof m===Me&&a.stack.has(m[0])){let se=m[m.length-2]||m[0],x=a.stack.get(se);if(x){let Q=S.find(te=>te.type===Me&&te.name===x.name);Q&&(a.value.path=Q.path,H=Q.description.members.find(te=>te.type===lt&&te.name===m[m.length-1]))}}let ie=a.procedure.name===m?a.procedure:null,Ae=H||$||ie;if(Ae){let{description:se}=Ae,{inputs:x}=se,{value:Q}=a,{inputs:te}=Q;if(x.length!==te.length){b=T|0,O=c-d|0,pa(x.length,i.length,m);return}for(let oe=0;oe<x.length;oe++){let Tt=ue(te[oe]);if(Tt){if(x[oe].data.name!==Tt.data.name){b=T|0,O=c-d|0,re(`The procedure '${typeof m=="object"?m.join("."):m}' received an input of incorrect type at position ${oe+1}. Expected: '${x[oe].data.name}', but received: '${Tt.data.name}'.`);return}if(x[oe].data.mutable&&!Tt.data.mutable&&!te[oe].mutable){b=T|0,O=c-d|0,re(`The procedure '${typeof m=="object"?m.join("."):m}' received an immutable input at position ${oe+1} while it expects a mutable input. Expected: mutable '${x[oe].data.name}', received: immutable '${Tt.data.name}'.`);return}x[oe].data.mutable&&Tt.data.mutable}else{b=T|0,O=c-d|0,Ct(te[oe]);return}}}else{b=T|0,O=c-d|0,dn(m);return}}u=Et;return}if(rt(c,o,e,l)&&o[e]!=He&&o[e]!=pe){let i=o.subarray(e,e+l|0),E=f(i);b=T|0,O=c-d|0,qe(E);return}u=Gu,h(),a=Object.seal({procedure:n,stack:r,value:null}),h(),U=Ne,u=Se,_=!0;break}case Gu:{let{value:t}=a,s=!1;y(),a.mutable&&(s=a.mutable,y());let{value:n}=a,{inputs:r}=n,i=Object.seal({...t,mutable:s});n.path!==me||i.type===dt?r.push(i):r.push(Ve(i));let E=o[e];if(E===Be){u=ln;return}if(E===le){u=ln,_=!0;return}b=T|0,O=c-d|0;let m=o.subarray(e,e+l|0),N=f(m),R=We;Y(`${f(Be)} or ${f(le)}`,N,R);break}case Go:{let t=o.subarray(e,e+l|0),s=f(t),n=S.find(i=>i.type===Bt&&i.name===s);if(n){let i=Object.seal({type:Ie,literal:null,name:n.name,path:n.path,props:[]});a.value=i,u=xu;return}let r=S.find(i=>i.type===Bt&&i.description.labels.find(E=>E.name===s));if(r){let i=Object.seal({type:Ie,literal:s,name:r.name,path:r.path,props:[]});a.value=i,u=$o,_=!0;return}b=T|0,O=c-d|0,Ot(s);break}case xu:{if(o[e]===st){u=$o;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=br;Y(f(st),n,r);break}case $o:{let t=o.subarray(e,e+l|0),s=f(t),n=S.find(r=>r.type===Bt&&r.name===a.value.name&&r.description.labels.find(i=>i.name===s));if(n){if(a.value.literal=s,n.description.labels.find(i=>i.name===s).props.length>0){u=Zi;return}y();return}b=T|0,O=c-d|0,Ot(s);break}case Zi:{let t=o[e];if(t===pe){u=ta;return}if(t===ce){y(),_=!0;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(pe),n,r);break}case ta:{let{stack:t,procedure:s}=a;u=qi,h(),a={stack:t,procedure:s,value:null},h(),u=Se,U=Ne,_=!0;break}case qi:{let{value:t}=a;y(),a.value.props.push(t);let s=o[e];if(s===Be){u=ta;return}if(s===le){u=Qi,_=!0;return}}case Qi:{if(o[e]===le){y();return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=We;Y(f(le),n,r)}case ei:{let t=Object.seal({type:ws,layout:null,data:null,value:null});a.value=t,u=ti;break}case ti:{if(o[e]===$e){u=si;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ds;Y(f($e),n,r);break}case si:{let t=o.subarray(e,e+l|0),s=f(t);if(rt(c,o,e,l)){b=T|0,O=c-d|0,qe(s);return}if(Z(er,t)){u=Ho,h(),a={...a,data:null},h(),U=mt,u=ct,_=!0;return}if(Z(t,zt)||Z(t,ns)){u=Ho,h(),a={...a,data:null},h(),U=rs,u=_n,_=!0;return}if(Z(t,$n)){b=T|0,O=c-d|0;let r=o.subarray(e,e+l|0),i=f(r);Y("MAYBE Data",i,eo);return}let n=Ue(s);n&&(a.value.data=n),u=Ko;break}case Ho:{let{data:t}=a;y(),a.value.data=t,_=!0,u=Ko;break}case Ko:{if(o[e]===ze){u=ni;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=as;Y(f(ze),n,r);break}case ni:{if(o[e]===st){u=oi;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=br;Y(f(st),n,r);break}case oi:{let t=o.subarray(e,e+l|0),s=f(t);if(a.value.layout=s,Z(t,Kn)){u=zo;return}if(Z(t,or)){u=ai;return}b=T|0,O=c-d|0;let n=f(t),r=eo;Y(`${f(or)} or ${f(Kn)}`,n,r);break}case ai:{if(o[e]===pe){u=ri;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(pe),n,r);break}case ri:{let{procedure:t,stack:s}=a;if(rt(c,o,e,l)){let n=o.subarray(e,e+l|0),r=f(n);b=T|0,O=c-d|0,qe(r);return}u=ci,h(),a=Object.seal({procedure:t,stack:s,value:null}),h(),U=Ne,u=Se,_=!0;break}case ci:{let{value:t}=a;if(y(),a.value.value=Ve(t),o[e]===le){u=zo;return}b=T|0,O=c-d|0;let n=o.subarray(e,e+l|0),r=f(n),i=We;Y(f(le),r,i);break}case zo:{y(),_=!0;break}case pi:{let t=Object.seal({type:gn,value:null});a.value=t,u=mi;break}case mi:{if(o[e]===pe){u=bi;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(pe),n,r);break}case bi:{let{procedure:t,stack:s}=a;if(rt(c,o,e,l)){let n=o.subarray(e,e+l|0),r=f(n);b=T|0,O=c-d|0,qe(r);return}u=Oi,h(),a=Object.seal({procedure:t,stack:s,value:null}),h(),U=Ne,u=Se,_=!0;break}case Oi:{let{stack:t,value:s}=a;y();let n;if(s.type===xe)n=s.name;else if(s.type===It)n=s.link;else if(s.type===Mt)n=s.value;else{b=T|0,O=c-d|0,re("Non-movable type passed to move procedure. Please check types that can be moved and make sure your parameter's type is one of them.");return}let r=t.get(n);if(r&&t.set(n,{...r,moved:!0}),a.value.value=Ve(s),o[e]===le){u=Ti;return}b=T|0,O=c-d|0;let E=o.subarray(e,e+l|0),m=f(E),N=We;Y(f(le),m,N);break}case Ti:{y(),_=!0;break}case Di:{let t=Object.seal({type:Vn,value:null});a.value=t,Ue(Je),u=Mi;break}case Mi:{if(o[e]===pe){u=Fi;return}b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=ot;Y(f(pe),n,r);break}case Fi:{let{procedure:t,stack:s}=a;if(rt(c,o,e,l)){let n=o.subarray(e,e+l|0),r=f(n);b=T|0,O=c-d|0,qe(r);return}u=ji,h(),a=Object.seal({procedure:t,stack:s,value:null}),h(),U=Ne,u=Se,_=!0;break}case ji:{let{stack:t,value:s}=a;y();let n=ue(s);if(n.data.name===tt||n.data.name===Fe||n.data.layout===tt||n.data.layout===Fe||n.data.type===tt||n.data.type===Fe||(b=T|0,O=c-d|0,re(`Size function incompatible parameter type error: Provided type '${n.data.name}' cannot be used here as it's neither a string nor an array.`)),a.value.value=s,o[e]===le){u=Et;return}b=T|0,O=c-d|0;let i=o.subarray(e,e+l|0),E=f(i),m=We;Y(f(le),E,m);break}case $p:{y(),_=!0;break}case Ki:{let t=o.subarray(e,e+l|0),s=f(t),{value:n,stack:r,procedure:i}=a,E=Object.seal({type:$t,name:s,path:me,inputs:[Ve(n)]});a.value=E,u=Hi,h(),a={stack:r,procedure:i,value:null},h(),u=Se,U=Ne;break}case Hi:{let{value:t}=a;y();let{value:s}=a,{name:n}=s;s.inputs.push(Ve(t));let r=s.inputs.map(F=>ue(F))||[],[i,...E]=r,m=r.find(F=>F.data.type!=Ie)||i,N=Gt[n];if(N){for(let F=0;F<r.length;F++)if(r[F].data.name!=m.data.name){if(r[F].data.type===Ie&&Ms(m.data.name,r[F].data.name)){s.inputs[F]=Object.freeze({...s.inputs[F],name:m.data.name}),r[F].data.name=m.data.name;continue}b=T|0,O=c-d|0,In(r.map(w=>w.data?.name)?.join(", "));return}}let R=N.find(F=>F.description&&Array.isArray(F.description.inputs)?F.description.inputs.length!==r.length?!1:F.description.inputs.every((w,j)=>w.data.name===r[j].data.name):!1);if(R)Re(R),_t.set(n,R);else if(r.length>=1){if(r[0]?.data.type===Ut){let F=N.find(j=>j.description.inputs.length===r.length&&r.length>0?j.description.inputs[0].data.name===mn:!0),w=JSON.parse(JSON.stringify(F).replace(new RegExp(mn,"g"),r[0].data.name));Re(w),_t.set(n,w)}else if(!ht.includes(i.data.name)||E.some(F=>!ht.includes(F.data.name))){let F=S.find(j=>j.name===i.data.name),w=E.map(j=>S.find(H=>H.name===j.data.name));if(F&&w.every(Boolean)&&!jt(F,w,N,n)){let j=S.find(H=>H.name===r[0].data.name&&H.path===r[0].data.name&&H.type===Me);if(!(r[0].data.name===tt&&["==","!=",">",">=","<","<="].includes(n))&&!(j&&["==","!="].includes(n))){b=T|0,O=c-d|0,Ct(`${propTypes.join(", ")} for function ${n}`);return}}}else if(!(r[0].data.name===tt&&["==","!=",">",">=","<","<="].includes(n))){b=T|0,O=c-d|0,Ct(`${r.map(F=>F.data.name)?.join(", ")} for function ${n}`);return}}else{b=T|0,O=c-d|0,Ct(`${r.map(F=>F.data.name)?.join(", ")} for function ${n}`);return}u=Et,_=!0;break}case Vi:{if(o[e]!==pe){b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=Is;Y(f(),n,r);return}u=Gi,h(),u=Se,U=Ne;break}case Gi:{if(o[e]!==le){b=T|0,O=c-d|0;let s=o.subarray(e,e+l|0),n=f(s),r=Is;Y(f(le),n,r);return}u=Et;break}}},sf=(c,o,e,l)=>{switch(u){case rc:{let t=Object.seal({type:it,path:[]}),s=Object.seal({type:K_,source:t,alias:it});a=Object.seal({import:s,source:t}),u=cc;break}case cc:{let t=o[e],{source:s}=a;if(t===Tp&&o[e+1]===Hn){s.type=xe,u=uc,h(),a=[],h(),u=io;return}if(rt(c,o,e,l)){b=T|0,O=c-d|0,qe(name);return}s.type=H_,u=Gp,_=!0;break}case uc:{let t=o[e],s=a;y();let{source:n}=a;n.path.push(s.join("")),t===Hn&&(h(),a=[],h(),u=io),t===ee&&(u=ic,_=!0);break}case io:{let t=o[e];if(t===Hn){y(),_=!0;return}if(t===ee){y(),_=!0;return}let s=o.subarray(e,e+l|0),n=f(s);a.push(n);return}case ic:{let t=s=>{let n=!0,r=null,i=null,E=wl(k);E.on(is,w=>{r=w}),E.on(we,w=>{i=w});let m=new Ge({tabSize:4});if(m.on("token",(w,j,H,$)=>{E.feed(w,j,H,$)}),m.on("error",()=>{n=!1}),m.feed(s),m.done(),m.close(),E.done(),!n||i){console.error("Tokenizer or Parser error occurred.",i);return}if(!r){console.error("Invalid representation after parsing.");return}let{exports:N,data:R}=r;for(let w of N){let j=r[w.path]?.find(H=>H.name===w.name);j&&(w.path===sa&&(S.push(j),P({name:j.name,path:j.path,type:Ce})),w.path===ll&&Re(j))}let F=R.filter(w=>w.type===z_);S.unshift(...F)};if(ne&&ne.length>0){let s=ne.find(n=>n.path===a.source.path.join("/"));if(s){let n=fe(s.data);t(n)}else b=T|0,O=c-d|0,re("NO FILES WERE FOUND: ",a.source.path)}else b=T|0,O=c-d|0,re("NO FILES WERE FOUND: ",a.source.path);y();break}}},nf=(c,o)=>{switch(c){case is:{K.push(o);break}case we:{G.push(o);break}}},h=()=>{let c=Object.freeze({item:a,indentation:je,situationGeneral:U,situationSection:u});g.push(c)},y=()=>{let c=g.pop();return a=c.item,je=c.indentation,U=c.situationGeneral,u=c.situationSection,c},fs=(c,o,e,l)=>{if(J)return;let t=()=>{Pe=!0,d=c|0,T=T+1};Ke=c+l|0;let s=o[e];if(s!==Op){if(s===ee&&Pe){t();return}for(Pe=!1,_=!0;_;)switch(_=!1,U){case Ne:{Kl(c,o,e,l);break}case Or:{Hl(c,o,e,l);break}case Ns:{Xl(c,o,e,l);break}case Ss:{zl(c,o,e,l);break}case Tr:{Wl(c,o,e,l);break}case to:{Zl(c,o,e,l);break}case Ar:{ql(c,o,e,l);break}case dr:{Jl(c,o,e,l);break}case Ye:{Ql(c,o,e,l);break}case mt:{xl(c,o,e,l);break}case ge:{tf(c,o,e,l);break}case rs:{ef(c,o,e,l);break}case Ir:{sf(c,o,e,l);break}default:throw qn}s===ee&&(El.default.diff(a,Yt)&&t(),Yt=JSON.parse(JSON.stringify(a)))}};return Object.freeze({done:()=>{if(fs(Ke,ss,0,ss.length),Ke=Ke+ss.length|0,fs(Ke,Ht,0,Ht.length),Ke=Ke+Ht.length|0,fs(Ke,ss,0,ss.length),Ke=Ke+ss.length|0,de){C.emit(is,null);return}C.emit(is,ae)},feed:fs,on:nf})},zp=Object.freeze({create:wl,...Np,...Lp,...Vp}),Rm=zp;export{Rm as default};
/*! Bundled license information:

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)
*/
