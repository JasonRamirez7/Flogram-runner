var ne=Object.create;var ct=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var oe=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var le=(c,i,l)=>i in c?ct(c,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[i]=l;var dt=(c,i)=>()=>(i||c((i={exports:{}}).exports,i),i.exports);var he=(c,i,l,E)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of ie(i))!ce.call(c,a)&&a!==l&&ct(c,a,{get:()=>i[a],enumerable:!(E=re(i,a))||E.enumerable});return c};var ae=(c,i,l)=>(l=c!=null?ne(oe(c)):{},he(i||!c||!c.__esModule?ct(l,"default",{value:c,enumerable:!0}):l,c));var Z=(c,i,l)=>(le(c,typeof i!="symbol"?i+"":i,l),l);var It=dt((St,vt)=>{(function(c){var i=Object.hasOwnProperty,l=Array.isArray?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},E=10,a=typeof process=="object"&&typeof process.nextTick=="function",x=typeof Symbol=="function",m=typeof Reflect=="object",A=typeof setImmediate=="function",N=A?setImmediate:setTimeout,v=x?m&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(t){var e=Object.getOwnPropertyNames(t);return e.push.apply(e,Object.getOwnPropertySymbols(t)),e}:Object.keys;function S(){this._events={},this._conf&&I.call(this,this._conf)}function I(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners!==c&&(this._maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this._newListener=t.newListener),t.removeListener&&(this._removeListener=t.removeListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),t.ignoreErrors&&(this.ignoreErrors=t.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function w(t,e){var s="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(s+=" Event name: "+e+"."),typeof process<"u"&&process.emitWarning){var n=new Error(s);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=t,process.emitWarning(n)}else console.error(s),console.trace&&console.trace()}var D=function(t,e,s){var n=arguments.length;switch(n){case 0:return[];case 1:return[t];case 2:return[t,e];case 3:return[t,e,s];default:for(var r=new Array(n);n--;)r[n]=arguments[n];return r}};function Q(t,e){for(var s={},n,r=t.length,o=e?e.length:0,h=0;h<r;h++)n=t[h],s[n]=h<o?e[h]:c;return s}function H(t,e,s){this._emitter=t,this._target=e,this._listeners={},this._listenersCount=0;var n,r;if((s.on||s.off)&&(n=s.on,r=s.off),e.addEventListener?(n=e.addEventListener,r=e.removeEventListener):e.addListener?(n=e.addListener,r=e.removeListener):e.on&&(n=e.on,r=e.off),!n&&!r)throw Error("target does not implement any known event API");if(typeof n!="function")throw TypeError("on method must be a function");if(typeof r!="function")throw TypeError("off method must be a function");this._on=n,this._off=r;var o=t._observers;o?o.push(this):t._observers=[this]}Object.assign(H.prototype,{subscribe:function(t,e,s){var n=this,r=this._target,o=this._emitter,h=this._listeners,_=function(){var f=D.apply(null,arguments),u={data:f,name:e,original:t};if(s){var T=s.call(r,u);T!==!1&&o.emit.apply(o,[u.name].concat(f));return}o.emit.apply(o,[e].concat(f))};if(h[t])throw Error("Event '"+t+"' is already listening");this._listenersCount++,o._newListener&&o._removeListener&&!n._onNewListener?(this._onNewListener=function(f){f===e&&h[t]===null&&(h[t]=_,n._on.call(r,t,_))},o.on("newListener",this._onNewListener),this._onRemoveListener=function(f){f===e&&!o.hasListeners(f)&&h[t]&&(h[t]=null,n._off.call(r,t,_))},h[t]=null,o.on("removeListener",this._onRemoveListener)):(h[t]=_,n._on.call(r,t,_))},unsubscribe:function(t){var e=this,s=this._listeners,n=this._emitter,r,o,h=this._off,_=this._target,f;if(t&&typeof t!="string")throw TypeError("event must be a string");function u(){e._onNewListener&&(n.off("newListener",e._onNewListener),n.off("removeListener",e._onRemoveListener),e._onNewListener=null,e._onRemoveListener=null);var T=mt.call(n,e);n._observers.splice(T,1)}if(t){if(r=s[t],!r)return;h.call(_,t,r),delete s[t],--this._listenersCount||u()}else{for(o=v(s),f=o.length;f-- >0;)t=o[f],h.call(_,t,s[t]);this._listeners={},this._listenersCount=0,u()}}});function J(t,e,s,n){var r=Object.assign({},e);if(!t)return r;if(typeof t!="object")throw TypeError("options must be an object");var o=Object.keys(t),h=o.length,_,f,u;function T(O){throw Error('Invalid "'+_+'" option value'+(O?". Reason: "+O:""))}for(var P=0;P<h;P++){if(_=o[P],!n&&!i.call(e,_))throw Error('Unknown "'+_+'" option');f=t[_],f!==c&&(u=s[_],r[_]=u?u(f,T):f)}return r}function Tt(t,e){return(typeof t!="function"||!t.hasOwnProperty("prototype"))&&e("value must be a constructor"),t}function xt(t){var e="value must be type of "+t.join("|"),s=t.length,n=t[0],r=t[1];return s===1?function(o,h){if(typeof o===n)return o;h(e)}:s===2?function(o,h){var _=typeof o;if(_===n||_===r)return o;h(e)}:function(o,h){for(var _=typeof o,f=s;f-- >0;)if(_===t[f])return o;h(e)}}var et=xt(["function"]),qt=xt(["object","function"]);function pt(t,e,s){var n,r,o=0,h,_=new t(function(f,u,T){s=J(s,{timeout:0,overload:!1},{timeout:function(R,C){return R*=1,(typeof R!="number"||R<0||!Number.isFinite(R))&&C("timeout must be a positive number"),R}}),n=!s.overload&&typeof t.prototype.cancel=="function"&&typeof T=="function";function P(){r&&(r=null),o&&(clearTimeout(o),o=0)}var O=function(R){P(),f(R)},d=function(R){P(),u(R)};n?e(O,d,T):(r=[function(R){d(R||Error("canceled"))}],e(O,d,function(R){if(h)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof R!="function")throw TypeError("onCancel callback must be a function");r.push(R)}),h=!0),s.timeout>0&&(o=setTimeout(function(){var R=Error("timeout");R.code="ETIMEDOUT",o=0,_.cancel(R),u(R)},s.timeout))});return n||(_.cancel=function(f){if(r){for(var u=r.length,T=1;T<u;T++)r[T](f);r[0](f),r=null}}),_}function mt(t){var e=this._observers;if(!e)return-1;for(var s=e.length,n=0;n<s;n++)if(e[n]._target===t)return n;return-1}function b(t,e,s,n,r){if(!s)return null;if(n===0){var o=typeof e;if(o==="string"){var h,_,f=0,u=0,T=this.delimiter,P=T.length;if((_=e.indexOf(T))!==-1){h=new Array(5);do h[f++]=e.slice(u,_),u=_+P;while((_=e.indexOf(T,u))!==-1);h[f++]=e.slice(u),e=h,r=f}else e=[e],r=1}else o==="object"?r=e.length:(e=[e],r=1)}var O=null,d,R,C,rt,it,K=e[n],ot=e[n+1],Y,g;if(n===r)s._listeners&&(typeof s._listeners=="function"?(t&&t.push(s._listeners),O=[s]):(t&&t.push.apply(t,s._listeners),O=[s]));else if(K==="*"){for(Y=v(s),_=Y.length;_-- >0;)d=Y[_],d!=="_listeners"&&(g=b(t,e,s[d],n+1,r),g&&(O?O.push.apply(O,g):O=g));return O}else if(K==="**"){for(it=n+1===r||n+2===r&&ot==="*",it&&s._listeners&&(O=b(t,e,s,r,r)),Y=v(s),_=Y.length;_-- >0;)d=Y[_],d!=="_listeners"&&(d==="*"||d==="**"?(s[d]._listeners&&!it&&(g=b(t,e,s[d],r,r),g&&(O?O.push.apply(O,g):O=g)),g=b(t,e,s[d],n,r)):d===ot?g=b(t,e,s[d],n+2,r):g=b(t,e,s[d],n,r),g&&(O?O.push.apply(O,g):O=g));return O}else s[K]&&(O=b(t,e,s[K],n+1,r));if(R=s["*"],R&&b(t,e,R,n+1,r),C=s["**"],C)if(n<r)for(C._listeners&&b(t,e,C,r,r),Y=v(C),_=Y.length;_-- >0;)d=Y[_],d!=="_listeners"&&(d===ot?b(t,e,C[d],n+2,r):d===K?b(t,e,C[d],n+1,r):(rt={},rt[d]=C[d],b(t,e,{"**":rt},n+1,r)));else C._listeners?b(t,e,C,r,r):C["*"]&&C["*"]._listeners&&b(t,e,C["*"],r,r);return O}function $t(t,e,s){var n=0,r=0,o,h=this.delimiter,_=h.length,f;if(typeof t=="string")if((o=t.indexOf(h))!==-1){f=new Array(5);do f[n++]=t.slice(r,o),r=o+_;while((o=t.indexOf(h,r))!==-1);f[n++]=t.slice(r)}else f=[t],n=1;else f=t,n=t.length;if(n>1){for(o=0;o+1<n;o++)if(f[o]==="**"&&f[o+1]==="**")return}var u=this.listenerTree,T;for(o=0;o<n;o++)if(T=f[o],u=u[T]||(u[T]={}),o===n-1)return u._listeners?(typeof u._listeners=="function"&&(u._listeners=[u._listeners]),s?u._listeners.unshift(e):u._listeners.push(e),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,w.call(this,u._listeners.length,T))):u._listeners=e,!0;return!0}function At(t,e,s,n){for(var r=v(t),o=r.length,h,_,f,u=t._listeners,T;o-- >0;)_=r[o],h=t[_],_==="_listeners"?f=s:f=s?s.concat(_):[_],T=n||typeof _=="symbol",u&&e.push(T?f:f.join(this.delimiter)),typeof h=="object"&&At.call(this,h,e,f,T);return e}function st(t){for(var e=v(t),s=e.length,n,r,o;s-- >0;)r=e[s],n=t[r],n&&(o=!0,r!=="_listeners"&&!st(n)&&delete t[r]);return o}function Ot(t,e,s){this.emitter=t,this.event=e,this.listener=s}Ot.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function te(t,e,s){if(s===!0)r=!0;else if(s===!1)n=!0;else{if(!s||typeof s!="object")throw TypeError("options should be an object or true");var n=s.async,r=s.promisify,o=s.nextTick,h=s.objectify}if(n||o||r){var _=e,f=e._origin||e;if(o&&!a)throw Error("process.nextTick is not supported");r===c&&(r=e.constructor.name==="AsyncFunction"),e=function(){var u=arguments,T=this,P=this.event;return r?o?Promise.resolve():new Promise(function(O){N(O)}).then(function(){return T.event=P,_.apply(T,u)}):(o?process.nextTick:N)(function(){T.event=P,_.apply(T,u)})},e._async=!0,e._origin=f}return[e,h?new Ot(this,t,e):this]}function p(t){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,I.call(this,t)}p.EventEmitter2=p,p.prototype.listenTo=function(t,e,s){if(typeof t!="object")throw TypeError("target musts be an object");var n=this;s=J(s,{on:c,off:c,reducers:c},{on:et,off:et,reducers:qt});function r(o){if(typeof o!="object")throw TypeError("events must be an object");var h=s.reducers,_=mt.call(n,t),f;_===-1?f=new H(n,t,s):f=n._observers[_];for(var u=v(o),T=u.length,P,O=typeof h=="function",d=0;d<T;d++)P=u[d],f.subscribe(P,o[P]||P,O?h:h&&h[P])}return l(e)?r(Q(e)):r(typeof e=="string"?Q(e.split(/\s+/)):e),this},p.prototype.stopListeningTo=function(t,e){var s=this._observers;if(!s)return!1;var n=s.length,r,o=!1;if(t&&typeof t!="object")throw TypeError("target should be an object");for(;n-- >0;)r=s[n],(!t||r._target===t)&&(r.unsubscribe(e),o=!0);return o},p.prototype.delimiter=".",p.prototype.setMaxListeners=function(t){t!==c&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},p.prototype.getMaxListeners=function(){return this._maxListeners},p.prototype.event="",p.prototype.once=function(t,e,s){return this._once(t,e,!1,s)},p.prototype.prependOnceListener=function(t,e,s){return this._once(t,e,!0,s)},p.prototype._once=function(t,e,s,n){return this._many(t,1,e,s,n)},p.prototype.many=function(t,e,s,n){return this._many(t,e,s,!1,n)},p.prototype.prependMany=function(t,e,s,n){return this._many(t,e,s,!0,n)},p.prototype._many=function(t,e,s,n,r){var o=this;if(typeof s!="function")throw new Error("many only accepts instances of Function");function h(){return--e===0&&o.off(t,h),s.apply(this,arguments)}return h._origin=s,this._on(t,h,n,r)},p.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||S.call(this);var t=arguments[0],e,s=this.wildcard,n,r,o,h,_;if(t==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(s&&(e=t,t!=="newListener"&&t!=="removeListener"&&typeof t=="object")){if(r=t.length,x){for(o=0;o<r;o++)if(typeof t[o]=="symbol"){_=!0;break}}_||(t=t.join(this.delimiter))}var f=arguments.length,u;if(this._all&&this._all.length)for(u=this._all.slice(),o=0,r=u.length;o<r;o++)switch(this.event=t,f){case 1:u[o].call(this,t);break;case 2:u[o].call(this,t,arguments[1]);break;case 3:u[o].call(this,t,arguments[1],arguments[2]);break;default:u[o].apply(this,arguments)}if(s)u=[],b.call(this,u,e,this.listenerTree,0,r);else if(u=this._events[t],typeof u=="function"){switch(this.event=t,f){case 1:u.call(this);break;case 2:u.call(this,arguments[1]);break;case 3:u.call(this,arguments[1],arguments[2]);break;default:for(n=new Array(f-1),h=1;h<f;h++)n[h-1]=arguments[h];u.apply(this,n)}return!0}else u&&(u=u.slice());if(u&&u.length){if(f>3)for(n=new Array(f-1),h=1;h<f;h++)n[h-1]=arguments[h];for(o=0,r=u.length;o<r;o++)switch(this.event=t,f){case 1:u[o].call(this);break;case 2:u[o].call(this,arguments[1]);break;case 3:u[o].call(this,arguments[1],arguments[2]);break;default:u[o].apply(this,n)}return!0}else if(!this.ignoreErrors&&!this._all&&t==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},p.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||S.call(this);var t=arguments[0],e=this.wildcard,s,n,r,o,h,_;if(t==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(e&&(s=t,t!=="newListener"&&t!=="removeListener"&&typeof t=="object")){if(o=t.length,x){for(h=0;h<o;h++)if(typeof t[h]=="symbol"){n=!0;break}}n||(t=t.join(this.delimiter))}var f=[],u=arguments.length,T;if(this._all)for(h=0,o=this._all.length;h<o;h++)switch(this.event=t,u){case 1:f.push(this._all[h].call(this,t));break;case 2:f.push(this._all[h].call(this,t,arguments[1]));break;case 3:f.push(this._all[h].call(this,t,arguments[1],arguments[2]));break;default:f.push(this._all[h].apply(this,arguments))}if(e?(T=[],b.call(this,T,s,this.listenerTree,0)):T=this._events[t],typeof T=="function")switch(this.event=t,u){case 1:f.push(T.call(this));break;case 2:f.push(T.call(this,arguments[1]));break;case 3:f.push(T.call(this,arguments[1],arguments[2]));break;default:for(r=new Array(u-1),_=1;_<u;_++)r[_-1]=arguments[_];f.push(T.apply(this,r))}else if(T&&T.length){if(T=T.slice(),u>3)for(r=new Array(u-1),_=1;_<u;_++)r[_-1]=arguments[_];for(h=0,o=T.length;h<o;h++)switch(this.event=t,u){case 1:f.push(T[h].call(this));break;case 2:f.push(T[h].call(this,arguments[1]));break;case 3:f.push(T[h].call(this,arguments[1],arguments[2]));break;default:f.push(T[h].apply(this,r))}}else if(!this.ignoreErrors&&!this._all&&t==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(f)},p.prototype.on=function(t,e,s){return this._on(t,e,!1,s)},p.prototype.prependListener=function(t,e,s){return this._on(t,e,!0,s)},p.prototype.onAny=function(t){return this._onAny(t,!1)},p.prototype.prependAny=function(t){return this._onAny(t,!0)},p.prototype.addListener=p.prototype.on,p.prototype._onAny=function(t,e){if(typeof t!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},p.prototype._on=function(t,e,s,n){if(typeof t=="function")return this._onAny(t,e),this;if(typeof e!="function")throw new Error("on only accepts instances of Function");this._events||S.call(this);var r=this,o;return n!==c&&(o=te.call(this,t,e,n),e=o[0],r=o[1]),this._newListener&&this.emit("newListener",t,e),this.wildcard?($t.call(this,t,e,s),r):(this._events[t]?(typeof this._events[t]=="function"&&(this._events[t]=[this._events[t]]),s?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,w.call(this,this._events[t].length,t))):this._events[t]=e,r)},p.prototype.off=function(t,e){if(typeof e!="function")throw new Error("removeListener only takes instances of Function");var s,n=[];if(this.wildcard){var r=typeof t=="string"?t.split(this.delimiter):t.slice();if(n=b.call(this,null,r,this.listenerTree,0),!n)return this}else{if(!this._events[t])return this;s=this._events[t],n.push({_listeners:s})}for(var o=0;o<n.length;o++){var h=n[o];if(s=h._listeners,l(s)){for(var _=-1,f=0,u=s.length;f<u;f++)if(s[f]===e||s[f].listener&&s[f].listener===e||s[f]._origin&&s[f]._origin===e){_=f;break}if(_<0)continue;return this.wildcard?h._listeners.splice(_,1):this._events[t].splice(_,1),s.length===0&&(this.wildcard?delete h._listeners:delete this._events[t]),this._removeListener&&this.emit("removeListener",t,e),this}else(s===e||s.listener&&s.listener===e||s._origin&&s._origin===e)&&(this.wildcard?delete h._listeners:delete this._events[t],this._removeListener&&this.emit("removeListener",t,e))}return this.listenerTree&&st(this.listenerTree),this},p.prototype.offAny=function(t){var e=0,s=0,n;if(t&&this._all&&this._all.length>0){for(n=this._all,e=0,s=n.length;e<s;e++)if(t===n[e])return n.splice(e,1),this._removeListener&&this.emit("removeListenerAny",t),this}else{if(n=this._all,this._removeListener)for(e=0,s=n.length;e<s;e++)this.emit("removeListenerAny",n[e]);this._all=[]}return this},p.prototype.removeListener=p.prototype.off,p.prototype.removeAllListeners=function(t){if(t===c)return!this._events||S.call(this),this;if(this.wildcard){var e=b.call(this,null,t,this.listenerTree,0),s,n;if(!e)return this;for(n=0;n<e.length;n++)s=e[n],s._listeners=null;this.listenerTree&&st(this.listenerTree)}else this._events&&(this._events[t]=null);return this},p.prototype.listeners=function(t){var e=this._events,s,n,r,o,h;if(t===c){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!e)return[];for(s=v(e),o=s.length,r=[];o-- >0;)n=e[s[o]],typeof n=="function"?r.push(n):r.push.apply(r,n);return r}else{if(this.wildcard){if(h=this.listenerTree,!h)return[];var _=[],f=typeof t=="string"?t.split(this.delimiter):t.slice();return b.call(this,_,f,h,0),_}return e?(n=e[t],n?typeof n=="function"?[n]:n:[]):[]}},p.prototype.eventNames=function(t){var e=this._events;return this.wildcard?At.call(this,this.listenerTree,[],null,t):e?v(e):[]},p.prototype.listenerCount=function(t){return this.listeners(t).length},p.prototype.hasListeners=function(t){if(this.wildcard){var e=[],s=typeof t=="string"?t.split(this.delimiter):t.slice();return b.call(this,e,s,this.listenerTree,0),e.length>0}var n=this._events,r=this._all;return!!(r&&r.length||n&&(t===c?v(n).length:n[t]))},p.prototype.listenersAny=function(){return this._all?this._all:[]},p.prototype.waitFor=function(t,e){var s=this,n=typeof e;return n==="number"?e={timeout:e}:n==="function"&&(e={filter:e}),e=J(e,{timeout:0,filter:c,handleError:!1,Promise,overload:!1},{filter:et,Promise:Tt}),pt(e.Promise,function(r,o,h){function _(){var f=e.filter;if(!(f&&!f.apply(s,arguments)))if(s.off(t,_),e.handleError){var u=arguments[0];u?o(u):r(D.apply(null,arguments).slice(1))}else r(D.apply(null,arguments))}h(function(){s.off(t,_)}),s._on(t,_,!1)},{timeout:e.timeout,overload:e.overload})};function ee(t,e,s){s=J(s,{Promise,timeout:0,overload:!1},{Promise:Tt});var n=s.Promise;return pt(n,function(r,o,h){var _;if(typeof t.addEventListener=="function"){_=function(){r(D.apply(null,arguments))},h(function(){t.removeEventListener(e,_)}),t.addEventListener(e,_,{once:!0});return}var f=function(){u&&t.removeListener("error",u),r(D.apply(null,arguments))},u;e!=="error"&&(u=function(T){t.removeListener(e,f),o(T)},t.once("error",u)),h(function(){u&&t.removeListener("error",u),t.removeListener(e,f)}),t.once(e,f)},{timeout:s.timeout,overload:s.overload})}var nt=p.prototype;if(Object.defineProperties(p,{defaultMaxListeners:{get:function(){return nt._maxListeners},set:function(t){if(typeof t!="number"||t<0||Number.isNaN(t))throw TypeError("n must be a non-negative number");nt._maxListeners=t},enumerable:!0},once:{value:ee,writable:!0,configurable:!0}}),Object.defineProperties(nt,{_maxListeners:{value:E,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return p});else if(typeof St=="object")vt.exports=p;else{var se=new Function("","return this")();se.EventEmitter2=p}})()});var Nt=dt((ir,Rt)=>{Rt.exports=It()});var Zt=ae(Nt(),1);var fe="as",ue="=",_e="break",Ee="else",Te="enum",xe="export",pe="if",me="import",Ae="->",Oe="is",de="loop",Se="mut",ve="native",Ie="object",Re="fn",Ne="return",be="self",Le="template",Pe=Object.freeze({ALIAS:fe,ASSIGN:ue,BREAK:_e,ELSE:Ee,ENUMERATION:Te,EXPORT:xe,IF:pe,IMPORT:me,INTO:Ae,IS:Oe,LOOP:de,MUTABLE:Se,NATIVE:ve,OBJECT:Ie,PROCEDURE:Re,RETURN:Ne,SELF:be,TEMPLATE:Le}),bt=Pe;var Ce="assign",ge="arity_match",we="arity_status",Be="array_assignment",Ye="branch-match",Me="branch-default",De="condition",Ue="loop",ye="data",ke="generics",je="enumeration",Fe="expression",Ge="instance",He="Link",Ke="local",Ze="object",Xe="procedure",ze="return",Ve="compare",We="select",Qe="member",Je="store",qe="break",$e="literal",ts="array_access",es="valueLink",ss="linkValue",ns="self",rs="procedure-call",is="Maybe",os="native",cs="move",ls="String",hs="Array",as="import",fs="library",us="constructor",_s="destructor",Es="free",Ts="block-end",xs="default-block",ps="continue",ms="branch",As="statement",Os="draw",ds="now",Ss="size",vs="concatenation",Is="foreach",Rs="while",Ns="when",bs="while-condition",Ls="foreach-condition",Ps="foreach-end",Cs="for",gs="up_to",ws="down_to",Bs="almost_up_to",Ys="almost_down_to",Ms="I32",Ds="U32",Us="FP32",ys="I16",ks="U16",js="U8",Fs="I8",Gs="FP64",Hs="U64",Ks="I64",Zs="Char",Xs="block-start",zs="function-call",Vs="Bool",Ws=Object.freeze({TYPES_ASSIGN:Ce,TYPES_ARRAY:hs,TYPES_ARITY_MATCH:ge,TYPES_ARITY_STATUS:we,TYPES_ARRAY_ASSIGNMENT:Be,TYPES_BRANCH_MATCH:Ye,TYPES_BRANCH_DEFAULT:Me,TYPES_CONDITION:De,TYPES_LOOP:Ue,TYPES_FOREACH_END:Ps,TYPES_WHILE_CONDITION:bs,TYPES_FOREACH_CONDITION:Ls,TYPES_DATA:ye,TYPES_COMPARE:Ve,TYPES_GENERICS:ke,TYPES_ENUMERATION:je,TYPES_EXPRESSION:Fe,TYPES_INSTANCE:Ge,TYPES_LINK:He,TYPES_IMPORT:as,TYPES_LOCAL:Ke,TYPES_OBJECT:Ze,TYPES_PROCEDURE:Xe,TYPES_RETURN:ze,TYPES_SELECT:We,TYPES_MEMBER:Qe,TYPES_STORE:Je,TYPES_BREAK:qe,TYPES_LITERAL:$e,TYPES_ARRAY_ACCESS:ts,TYPES_LINK_TO:es,TYPES_VALUE_AT:ss,TYPES_SELF:ns,TYPES_LIBRARY:fs,TYPES_DROP:rs,TYPES_MAYBE:is,TYPES_NATIVE:os,TYPES_MOVE:cs,TYPES_STRING:ls,TYPES_CONSTRUCTOR:us,TYPES_FREE:Es,TYPES_DEFAULT_BLOCK:xs,TYPES_BLOCK_END:Ts,TYPES_CONTINUE:ps,TYPES_BRANCH:ms,TYPES_STATEMENT:As,TYPES_DESTRUCTOR:_s,TYPES_DRAW:Os,TYPES_NOW:ds,TYPES_SIZE:Ss,TYPES_CONCAT:vs,TYPES_FOREACH:Is,TYPES_WHILE:Rs,TYPES_WHEN:Ns,TYPES_FOR:Cs,TYPES_UP_TO:gs,TYPES_DOWN_TO:ws,TYPES_ALMOST_UP_TO:Bs,TYPES_ALMOST_DOWN_TO:Ys,TYPES_I32:Ms,TYPES_FP32:Us,TYPES_FP64:Gs,TYPES_U32:Ds,TYPES_I64:Ks,TYPES_U64:Hs,TYPES_I16:ys,TYPES_U16:ks,TYPES_I8:Fs,TYPES_U8:js,TYPES_CHAR:Zs,TYPES_BOOL:Vs,TYPES_BLOCK_BEGIN:Xs,TYPES_FUNCTION_CALL:zs}),Lt=Ws;var Qs=Object.freeze({COLON:58,COMMA:44,DIGIT_ZERO:48,DIGIT_NINE:57,DOT:46,HASHTAG:35,HORIZONTAL_TAB:9,HYPHEN_MINUS:45,LEFT_CURLY_BRACKET:123,LEFT_PARENTHESIS:40,LEFT_SQUARE_BRACKET:91,LINE_BREAK:10,NULL:0,PLUS_SIGN:43,RIGHT_CURLY_BRACKET:125,RIGHT_PARENTHESIS:41,RIGHT_SQUARE_BRACKET:93,SEMICOLON:59,SPACE:32,E_SIGN:101}),Pt=Qs;var Js="assignment",qs="Flogram",$s=Object.freeze({K_ASSIGNMENT:Js,K_FLOGRAM:qs}),Ct=$s;var tn=Object.freeze([[43],[45],[42],[47],[37],[110,111,116],[60],[62],[94],[111,114],[33],[61,61],[60,61],[62,61],[33,61],[120,111,114],[97,110,100]]),en=tn,gt=en;var sn=Object.freeze({INT_ARRAY_START:9999991,FLOAT_ARRAY_START:9999981,STRING_START:8888891,CHAR_START:8888881,NAT_ON_HORIZON:7777791,BIG_NAT_ON_HORIZON:7777591,FLOAT_ON_HORIZON:7777771,BIG_FLOAT_ON_HORIZON:7777731,END_OF_LINE:66666661}),wt=sn;var nn=Object.freeze({ENUM_MEMORY_SIZE:12,ENUM_STACK_SIZE:3,ARRAY_MEMORY_SIZE:12,ARRAY_STACK_SIZE:3,ARRAY_DEFAULT_CAPACITY:4,STRING_MEMORY_SIZE:8,STRING_STACK_SIZE:2,OBJECT_MEMORY_SIZE:8,OBJECT_STACK_SIZE:2,NATIVE_MEMORY_SIZE:4,NATIVE_STACK_SIZE:1,NATIVE_SIZE:4,STEP:4,DOUBLE_STEP:8,TRIPPLE_STEP:12}),Bt=nn;var rn=Object.freeze([]),on=Object.freeze({}),cn="",ln="	",hn=`
`,an="UTF-8";var fn=Object.freeze({EMPTY_ARRAY:rn,EMPTY_OBJECT:on,EMPTY_STRING:cn,HORIZONTAL_TAB:ln,LINE_BREAK:hn,UNICODE_TEXT:an,Codes:Pt,Keys:bt,Types:Lt,Keywords:Ct,Operators:gt,DrawStates:wt,Sizes:Bt}),y=fn;var dr=Object.freeze(["FP64","U64","I64","FP32","U32","I32","U16","I16","U8","I8","Bool","Char","Array","String","Link","Maybe"]),k=["U8","U16","U32"],X=[...k,"I8","I16","I32"],un=["I64","U64"],lt=[...X,...un],_n=["FP32","FP64"],z=[...lt,..._n];var{EMPTY_STRING:En,UNICODE_TEXT:ut}=y;var Tn=48,xn=57,pn=46,Yt=45,Mt=43,mn=65,An=90,On="e".charCodeAt(0),dn="E".charCodeAt(0),Sn=-1,vn=1,Dt=new TextDecoder(ut),In=new TextEncoder,Rn=y.Operators,Nn=(c,i,l=0,E=c.length|0,a=0,x=i.length|0)=>{for(a=a|0,l=l|0,x=x|0,E=E|0;;){let m=l>=E,A=a>=x;if(m||A)break;let v=c[l],S=i[a];if(l=l+1|0,a=a+1|0,v<S)return Sn;if(v>S)return vn}return 0},bn=(c,i,l=0,E=c.length|0,a=0,x=i.length|0)=>{for(a=a|0,l=l|0,x=x|0,E=E|0;;){let m=a>=x,A=l>=E;if(m||A)break;i[a]=c[l],a=a+1|0,l=l+1|0}},kt=(c,i,l=0,E=c.length|0,a=0,x=i.length|0)=>{l=l|0,a=a|0,E=E|0,x=x|0;let m=E-l|0,A=x-a|0;if(m!==A)return!1;for(;;){let N=l>=E,v=a>=x;if(N||v)break;let I=c[l],w=i[a];if(l=l+1|0,a=a+1|0,I!==w)return!1}return!0},Ln=c=>{c=c>>>0;let i=0,l=0;for(;l=(l<<1|1)>>>0,!(l>c);)i=i+1|0;return i},jt=Object.freeze([48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102]),ft=(c,i,l,E)=>{for(c=c>>>0,E=E??i.length|0,l=l|0,E=E|0;c>0&&E>l;)E=E-1|0,i[E]=jt[c&15],c=c>>>4},Pn=(c,i,l,E)=>{let a=l|0,x=l+E|0;if(E===0)return!1;let m=!1,A=!1,N=!1,v=S=>S===Mt||S===Yt;for(;a<x;){let S=i[a];a=a+1|0;let I=Tn<=S&&S<=xn,w=Mt===S||S===Yt,D=pn===S,Q=Fn===S,H=S===On||S===dn;if(I){N=!0;continue}else if(w){if((a===l+1||m&&!A)&&!N)continue}else if((Q||D)&&!m&&!A||H&&!m)H&&(m=!0,a<x&&v(i[a])&&(a=a+1|0,A=!0));else return!1}return N&&(!m||m&&A)},Cn={I8:[...X],U8:[...k],I16:[...X],U16:[...k],I32:[...X],U32:[...k],I64:[...lt],U64:[...k],FP32:z,FP64:z},gn=(c,i)=>!z.includes(c)||!z.includes(i)?!1:Cn[c].includes(i),wn=c=>{let i=c>=mn,l=c<=An;return i&&l},$=128,tt=127,Ft=-1,j=64,_t=c=>{c=c|0;let i=[];for(;;){let l=c&tt;c=c>>7;let E=c===0,a=(l&j)===0,x=E&&a,m=c===-1,A=(l&j)!==0;if(x||m&&A){i.push(l);break}l=l|$,i.push(l)}return i},Bn=c=>{let i=[],l=!0;for(;l;){let E=c&tt;c>>=7,c===0&&!(E&j)||c===-1&&E&j?l=!1:E|=$,i.push(E)}return i},Gt=(c,i)=>{i=i|0;let l=0,E=0;for(;;){let a=c[i]|0;i=i+1|0;let x=(a&tt)<<E;if(E=E+7|0,l=l|x,(a&$)===0){let A=(a&j)!==0,N=E<32;if(A&&N){let S=Ft<<E;l=l|S}break}}return l},Yn=(c,i)=>{i=i|0;let l=0,E=0;for(;;){let a=c[i]|0;i=i+1|0;let x=(a&tt)<<E;if(E=E+7|0,l=l|x,!(a&$)){if(a&j){let m=Ft<<E;l=l|m}break}}return l},Mn=c=>{try{return Dt.decode(c)}catch{return Dt.decode(new Uint8Array([c]))}},Dn=c=>In.encode(c),Un=(c=En)=>{let i=c.length|0,l=_t(i),E=Buffer.from(c,ut);return Object.freeze([...l,...E])},yn=(c,i)=>{i=i|0;let l=Gt(c,i),E=_t(l).length;return i=i+E|0,c.subarray(i,i+l|0).toString(ut)},kn=58,jn=46,Fn=95,V=32,ht=48,Gn=67,M=new Uint8Array(Gn),Ut=M.subarray(0,8),q=M.subarray(10,49),yt=M.subarray(51,68),at=16,Hn=2;M[8]=kn;M[9]=V;M[49]=V;M[50]=V;var Kn=(c,i)=>{i=i??console.log;let l=32,E=126,a=c.length|0,x=0;for(;a>0;){Ut.fill(ht),ft(x,Ut),q.fill(V),yt.fill(V);let m=a>=at?at:a;a=a-at|0;let A=0,N=0;for(let S=1;S<=m;S=S+1|0){let I=c[x]&255;q[A+0|0]=ht,q[A+1|0]=ht,ft(I,q,A,A+2|0);let w=jn;l<=I&&I<=E&&(w=I),yt[N]=w,x=x+1|0,A=A+2|0,N=N+1|0,S%Hn===0&&(A=A+1|0)}let v=String.fromCodePoint(...M);i(v)}},Zn=function*(c,i){let l=c.length|0,E=i.length|0,a=0;for(;a<l&&a<E;){let x=c[a],m=i[a];yield[x,m],a=a+1|0}},Xn=function*(c,i,l){let E=c.length|0,a=i.length|0,x=l.length|0,m=0;for(;m<E&&m<a&&m<x;){let A=c[m],N=i[m],v=l[m];yield[A,N,v],m=m+1|0}},zn=c=>{for(let i of Rn)if(kt(c,i))return!0;return!1},Vn=Object.freeze({ARRAY_COMPARE:Nn,ARRAY_COPY:bn,ARRAY_EQUAL:kt,BIT_DEPTH:Ln,HEX_DIGITS:jt,HEX_ENCODE:ft,IS_NUMBER:Pn,IS_UPPERCASE:wn,IS_VALID_AUTO_CAST:gn,LEB128_DECODE:Gt,LEB128_DECODE_SIGNED:Yn,LEB128_ENCODE:_t,LEB128_ENCODE_SIGNED:Bn,UTF8_DECODE:Mn,UTF8_ENCODE:Dn,WASM_STRING_ENCODE:Un,WASM_STRING_DECODE:yn,XXD_DUMP_HEX:Kn,ZIP2:Zn,ZIP3:Xn,IS_OPERATOR:zn}),Ht=Vn;var{Codes:L}=y,{EMPTY_STRING:Cr}=y,{ARRAY_COPY:Wn}=Ht,Qn=Object.freeze({tabSize:4}),Xt=new Set([40,41,91,93,123,125,46,44,58,59,64,61,47]);Object.freeze(Xt);var zt=new Set([46,95]);Object.freeze(zt);var Vt=new Set([34,39]),Wt=new Set([61,33,62,60]);Object.freeze(Wt);var Qt=new Set([43,45,42,47,37]);Object.freeze(Qt);var Kt=61,Jn=58,qn=64,$n=47,tr=45,er=62,sr=33;Object.freeze(Vt);var Jt=new Set([9,13,32]);Object.freeze(Jt);var W=1,F=2,Et=3,G=4,nr=(c,i,l)=>{if(i=i|0,l=l|0,(l-i|0)===0)return!1;let a=c[i];for((a===L.PLUS_SIGN||a===L.HYPHEN_MINUS)&&(i=i+1|0);i<l;){let x=c[i];i=i+1|0;let m=L.DIGIT_ZERO<=x&&x<=L.DIGIT_NINE,A=L.DOT===x||L.COMMA===x;if(!(m||A&&i<l&&L.DIGIT_ZERO<=c[i]&&c[i]<=L.DIGIT_NINE))return!1}return!0},U=class{constructor(i=Qn){this.options=i,this.numberMark=!1,this.position=0,this.array=new Uint8Array(U.LIMIT_ARRAY),this.target=0,this.length=0,this.indexA=0,this.indexB=0,this.events=new Map,this.emitter=new Zt.default,this.emitter.on("token",(l,E,a,x)=>{(this.events.get("token")||[]).forEach(A=>{A(l,E,a,x)})}),this.emitter.on("error",()=>{}),this.comment=!1,this.situation=W,this.quote=L.NULL,Object.seal(this)}on(i,l){if(U.SET_EVENTS.has(i)){let E=this.events.get(i)||[];E.push(l),this.events.set(i,E)}}feed(i){let l=i.length|0,E=0,a=0,x=l;for(;x>0;){let m=U.LIMIT_ARRAY-this.length|0,A=Math.min(m,x)|0;x=x-A|0,a=a+A|0,Wn(i,this.array,E,a,this.target),this.length=this.length+A|0,this.flush(),E=E+A|0}}done(){this.array[this.indexB]=L.SPACE,this.length=this.length+1,this.flush()}flush(){for(;this.indexB<this.length;)switch(this.situation){case W:{this.flushTopLevel();break}case F:{this.flushQuotation();break}case Et:{this.flushComment();break}}let i=this.length-this.indexA|0;i>U.LIMIT_TOKEN||(i>0&&(this.array.copyWithin(0,this.indexA,this.indexB),this.indexA=0,this.indexB=i,this.target=i),this.length=i)}flushComment(){for(;this.indexB<this.length;){if((this.array[this.indexB]|0)===L.LINE_BREAK){this.drain("comment"),this.indexB=this.indexB+1|0,this.drain("token"),this.comment=!1,this.situation=W;break}this.indexB=this.indexB+1|0}this.comment===!0&&(this.length-this.indexA|0)>0&&this.drain("comment")}flushQuotation(){for(;this.indexB<this.length;){let i=this.array[this.indexB]|0;if(i===this.quote){if(this.situation!==G){this.drain("token"),this.quote=L.NULL,this.indexA=this.indexB,this.indexB++,this.drain("token"),this.indexA=this.indexB,this.situation=W;return}this.indexB++;continue}if(this.situation===F&&i===L.LEFT_CURLY_BRACKET){this.drain("token"),this.indexB++,this.indexA=this.indexB-1,this.drain("token"),this.indexA=this.indexB,this.situation=G;continue}if(this.situation===G&&i===L.RIGHT_CURLY_BRACKET){this.drain("token"),this.indexB++,this.indexA=this.indexB-1,this.drain("token"),this.indexA=this.indexB,this.situation=F;continue}if(this.situation===G){this.flushTopLevel();continue}this.indexB++}}flushTopLevel(){let{options:i}=this,{tabSize:l}=i;for(;this.indexB<this.length;){let E=()=>{let I=0;this.numberMark&&(this.indexB=this.indexB-1|0),I=this.indexB-this.indexA|0,I>0&&this.drain("token"),this.numberMark&&(this.indexB=this.indexB+1|0),I=this.indexB-this.indexA|0,I>0&&this.drain("token"),this.numberMark=!1},a=this.array[this.indexB]|0;if(a===L.RIGHT_CURLY_BRACKET&&this.situation===G){E(),this.indexB=this.indexB+1|0,this.drain("token"),this.situation=F;return}if(a===L.HASHTAG){E(),this.indexB=this.indexB+1|0,this.drain("token"),this.comment=!0,this.situation=Et;return}if(a===L.LINE_BREAK){E(),this.indexB=this.indexB+1|0,this.drain("token");continue}if(Vt.has(a)){E(),this.indexB=this.indexB+1|0,this.drain("token"),this.quote=a,this.situation=F;return}if(Wt.has(a)){if(this.array[this.indexB+1]===Kt){E(),this.indexB=this.indexB+2|0,this.drain("token");continue}if(a!=sr){E(),this.indexB=this.indexB+1|0,this.drain("token");continue}}if(a===qn&&this.array[this.indexB+1]===$n){E(),this.indexB=this.indexB+2|0,this.drain("token");continue}if(a===Jn&&this.array[this.indexB+1]===Kt){E(),this.indexB=this.indexB+2|0,this.drain("token");continue}if(Jt.has(a)){E(),a===L.HORIZONTAL_TAB?this.position=this.position+l|0:this.position=this.position+1|0,this.indexA=this.indexA+1|0,this.indexB=this.indexB+1|0;continue}if(this.numberMark=!1,Xt.has(a)){let I=!nr(this.array,this.indexA,this.indexB),w=!zt.has(a);if(I||w){E(),this.indexB=this.indexB+1|0,this.drain("token");continue}this.numberMark=!0}if(Qt.has(a))if(a===tr){let I=this.array[this.indexB+1]|0;if(I===er){E(),this.indexB=this.indexB+2|0,this.drain("token");continue}else if(!(L.DIGIT_ZERO<=I&&I<=L.DIGIT_NINE)){E(),this.indexB=this.indexB+1|0,this.drain("token");continue}}else{E(),this.indexB=this.indexB+1|0,this.drain("token");continue}this.indexB=this.indexB+1|0}}drain(i){let{array:l,position:E}=this,a=this.indexB-this.indexA|0,x=this.indexA;this.emitter.emit(i,E,l,x,a),this.position=this.position+a|0,this.indexA=this.indexB|0}close(){}},B=U;Z(B,"LIMIT_TOKEN",2e3),Z(B,"LIMIT_ARRAY",U.LIMIT_TOKEN*2|0),Z(B,"SET_EVENTS",new Set(["comment","error","token"])),Z(B,"SET_SITUATIONS",new Set([W,F,Et,G]));Object.values(B).forEach(Object.freeze);Object.freeze(B);Object.freeze(Object.getPrototypeOf(B));var gr=B;export{gr as default};
/*! Bundled license information:

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)
*/
